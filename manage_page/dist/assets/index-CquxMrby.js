const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-B6FY0bZm.js","assets/if-defined-BNoSNjAJ.js","assets/index-BbghI4yM.js","assets/index-CYJxvJEm.js","assets/ref-D0P0v7LF.js","assets/index-Cs0DSOg_.js","assets/index-gFpLgQ3q.js","assets/index-VdWvvmeE.js","assets/index-C2x3pYr2.js","assets/index-EKSwyORU.js","assets/index-BdTvtpXP.js","assets/index-D224pLQV.js","assets/email-Dau91iKB.js","assets/index-C18OCWKL.js","assets/socials-zmTid4fk.js","assets/index-C1y1fkgS.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-CGEM9TWa.js","assets/index-BTSf6hue.js","assets/index-BTjNkq2H.js","assets/index-BIsdG1x2.js","assets/swaps-D7MntJyb.js","assets/index-Cbeg3Ulw.js","assets/index-iaaX-Q3A.js","assets/index-CcORkwwj.js","assets/send-CTzl70G2.js","assets/index-wU9aKs8Q.js","assets/index-CsA3bYqy.js","assets/receive-CDrcJUeS.js","assets/index-BneWCtm_.js","assets/onramp-ix9A6NUW.js","assets/index-BvMQvGMK.js","assets/index-BWvQ3s9l.js","assets/index-CExLi6YZ.js","assets/transactions-BL-3IVcS.js","assets/index-BVhm_t1m.js","assets/index-CAmk5v5d.js","assets/index-DPO_qmSm.js","assets/index-Duiu80X9.js","assets/index-BWythYxq.js","assets/w3m-modal-BEXzeXV9.js"])))=>i.map(i=>d[i]);
var B8=t=>{throw TypeError(t)};var Lb=(t,e,n)=>e.has(t)||B8("Cannot "+n);var F=(t,e,n)=>(Lb(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?B8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(Lb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(Lb(t,e,"access private method"),n);var Ep=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return F(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TS(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var jb={exports:{}},Gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8;function TR(){if(L8)return Gu;L8=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var l in s)l!=="key"&&(a[l]=s[l])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:a}}return Gu.Fragment=e,Gu.jsx=n,Gu.jsxs=n,Gu}var j8;function NR(){return j8||(j8=1,jb.exports=TR()),jb.exports}var et=NR(),zb={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z8;function OR(){if(z8)return We;z8=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,v={};function _(D,K,te){this.props=D,this.context=K,this.refs=v,this.updater=te||w}_.prototype.isReactComponent={},_.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=_.prototype;function S(D,K,te){this.props=D,this.context=K,this.refs=v,this.updater=te||w}var I=S.prototype=new T;I.constructor=S,E(I,_.prototype),I.isPureReactComponent=!0;var x=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function R(D,K,te,ne,re,le){return te=le.ref,{$$typeof:t,type:D,key:K,ref:te!==void 0?te:null,props:le}}function k(D,K){return R(D.type,K,void 0,void 0,void 0,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function z(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return K[te]})}var H=/\/+/g;function X(D,K){return typeof D=="object"&&D!==null&&D.key!=null?z(""+D.key):K.toString(36)}function ie(){}function W(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ie,ie):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,K,te,ne,re){var le=typeof D;(le==="undefined"||le==="boolean")&&(D=null);var he=!1;if(D===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(D.$$typeof){case t:case e:he=!0;break;case p:return he=D._init,U(he(D._payload),K,te,ne,re)}}if(he)return re=re(D),he=ne===""?"."+X(D,0):ne,x(re)?(te="",he!=null&&(te=he.replace(H,"$&/")+"/"),U(re,K,te,"",function(Ge){return Ge})):re!=null&&(M(re)&&(re=k(re,te+(re.key==null||D&&D.key===re.key?"":(""+re.key).replace(H,"$&/")+"/")+he)),K.push(re)),1;he=0;var Ke=ne===""?".":ne+":";if(x(D))for(var Ie=0;Ie<D.length;Ie++)ne=D[Ie],le=Ke+X(ne,Ie),he+=U(ne,K,te,le,re);else if(Ie=b(D),typeof Ie=="function")for(D=Ie.call(D),Ie=0;!(ne=D.next()).done;)ne=ne.value,le=Ke+X(ne,Ie++),he+=U(ne,K,te,le,re);else if(le==="object"){if(typeof D.then=="function")return U(W(D),K,te,ne,re);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return he}function O(D,K,te){if(D==null)return D;var ne=[],re=0;return U(D,ne,"","",function(le){return K.call(te,le,re++)}),ne}function B(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var q=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function G(){}return We.Children={map:O,forEach:function(D,K,te){O(D,function(){K.apply(this,arguments)},te)},count:function(D){var K=0;return O(D,function(){K++}),K},toArray:function(D){return O(D,function(K){return K})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},We.Component=_,We.Fragment=n,We.Profiler=s,We.PureComponent=S,We.StrictMode=r,We.Suspense=u,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,We.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},We.cache=function(D){return function(){return D.apply(null,arguments)}},We.cloneElement=function(D,K,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=E({},D.props),re=D.key,le=void 0;if(K!=null)for(he in K.ref!==void 0&&(le=void 0),K.key!==void 0&&(re=""+K.key),K)!A.call(K,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&K.ref===void 0||(ne[he]=K[he]);var he=arguments.length-2;if(he===1)ne.children=te;else if(1<he){for(var Ke=Array(he),Ie=0;Ie<he;Ie++)Ke[Ie]=arguments[Ie+2];ne.children=Ke}return R(D.type,re,void 0,void 0,le,ne)},We.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},We.createElement=function(D,K,te){var ne,re={},le=null;if(K!=null)for(ne in K.key!==void 0&&(le=""+K.key),K)A.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(re[ne]=K[ne]);var he=arguments.length-2;if(he===1)re.children=te;else if(1<he){for(var Ke=Array(he),Ie=0;Ie<he;Ie++)Ke[Ie]=arguments[Ie+2];re.children=Ke}if(D&&D.defaultProps)for(ne in he=D.defaultProps,he)re[ne]===void 0&&(re[ne]=he[ne]);return R(D,le,void 0,void 0,null,re)},We.createRef=function(){return{current:null}},We.forwardRef=function(D){return{$$typeof:l,render:D}},We.isValidElement=M,We.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:B}},We.memo=function(D,K){return{$$typeof:d,type:D,compare:K===void 0?null:K}},We.startTransition=function(D){var K=N.T,te={};N.T=te;try{var ne=D(),re=N.S;re!==null&&re(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(G,q)}catch(le){q(le)}finally{N.T=K}},We.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},We.use=function(D){return N.H.use(D)},We.useActionState=function(D,K,te){return N.H.useActionState(D,K,te)},We.useCallback=function(D,K){return N.H.useCallback(D,K)},We.useContext=function(D){return N.H.useContext(D)},We.useDebugValue=function(){},We.useDeferredValue=function(D,K){return N.H.useDeferredValue(D,K)},We.useEffect=function(D,K,te){var ne=N.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(D,K)},We.useId=function(){return N.H.useId()},We.useImperativeHandle=function(D,K,te){return N.H.useImperativeHandle(D,K,te)},We.useInsertionEffect=function(D,K){return N.H.useInsertionEffect(D,K)},We.useLayoutEffect=function(D,K){return N.H.useLayoutEffect(D,K)},We.useMemo=function(D,K){return N.H.useMemo(D,K)},We.useOptimistic=function(D,K){return N.H.useOptimistic(D,K)},We.useReducer=function(D,K,te){return N.H.useReducer(D,K,te)},We.useRef=function(D){return N.H.useRef(D)},We.useState=function(D){return N.H.useState(D)},We.useSyncExternalStore=function(D,K,te){return N.H.useSyncExternalStore(D,K,te)},We.useTransition=function(){return N.H.useTransition()},We.version="19.1.0",We}var F8;function U0(){return F8||(F8=1,zb.exports=OR()),zb.exports}var Qe=U0();const IR=Dl(Qe);var Fb={exports:{}},Wu={},qb={exports:{}},Hb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q8;function RR(){return q8||(q8=1,function(t){function e(O,B){var q=O.length;O.push(B);e:for(;0<q;){var G=q-1>>>1,D=O[G];if(0<s(D,B))O[G]=B,O[q]=D,q=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],q=O.pop();if(q!==B){O[0]=q;e:for(var G=0,D=O.length,K=D>>>1;G<K;){var te=2*(G+1)-1,ne=O[te],re=te+1,le=O[re];if(0>s(ne,q))re<D&&0>s(le,ne)?(O[G]=le,O[re]=q,G=re):(O[G]=ne,O[te]=q,G=te);else if(re<D&&0>s(le,q))O[G]=le,O[re]=q,G=re;else break e}}return B}function s(O,B){var q=O.sortIndex-B.sortIndex;return q!==0?q:O.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var u=[],d=[],p=1,g=null,b=3,w=!1,E=!1,v=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function x(O){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=O)r(d),B.sortIndex=B.expirationTime,e(u,B);else break;B=n(d)}}function N(O){if(v=!1,x(O),!E)if(n(u)!==null)E=!0,A||(A=!0,X());else{var B=n(d);B!==null&&U(N,B.startTime-O)}}var A=!1,R=-1,k=5,M=-1;function z(){return _?!0:!(t.unstable_now()-M<k)}function H(){if(_=!1,A){var O=t.unstable_now();M=O;var B=!0;try{e:{E=!1,v&&(v=!1,S(R),R=-1),w=!0;var q=b;try{t:{for(x(O),g=n(u);g!==null&&!(g.expirationTime>O&&z());){var G=g.callback;if(typeof G=="function"){g.callback=null,b=g.priorityLevel;var D=G(g.expirationTime<=O);if(O=t.unstable_now(),typeof D=="function"){g.callback=D,x(O),B=!0;break t}g===n(u)&&r(u),x(O)}else r(u);g=n(u)}if(g!==null)B=!0;else{var K=n(d);K!==null&&U(N,K.startTime-O),B=!1}}break e}finally{g=null,b=q,w=!1}B=void 0}}finally{B?X():A=!1}}}var X;if(typeof I=="function")X=function(){I(H)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,W=ie.port2;ie.port1.onmessage=H,X=function(){W.postMessage(null)}}else X=function(){T(H,0)};function U(O,B){R=T(function(){O(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(O){switch(b){case 1:case 2:case 3:var B=3;break;default:B=b}var q=b;b=B;try{return O()}finally{b=q}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=b;b=O;try{return B()}finally{b=q}},t.unstable_scheduleCallback=function(O,B,q){var G=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,O={id:p++,callback:B,priorityLevel:O,startTime:q,expirationTime:D,sortIndex:-1},q>G?(O.sortIndex=q,e(d,O),n(u)===null&&O===n(d)&&(v?(S(R),R=-1):v=!0,U(N,q-G))):(O.sortIndex=D,e(u,O),E||w||(E=!0,A||(A=!0,X()))),O},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(O){var B=b;return function(){var q=b;b=B;try{return O.apply(this,arguments)}finally{b=q}}}}(Hb)),Hb}var H8;function xR(){return H8||(H8=1,qb.exports=RR()),qb.exports}var Vb={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V8;function PR(){if(V8)return Wn;V8=1;var t=U0();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(u,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:d,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(u,d,null,p)},Wn.flushSync=function(u){var d=c.T,p=r.p;try{if(c.T=null,r.p=2,u)return u()}finally{c.T=d,r.p=p,r.d.f()}},Wn.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Wn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Wn.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(u,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Wn.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Wn.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin);r.d.L(u,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Wn.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Wn.requestFormReset=function(u){r.d.r(u)},Wn.unstable_batchedUpdates=function(u,d){return u(d)},Wn.useFormState=function(u,d,p){return c.H.useFormState(u,d,p)},Wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var G8;function DR(){if(G8)return Vb.exports;G8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vb.exports=PR(),Vb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W8;function $R(){if(W8)return Wu;W8=1;var t=xR(),e=U0(),n=DR();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,f=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(f=o.return),i=o.return;while(i)}return o.tag===3?f:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function l(i){if(a(i)!==i)throw Error(r(188))}function u(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var f=i,h=o;;){var m=f.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){f=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===f)return l(m),i;if(y===h)return l(m),o;y=y.sibling}throw Error(r(188))}if(f.return!==h.return)f=m,h=y;else{for(var C=!1,P=m.child;P;){if(P===f){C=!0,f=m,h=y;break}if(P===h){C=!0,h=m,f=y;break}P=P.sibling}if(!C){for(P=y.child;P;){if(P===f){C=!0,f=y,h=m;break}if(P===h){C=!0,h=y,f=m;break}P=P.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==h)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ie?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case I:return(i.displayName||"Context")+".Provider";case S:return(i._context.displayName||"Context")+".Consumer";case x:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return o=i.displayName||null,o!==null?o:W(i.type)||"Memo";case k:o=i._payload,i=i._init;try{return W(i(o))}catch{}}return null}var U=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},G=[],D=-1;function K(i){return{current:i}}function te(i){0>D||(i.current=G[D],G[D]=null,D--)}function ne(i,o){D++,G[D]=i.current,i.current=o}var re=K(null),le=K(null),he=K(null),Ke=K(null);function Ie(i,o){switch(ne(he,o),ne(le,i),ne(re,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?d8(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=d8(o),i=h8(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(re),ne(re,i)}function Ge(){te(re),te(le),te(he)}function nn(i){i.memoizedState!==null&&ne(Ke,i);var o=re.current,f=h8(o,i.type);o!==f&&(ne(le,i),ne(re,f))}function Gt(i){le.current===i&&(te(re),te(le)),Ke.current===i&&(te(Ke),zu._currentValue=q)}var fn=Object.prototype.hasOwnProperty,qn=t.unstable_scheduleCallback,Hn=t.unstable_cancelCallback,ia=t.unstable_shouldYield,Sg=t.unstable_requestPaint,Qr=t.unstable_now,Tg=t.unstable_getCurrentPriorityLevel,Wl=t.unstable_ImmediatePriority,Kl=t.unstable_UserBlockingPriority,aa=t.unstable_NormalPriority,ih=t.unstable_LowPriority,Yl=t.unstable_IdlePriority,ah=t.log,oh=t.unstable_setDisableYieldValue,oa=null,Jn=null;function qs(i){if(typeof ah=="function"&&oh(i),Jn&&typeof Jn.setStrictMode=="function")try{Jn.setStrictMode(oa,i)}catch{}}var er=Math.clz32?Math.clz32:dO,Ng=Math.log,uO=Math.LN2;function dO(i){return i>>>=0,i===0?32:31-(Ng(i)/uO|0)|0}var ch=256,fh=4194304;function vo(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function lh(i,o,f){var h=i.pendingLanes;if(h===0)return 0;var m=0,y=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var P=h&134217727;return P!==0?(h=P&~y,h!==0?m=vo(h):(C&=P,C!==0?m=vo(C):f||(f=P&~i,f!==0&&(m=vo(f))))):(P=h&~y,P!==0?m=vo(P):C!==0?m=vo(C):f||(f=h&~i,f!==0&&(m=vo(f)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,f=o&-o,y>=f||y===32&&(f&4194048)!==0)?o:m}function Zl(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function hO(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yw(){var i=ch;return ch<<=1,(ch&4194048)===0&&(ch=256),i}function Zw(){var i=fh;return fh<<=1,(fh&62914560)===0&&(fh=4194304),i}function Og(i){for(var o=[],f=0;31>f;f++)o.push(i);return o}function Ql(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function pO(i,o,f,h,m,y){var C=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var P=i.entanglements,j=i.expirationTimes,Q=i.hiddenUpdates;for(f=C&~f;0<f;){var se=31-er(f),oe=1<<se;P[se]=0,j[se]=-1;var J=Q[se];if(J!==null)for(Q[se]=null,se=0;se<J.length;se++){var ee=J[se];ee!==null&&(ee.lane&=-536870913)}f&=~oe}h!==0&&Qw(i,h,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(C&~o))}function Qw(i,o,f){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-er(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|f&4194090}function Xw(i,o){var f=i.entangledLanes|=o;for(i=i.entanglements;f;){var h=31-er(f),m=1<<h;m&o|i[h]&o&&(i[h]|=o),f&=~m}}function Ig(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Rg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Jw(){var i=B.p;return i!==0?i:(i=window.event,i===void 0?32:P8(i.type))}function gO(i,o){var f=B.p;try{return B.p=i,o()}finally{B.p=f}}var ca=Math.random().toString(36).slice(2),Vn="__reactFiber$"+ca,ur="__reactProps$"+ca,Lc="__reactContainer$"+ca,xg="__reactEvents$"+ca,mO="__reactListeners$"+ca,bO="__reactHandles$"+ca,ev="__reactResources$"+ca,Xl="__reactMarker$"+ca;function Pg(i){delete i[Vn],delete i[ur],delete i[xg],delete i[mO],delete i[bO]}function jc(i){var o=i[Vn];if(o)return o;for(var f=i.parentNode;f;){if(o=f[Lc]||f[Vn]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(i=b8(i);i!==null;){if(f=i[Vn])return f;i=b8(i)}return o}i=f,f=i.parentNode}return null}function zc(i){if(i=i[Vn]||i[Lc]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Jl(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Fc(i){var o=i[ev];return o||(o=i[ev]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yn(i){i[Xl]=!0}var tv=new Set,nv={};function Eo(i,o){qc(i,o),qc(i+"Capture",o)}function qc(i,o){for(nv[i]=o,i=0;i<o.length;i++)tv.add(o[i])}var yO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rv={},sv={};function wO(i){return fn.call(sv,i)?!0:fn.call(rv,i)?!1:yO.test(i)?sv[i]=!0:(rv[i]=!0,!1)}function uh(i,o,f){if(wO(o))if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+f)}}function dh(i,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+f)}}function yi(i,o,f,h){if(h===null)i.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(o,f,""+h)}}var Dg,iv;function Hc(i){if(Dg===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);Dg=o&&o[1]||"",iv=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dg+i+iv}var $g=!1;function Ug(i,o){if(!i||$g)return"";$g=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var J=ee}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(ee){J=ee}i.call(oe.prototype)}}else{try{throw Error()}catch(ee){J=ee}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),C=y[0],P=y[1];if(C&&P){var j=C.split(`
`),Q=P.split(`
`);for(m=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(h===j.length||m===Q.length)for(h=j.length-1,m=Q.length-1;1<=h&&0<=m&&j[h]!==Q[m];)m--;for(;1<=h&&0<=m;h--,m--)if(j[h]!==Q[m]){if(h!==1||m!==1)do if(h--,m--,0>m||j[h]!==Q[m]){var se=`
`+j[h].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=h&&0<=m);break}}}finally{$g=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Hc(f):""}function vO(i){switch(i.tag){case 26:case 27:case 5:return Hc(i.type);case 16:return Hc("Lazy");case 13:return Hc("Suspense");case 19:return Hc("SuspenseList");case 0:case 15:return Ug(i.type,!1);case 11:return Ug(i.type.render,!1);case 1:return Ug(i.type,!0);case 31:return Hc("Activity");default:return""}}function av(i){try{var o="";do o+=vO(i),i=i.return;while(i);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Xr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ov(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function EO(i){var o=ov(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,y=f.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){h=""+C,y.call(this,C)}}),Object.defineProperty(i,o,{enumerable:f.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function hh(i){i._valueTracker||(i._valueTracker=EO(i))}function cv(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var f=o.getValue(),h="";return i&&(h=ov(i)?i.checked?"true":"false":i.value),i=h,i!==f?(o.setValue(i),!0):!1}function ph(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _O=/[\n"\\]/g;function Jr(i){return i.replace(_O,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mg(i,o,f,h,m,y,C,P){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),o!=null?C==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Xr(o)):i.value!==""+Xr(o)&&(i.value=""+Xr(o)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),o!=null?kg(i,C,Xr(o)):f!=null?kg(i,C,Xr(f)):h!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Xr(P):i.removeAttribute("name")}function fv(i,o,f,h,m,y,C,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),o!=null||f!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;f=f!=null?""+Xr(f):"",o=o!=null?""+Xr(o):f,P||o===i.value||(i.value=o),i.defaultValue=o}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=P?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function kg(i,o,f){o==="number"&&ph(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function Vc(i,o,f,h){if(i=i.options,o){o={};for(var m=0;m<f.length;m++)o["$"+f[m]]=!0;for(f=0;f<i.length;f++)m=o.hasOwnProperty("$"+i[f].value),i[f].selected!==m&&(i[f].selected=m),m&&h&&(i[f].defaultSelected=!0)}else{for(f=""+Xr(f),o=null,m=0;m<i.length;m++){if(i[m].value===f){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function lv(i,o,f){if(o!=null&&(o=""+Xr(o),o!==i.value&&(i.value=o),f==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=f!=null?""+Xr(f):""}function uv(i,o,f,h){if(o==null){if(h!=null){if(f!=null)throw Error(r(92));if(U(h)){if(1<h.length)throw Error(r(93));h=h[0]}f=h}f==null&&(f=""),o=f}f=Xr(o),i.defaultValue=f,h=i.textContent,h===f&&h!==""&&h!==null&&(i.value=h)}function Gc(i,o){if(o){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=o;return}}i.textContent=o}var CO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dv(i,o,f){var h=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,f):typeof f!="number"||f===0||CO.has(o)?o==="float"?i.cssFloat=f:i[o]=(""+f).trim():i[o]=f+"px"}function hv(i,o,f){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,f!=null){for(var h in f)!f.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in o)h=o[m],o.hasOwnProperty(m)&&f[m]!==h&&dv(i,m,h)}else for(var y in o)o.hasOwnProperty(y)&&dv(i,y,o[y])}function Bg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gh(i){return SO.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Lg=null;function jg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wc=null,Kc=null;function pv(i){var o=zc(i);if(o&&(i=o.stateNode)){var f=i[ur]||null;e:switch(i=o.stateNode,o.type){case"input":if(Mg(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Jr(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var h=f[o];if(h!==i&&h.form===i.form){var m=h[ur]||null;if(!m)throw Error(r(90));Mg(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<f.length;o++)h=f[o],h.form===i.form&&cv(h)}break e;case"textarea":lv(i,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&Vc(i,!!f.multiple,o,!1)}}}var zg=!1;function gv(i,o,f){if(zg)return i(o,f);zg=!0;try{var h=i(o);return h}finally{if(zg=!1,(Wc!==null||Kc!==null)&&(ep(),Wc&&(o=Wc,i=Kc,Kc=Wc=null,pv(o),i)))for(o=0;o<i.length;o++)pv(i[o])}}function eu(i,o){var f=i.stateNode;if(f===null)return null;var h=f[ur]||null;if(h===null)return null;f=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fg=!1;if(wi)try{var tu={};Object.defineProperty(tu,"passive",{get:function(){Fg=!0}}),window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{Fg=!1}var fa=null,qg=null,mh=null;function mv(){if(mh)return mh;var i,o=qg,f=o.length,h,m="value"in fa?fa.value:fa.textContent,y=m.length;for(i=0;i<f&&o[i]===m[i];i++);var C=f-i;for(h=1;h<=C&&o[f-h]===m[y-h];h++);return mh=m.slice(i,1<h?1-h:void 0)}function bh(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function yh(){return!0}function bv(){return!1}function dr(i){function o(f,h,m,y,C){this._reactName=f,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(f=i[P],this[P]=f?f(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?yh:bv,this.isPropagationStopped=bv,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=yh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=yh)},persist:function(){},isPersistent:yh}),o}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=dr(_o),nu=p({},_o,{view:0,detail:0}),TO=dr(nu),Hg,Vg,ru,vh=p({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ru&&(ru&&i.type==="mousemove"?(Hg=i.screenX-ru.screenX,Vg=i.screenY-ru.screenY):Vg=Hg=0,ru=i),Hg)},movementY:function(i){return"movementY"in i?i.movementY:Vg}}),yv=dr(vh),NO=p({},vh,{dataTransfer:0}),OO=dr(NO),IO=p({},nu,{relatedTarget:0}),Gg=dr(IO),RO=p({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),xO=dr(RO),PO=p({},_o,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),DO=dr(PO),$O=p({},_o,{data:0}),wv=dr($O),UO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BO(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=kO[i])?!!o[i]:!1}function Wg(){return BO}var LO=p({},nu,{key:function(i){if(i.key){var o=UO[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=bh(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?MO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wg,charCode:function(i){return i.type==="keypress"?bh(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bh(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jO=dr(LO),zO=p({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=dr(zO),FO=p({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wg}),qO=dr(FO),HO=p({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),VO=dr(HO),GO=p({},vh,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),WO=dr(GO),KO=p({},_o,{newState:0,oldState:0}),YO=dr(KO),ZO=[9,13,27,32],Kg=wi&&"CompositionEvent"in window,su=null;wi&&"documentMode"in document&&(su=document.documentMode);var QO=wi&&"TextEvent"in window&&!su,Ev=wi&&(!Kg||su&&8<su&&11>=su),_v=" ",Cv=!1;function Av(i,o){switch(i){case"keyup":return ZO.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yc=!1;function XO(i,o){switch(i){case"compositionend":return Sv(o);case"keypress":return o.which!==32?null:(Cv=!0,_v);case"textInput":return i=o.data,i===_v&&Cv?null:i;default:return null}}function JO(i,o){if(Yc)return i==="compositionend"||!Kg&&Av(i,o)?(i=mv(),mh=qg=fa=null,Yc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ev&&o.locale!=="ko"?null:o.data;default:return null}}var eI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!eI[i.type]:o==="textarea"}function Nv(i,o,f,h){Wc?Kc?Kc.push(h):Kc=[h]:Wc=h,o=ap(o,"onChange"),0<o.length&&(f=new wh("onChange","change",null,f,h),i.push({event:f,listeners:o}))}var iu=null,au=null;function tI(i){o8(i,0)}function Eh(i){var o=Jl(i);if(cv(o))return i}function Ov(i,o){if(i==="change")return o}var Iv=!1;if(wi){var Yg;if(wi){var Zg="oninput"in document;if(!Zg){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),Zg=typeof Rv.oninput=="function"}Yg=Zg}else Yg=!1;Iv=Yg&&(!document.documentMode||9<document.documentMode)}function xv(){iu&&(iu.detachEvent("onpropertychange",Pv),au=iu=null)}function Pv(i){if(i.propertyName==="value"&&Eh(au)){var o=[];Nv(o,au,i,jg(i)),gv(tI,o)}}function nI(i,o,f){i==="focusin"?(xv(),iu=o,au=f,iu.attachEvent("onpropertychange",Pv)):i==="focusout"&&xv()}function rI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Eh(au)}function sI(i,o){if(i==="click")return Eh(o)}function iI(i,o){if(i==="input"||i==="change")return Eh(o)}function aI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Pr=typeof Object.is=="function"?Object.is:aI;function ou(i,o){if(Pr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var f=Object.keys(i),h=Object.keys(o);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var m=f[h];if(!fn.call(o,m)||!Pr(i[m],o[m]))return!1}return!0}function Dv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $v(i,o){var f=Dv(i);i=0;for(var h;f;){if(f.nodeType===3){if(h=i+f.textContent.length,i<=o&&h>=o)return{node:f,offset:o-i};i=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Dv(f)}}function Uv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Uv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ph(i.document);o instanceof i.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)i=o.contentWindow;else break;o=ph(i.document)}return o}function Qg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var oI=wi&&"documentMode"in document&&11>=document.documentMode,Zc=null,Xg=null,cu=null,Jg=!1;function kv(i,o,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jg||Zc==null||Zc!==ph(h)||(h=Zc,"selectionStart"in h&&Qg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),cu&&ou(cu,h)||(cu=h,h=ap(Xg,"onSelect"),0<h.length&&(o=new wh("onSelect","select",null,o,f),i.push({event:o,listeners:h}),o.target=Zc)))}function Co(i,o){var f={};return f[i.toLowerCase()]=o.toLowerCase(),f["Webkit"+i]="webkit"+o,f["Moz"+i]="moz"+o,f}var Qc={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},em={},Bv={};wi&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Ao(i){if(em[i])return em[i];if(!Qc[i])return i;var o=Qc[i],f;for(f in o)if(o.hasOwnProperty(f)&&f in Bv)return em[i]=o[f];return i}var Lv=Ao("animationend"),jv=Ao("animationiteration"),zv=Ao("animationstart"),cI=Ao("transitionrun"),fI=Ao("transitionstart"),lI=Ao("transitioncancel"),Fv=Ao("transitionend"),qv=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function _s(i,o){qv.set(i,o),Eo(o,[i])}var Hv=new WeakMap;function es(i,o){if(typeof i=="object"&&i!==null){var f=Hv.get(i);return f!==void 0?f:(o={value:i,source:o,stack:av(o)},Hv.set(i,o),o)}return{value:i,source:o,stack:av(o)}}var ts=[],Xc=0,nm=0;function _h(){for(var i=Xc,o=nm=Xc=0;o<i;){var f=ts[o];ts[o++]=null;var h=ts[o];ts[o++]=null;var m=ts[o];ts[o++]=null;var y=ts[o];if(ts[o++]=null,h!==null&&m!==null){var C=h.pending;C===null?m.next=m:(m.next=C.next,C.next=m),h.pending=m}y!==0&&Vv(f,m,y)}}function Ch(i,o,f,h){ts[Xc++]=i,ts[Xc++]=o,ts[Xc++]=f,ts[Xc++]=h,nm|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function rm(i,o,f,h){return Ch(i,o,f,h),Ah(i)}function Jc(i,o){return Ch(i,null,null,o),Ah(i)}function Vv(i,o,f){i.lanes|=f;var h=i.alternate;h!==null&&(h.lanes|=f);for(var m=!1,y=i.return;y!==null;)y.childLanes|=f,h=y.alternate,h!==null&&(h.childLanes|=f),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&o!==null&&(m=31-er(f),i=y.hiddenUpdates,h=i[m],h===null?i[m]=[o]:h.push(o),o.lane=f|536870912),y):null}function Ah(i){if(50<Du)throw Du=0,fb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ef={};function uI(i,o,f,h){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(i,o,f,h){return new uI(i,o,f,h)}function sm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vi(i,o){var f=i.alternate;return f===null?(f=Dr(i.tag,o,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=o,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,o=i.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Gv(i,o){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,o=f.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Sh(i,o,f,h,m,y){var C=0;if(h=i,typeof i=="function")sm(i)&&(C=1);else if(typeof i=="string")C=hR(i,f,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Dr(31,f,o,m),i.elementType=M,i.lanes=y,i;case E:return So(f.children,m,y,o);case v:C=8,m|=24;break;case _:return i=Dr(12,f,o,m|2),i.elementType=_,i.lanes=y,i;case N:return i=Dr(13,f,o,m),i.elementType=N,i.lanes=y,i;case A:return i=Dr(19,f,o,m),i.elementType=A,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case I:C=10;break e;case S:C=9;break e;case x:C=11;break e;case R:C=14;break e;case k:C=16,h=null;break e}C=29,f=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=Dr(C,f,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function So(i,o,f,h){return i=Dr(7,i,h,o),i.lanes=f,i}function im(i,o,f){return i=Dr(6,i,null,o),i.lanes=f,i}function am(i,o,f){return o=Dr(4,i.children!==null?i.children:[],i.key,o),o.lanes=f,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var tf=[],nf=0,Th=null,Nh=0,ns=[],rs=0,To=null,Ei=1,_i="";function No(i,o){tf[nf++]=Nh,tf[nf++]=Th,Th=i,Nh=o}function Wv(i,o,f){ns[rs++]=Ei,ns[rs++]=_i,ns[rs++]=To,To=i;var h=Ei;i=_i;var m=32-er(h)-1;h&=~(1<<m),f+=1;var y=32-er(o)+m;if(30<y){var C=m-m%5;y=(h&(1<<C)-1).toString(32),h>>=C,m-=C,Ei=1<<32-er(o)+m|f<<m|h,_i=y+i}else Ei=1<<y|f<<m|h,_i=i}function om(i){i.return!==null&&(No(i,1),Wv(i,1,0))}function cm(i){for(;i===Th;)Th=tf[--nf],tf[nf]=null,Nh=tf[--nf],tf[nf]=null;for(;i===To;)To=ns[--rs],ns[rs]=null,_i=ns[--rs],ns[rs]=null,Ei=ns[--rs],ns[rs]=null}var tr=null,Wt=null,mt=!1,Oo=null,Hs=!1,fm=Error(r(519));function Io(i){var o=Error(r(418,""));throw uu(es(o,i)),fm}function Kv(i){var o=i.stateNode,f=i.type,h=i.memoizedProps;switch(o[Vn]=i,o[ur]=h,f){case"dialog":st("cancel",o),st("close",o);break;case"iframe":case"object":case"embed":st("load",o);break;case"video":case"audio":for(f=0;f<Uu.length;f++)st(Uu[f],o);break;case"source":st("error",o);break;case"img":case"image":case"link":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"input":st("invalid",o),fv(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),hh(o);break;case"select":st("invalid",o);break;case"textarea":st("invalid",o),uv(o,h.value,h.defaultValue,h.children),hh(o)}f=h.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||h.suppressHydrationWarning===!0||u8(o.textContent,f)?(h.popover!=null&&(st("beforetoggle",o),st("toggle",o)),h.onScroll!=null&&st("scroll",o),h.onScrollEnd!=null&&st("scrollend",o),h.onClick!=null&&(o.onclick=op),o=!0):o=!1,o||Io(i)}function Yv(i){for(tr=i.return;tr;)switch(tr.tag){case 5:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:tr=tr.return}}function fu(i){if(i!==tr)return!1;if(!mt)return Yv(i),mt=!0,!1;var o=i.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||Sb(i.type,i.memoizedProps)),f=!f),f&&Wt&&Io(i),Yv(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(f=i.data,f==="/$"){if(o===0){Wt=As(i.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++;i=i.nextSibling}Wt=null}}else o===27?(o=Wt,Sa(i.type)?(i=Ib,Ib=null,Wt=i):Wt=o):Wt=tr?As(i.stateNode.nextSibling):null;return!0}function lu(){Wt=tr=null,mt=!1}function Zv(){var i=Oo;return i!==null&&(gr===null?gr=i:gr.push.apply(gr,i),Oo=null),i}function uu(i){Oo===null?Oo=[i]:Oo.push(i)}var lm=K(null),Ro=null,Ci=null;function la(i,o,f){ne(lm,o._currentValue),o._currentValue=f}function Ai(i){i._currentValue=lm.current,te(lm)}function um(i,o,f){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===f)break;i=i.return}}function dm(i,o,f,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var C=m.child;y=y.firstContext;e:for(;y!==null;){var P=y;y=m;for(var j=0;j<o.length;j++)if(P.context===o[j]){y.lanes|=f,P=y.alternate,P!==null&&(P.lanes|=f),um(y.return,f,i),h||(C=null);break e}y=P.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(r(341));C.lanes|=f,y=C.alternate,y!==null&&(y.lanes|=f),um(C,f,i),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===i){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function du(i,o,f,h){i=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var P=m.type;Pr(m.pendingProps.value,C.value)||(i!==null?i.push(P):i=[P])}}else if(m===Ke.current){if(C=m.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(zu):i=[zu])}m=m.return}i!==null&&dm(o,i,f,h),o.flags|=262144}function Oh(i){for(i=i.firstContext;i!==null;){if(!Pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xo(i){Ro=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gn(i){return Qv(Ro,i)}function Ih(i,o){return Ro===null&&xo(i),Qv(i,o)}function Qv(i,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Ci===null){if(i===null)throw Error(r(308));Ci=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ci=Ci.next=o;return f}var dI=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(f,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(f){return f()})}},hI=t.unstable_scheduleCallback,pI=t.unstable_NormalPriority,ln={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new dI,data:new Map,refCount:0}}function hu(i){i.refCount--,i.refCount===0&&hI(pI,function(){i.controller.abort()})}var pu=null,pm=0,rf=0,sf=null;function gI(i,o){if(pu===null){var f=pu=[];pm=0,rf=mb(),sf={status:"pending",value:void 0,then:function(h){f.push(h)}}}return pm++,o.then(Xv,Xv),o}function Xv(){if(--pm===0&&pu!==null){sf!==null&&(sf.status="fulfilled");var i=pu;pu=null,rf=0,sf=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function mI(i,o){var f=[],h={status:"pending",value:null,reason:null,then:function(m){f.push(m)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var m=0;m<f.length;m++)(0,f[m])(o)},function(m){for(h.status="rejected",h.reason=m,m=0;m<f.length;m++)(0,f[m])(void 0)}),h}var Jv=O.S;O.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&gI(i,o),Jv!==null&&Jv(i,o)};var Po=K(null);function gm(){var i=Po.current;return i!==null?i:Ut.pooledCache}function Rh(i,o){o===null?ne(Po,Po.current):ne(Po,o.pool)}function e2(){var i=gm();return i===null?null:{parent:ln._currentValue,pool:i}}var gu=Error(r(460)),t2=Error(r(474)),xh=Error(r(542)),mm={then:function(){}};function n2(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ph(){}function r2(i,o,f){switch(f=i[f],f===void 0?i.push(o):f!==o&&(o.then(Ph,Ph),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i2(i),i;default:if(typeof o.status=="string")o.then(Ph,Ph);else{if(i=Ut,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=h}},function(h){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i2(i),i}throw mu=o,gu}}var mu=null;function s2(){if(mu===null)throw Error(r(459));var i=mu;return mu=null,i}function i2(i){if(i===gu||i===xh)throw Error(r(483))}var ua=!1;function bm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function da(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ha(i,o,f){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Et&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,o=Ah(i),Vv(i,null,f),o}return Ch(i,h,o,f),Ah(i)}function bu(i,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,f|=h,o.lanes=f,Xw(i,f)}}function wm(i,o){var f=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var m=null,y=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};y===null?m=y=C:y=y.next=C,f=f.next}while(f!==null);y===null?m=y=o:y=y.next=o}else m=y=o;f={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=o:i.next=o,f.lastBaseUpdate=o}var vm=!1;function yu(){if(vm){var i=sf;if(i!==null)throw i}}function wu(i,o,f,h){vm=!1;var m=i.updateQueue;ua=!1;var y=m.firstBaseUpdate,C=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var j=P,Q=j.next;j.next=null,C===null?y=Q:C.next=Q,C=j;var se=i.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==C&&(P===null?se.firstBaseUpdate=Q:P.next=Q,se.lastBaseUpdate=j))}if(y!==null){var oe=m.baseState;C=0,se=Q=j=null,P=y;do{var J=P.lane&-536870913,ee=J!==P.lane;if(ee?(ft&J)===J:(h&J)===J){J!==0&&J===rf&&(vm=!0),se!==null&&(se=se.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Le=i,Pe=P;J=o;var Nt=f;switch(Pe.tag){case 1:if(Le=Pe.payload,typeof Le=="function"){oe=Le.call(Nt,oe,J);break e}oe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Pe.payload,J=typeof Le=="function"?Le.call(Nt,oe,J):Le,J==null)break e;oe=p({},oe,J);break e;case 2:ua=!0}}J=P.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(Q=se=ee,j=oe):se=se.next=ee,C|=J;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(j=oe),m.baseState=j,m.firstBaseUpdate=Q,m.lastBaseUpdate=se,y===null&&(m.shared.lanes=0),Ea|=C,i.lanes=C,i.memoizedState=oe}}function a2(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function o2(i,o){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)a2(f[i],o)}var af=K(null),Dh=K(0);function c2(i,o){i=xi,ne(Dh,i),ne(af,o),xi=i|o.baseLanes}function Em(){ne(Dh,xi),ne(af,af.current)}function _m(){xi=Dh.current,te(af),te(Dh)}var pa=0,Je=null,St=null,rn=null,$h=!1,of=!1,Do=!1,Uh=0,vu=0,cf=null,bI=0;function Qt(){throw Error(r(321))}function Cm(i,o){if(o===null)return!1;for(var f=0;f<o.length&&f<i.length;f++)if(!Pr(i[f],o[f]))return!1;return!0}function Am(i,o,f,h,m,y){return pa=y,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=i===null||i.memoizedState===null?V2:G2,Do=!1,y=f(h,m),Do=!1,of&&(y=l2(o,f,h,m)),f2(i),y}function f2(i){O.H=zh;var o=St!==null&&St.next!==null;if(pa=0,rn=St=Je=null,$h=!1,vu=0,cf=null,o)throw Error(r(300));i===null||wn||(i=i.dependencies,i!==null&&Oh(i)&&(wn=!0))}function l2(i,o,f,h){Je=i;var m=0;do{if(of&&(cf=null),vu=0,of=!1,25<=m)throw Error(r(301));if(m+=1,rn=St=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=AI,y=o(f,h)}while(of);return y}function yI(){var i=O.H,o=i.useState()[0];return o=typeof o.then=="function"?Eu(o):o,i=i.useState()[0],(St!==null?St.memoizedState:null)!==i&&(Je.flags|=1024),o}function Sm(){var i=Uh!==0;return Uh=0,i}function Tm(i,o,f){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f}function Nm(i){if($h){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}$h=!1}pa=0,rn=St=Je=null,of=!1,vu=Uh=0,cf=null}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Je.memoizedState=rn=i:rn=rn.next=i,rn}function sn(){if(St===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var o=rn===null?Je.memoizedState:rn.next;if(o!==null)rn=o,St=i;else{if(i===null)throw Je.alternate===null?Error(r(467)):Error(r(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},rn===null?Je.memoizedState=rn=i:rn=rn.next=i}return rn}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(i){var o=vu;return vu+=1,cf===null&&(cf=[]),i=r2(cf,i,o),o=Je,(rn===null?o.memoizedState:rn.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?V2:G2),i}function Mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Eu(i);if(i.$$typeof===I)return Gn(i)}throw Error(r(438,String(i)))}function Im(i){var o=null,f=Je.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=Om(),Je.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(i),h=0;h<i;h++)f[h]=z;return o.index++,f}function Si(i,o){return typeof o=="function"?o(i):o}function kh(i){var o=sn();return Rm(o,St,i)}function Rm(i,o,f){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=f;var m=i.baseQueue,y=h.pending;if(y!==null){if(m!==null){var C=m.next;m.next=y.next,y.next=C}o.baseQueue=m=y,h.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{o=m.next;var P=C=null,j=null,Q=o,se=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(ft&oe)===oe:(pa&oe)===oe){var J=Q.revertLane;if(J===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===rf&&(se=!0);else if((pa&J)===J){Q=Q.next,J===rf&&(se=!0);continue}else oe={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(P=j=oe,C=y):j=j.next=oe,Je.lanes|=J,Ea|=J;oe=Q.action,Do&&f(y,oe),y=Q.hasEagerState?Q.eagerState:f(y,oe)}else J={lane:oe,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(P=j=J,C=y):j=j.next=J,Je.lanes|=oe,Ea|=oe;Q=Q.next}while(Q!==null&&Q!==o);if(j===null?C=y:j.next=P,!Pr(y,i.memoizedState)&&(wn=!0,se&&(f=sf,f!==null)))throw f;i.memoizedState=y,i.baseState=C,i.baseQueue=j,h.lastRenderedState=y}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function xm(i){var o=sn(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var h=f.dispatch,m=f.pending,y=o.memoizedState;if(m!==null){f.pending=null;var C=m=m.next;do y=i(y,C.action),C=C.next;while(C!==m);Pr(y,o.memoizedState)||(wn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),f.lastRenderedState=y}return[y,h]}function u2(i,o,f){var h=Je,m=sn(),y=mt;if(y){if(f===void 0)throw Error(r(407));f=f()}else f=o();var C=!Pr((St||m).memoizedState,f);C&&(m.memoizedState=f,wn=!0),m=m.queue;var P=p2.bind(null,h,m,i);if(_u(2048,8,P,[i]),m.getSnapshot!==o||C||rn!==null&&rn.memoizedState.tag&1){if(h.flags|=2048,ff(9,Bh(),h2.bind(null,h,m,f,o),null),Ut===null)throw Error(r(349));y||(pa&124)!==0||d2(h,o,f)}return f}function d2(i,o,f){i.flags|=16384,i={getSnapshot:o,value:f},o=Je.updateQueue,o===null?(o=Om(),Je.updateQueue=o,o.stores=[i]):(f=o.stores,f===null?o.stores=[i]:f.push(i))}function h2(i,o,f,h){o.value=f,o.getSnapshot=h,g2(o)&&m2(i)}function p2(i,o,f){return f(function(){g2(o)&&m2(i)})}function g2(i){var o=i.getSnapshot;i=i.value;try{var f=o();return!Pr(i,f)}catch{return!0}}function m2(i){var o=Jc(i,2);o!==null&&Br(o,i,2)}function Pm(i){var o=hr();if(typeof i=="function"){var f=i;if(i=f(),Do){qs(!0);try{f()}finally{qs(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:i},o}function b2(i,o,f,h){return i.baseState=f,Rm(i,St,typeof h=="function"?h:Si)}function wI(i,o,f,h,m){if(jh(i))throw Error(r(485));if(i=o.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};O.T!==null?f(!0):y.isTransition=!1,h(y),f=o.pending,f===null?(y.next=o.pending=y,y2(o,y)):(y.next=f.next,o.pending=f.next=y)}}function y2(i,o){var f=o.action,h=o.payload,m=i.state;if(o.isTransition){var y=O.T,C={};O.T=C;try{var P=f(m,h),j=O.S;j!==null&&j(C,P),w2(i,o,P)}catch(Q){Dm(i,o,Q)}finally{O.T=y}}else try{y=f(m,h),w2(i,o,y)}catch(Q){Dm(i,o,Q)}}function w2(i,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(h){v2(i,o,h)},function(h){return Dm(i,o,h)}):v2(i,o,f)}function v2(i,o,f){o.status="fulfilled",o.value=f,E2(o),i.state=f,o=i.pending,o!==null&&(f=o.next,f===o?i.pending=null:(f=f.next,o.next=f,y2(i,f)))}function Dm(i,o,f){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=f,E2(o),o=o.next;while(o!==h)}i.action=null}function E2(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function _2(i,o){return o}function C2(i,o){if(mt){var f=Ut.formState;if(f!==null){e:{var h=Je;if(mt){if(Wt){t:{for(var m=Wt,y=Hs;m.nodeType!==8;){if(!y){m=null;break t}if(m=As(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Wt=As(m.nextSibling),h=m.data==="F!";break e}}Io(h)}h=!1}h&&(o=f[0])}}return f=hr(),f.memoizedState=f.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_2,lastRenderedState:o},f.queue=h,f=F2.bind(null,Je,h),h.dispatch=f,h=Pm(!1),y=Bm.bind(null,Je,!1,h.queue),h=hr(),m={state:o,dispatch:null,action:i,pending:null},h.queue=m,f=wI.bind(null,Je,m,y,f),m.dispatch=f,h.memoizedState=i,[o,f,!1]}function A2(i){var o=sn();return S2(o,St,i)}function S2(i,o,f){if(o=Rm(i,o,_2)[0],i=kh(Si)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Eu(o)}catch(C){throw C===gu?xh:C}else h=o;o=sn();var m=o.queue,y=m.dispatch;return f!==o.memoizedState&&(Je.flags|=2048,ff(9,Bh(),vI.bind(null,m,f),null)),[h,y,i]}function vI(i,o){i.action=o}function T2(i){var o=sn(),f=St;if(f!==null)return S2(o,f,i);sn(),o=o.memoizedState,f=sn();var h=f.queue.dispatch;return f.memoizedState=i,[o,h,!1]}function ff(i,o,f,h){return i={tag:i,create:f,deps:h,inst:o,next:null},o=Je.updateQueue,o===null&&(o=Om(),Je.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=i.next=i:(h=f.next,f.next=i,i.next=h,o.lastEffect=i),i}function Bh(){return{destroy:void 0,resource:void 0}}function N2(){return sn().memoizedState}function Lh(i,o,f,h){var m=hr();h=h===void 0?null:h,Je.flags|=i,m.memoizedState=ff(1|o,Bh(),f,h)}function _u(i,o,f,h){var m=sn();h=h===void 0?null:h;var y=m.memoizedState.inst;St!==null&&h!==null&&Cm(h,St.memoizedState.deps)?m.memoizedState=ff(o,y,f,h):(Je.flags|=i,m.memoizedState=ff(1|o,y,f,h))}function O2(i,o){Lh(8390656,8,i,o)}function I2(i,o){_u(2048,8,i,o)}function R2(i,o){return _u(4,2,i,o)}function x2(i,o){return _u(4,4,i,o)}function P2(i,o){if(typeof o=="function"){i=i();var f=o(i);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function D2(i,o,f){f=f!=null?f.concat([i]):null,_u(4,4,P2.bind(null,o,i),f)}function $m(){}function $2(i,o){var f=sn();o=o===void 0?null:o;var h=f.memoizedState;return o!==null&&Cm(o,h[1])?h[0]:(f.memoizedState=[i,o],i)}function U2(i,o){var f=sn();o=o===void 0?null:o;var h=f.memoizedState;if(o!==null&&Cm(o,h[1]))return h[0];if(h=i(),Do){qs(!0);try{i()}finally{qs(!1)}}return f.memoizedState=[h,o],h}function Um(i,o,f){return f===void 0||(pa&1073741824)!==0?i.memoizedState=o:(i.memoizedState=f,i=BE(),Je.lanes|=i,Ea|=i,f)}function M2(i,o,f,h){return Pr(f,o)?f:af.current!==null?(i=Um(i,f,h),Pr(i,o)||(wn=!0),i):(pa&42)===0?(wn=!0,i.memoizedState=f):(i=BE(),Je.lanes|=i,Ea|=i,o)}function k2(i,o,f,h,m){var y=B.p;B.p=y!==0&&8>y?y:8;var C=O.T,P={};O.T=P,Bm(i,!1,o,f);try{var j=m(),Q=O.S;if(Q!==null&&Q(P,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var se=mI(j,h);Cu(i,o,se,kr(i))}else Cu(i,o,h,kr(i))}catch(oe){Cu(i,o,{then:function(){},status:"rejected",reason:oe},kr())}finally{B.p=y,O.T=C}}function EI(){}function Mm(i,o,f,h){if(i.tag!==5)throw Error(r(476));var m=B2(i).queue;k2(i,m,o,q,f===null?EI:function(){return L2(i),f(h)})}function B2(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:q},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:f},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function L2(i){var o=B2(i).next.queue;Cu(i,o,{},kr())}function km(){return Gn(zu)}function j2(){return sn().memoizedState}function z2(){return sn().memoizedState}function _I(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var f=kr();i=da(f);var h=ha(o,i,f);h!==null&&(Br(h,o,f),bu(h,o,f)),o={cache:hm()},i.payload=o;return}o=o.return}}function CI(i,o,f){var h=kr();f={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},jh(i)?q2(o,f):(f=rm(i,o,f,h),f!==null&&(Br(f,i,h),H2(f,o,h)))}function F2(i,o,f){var h=kr();Cu(i,o,f,h)}function Cu(i,o,f,h){var m={lane:h,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(jh(i))q2(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var C=o.lastRenderedState,P=y(C,f);if(m.hasEagerState=!0,m.eagerState=P,Pr(P,C))return Ch(i,o,m,0),Ut===null&&_h(),!1}catch{}finally{}if(f=rm(i,o,m,h),f!==null)return Br(f,i,h),H2(f,o,h),!0}return!1}function Bm(i,o,f,h){if(h={lane:2,revertLane:mb(),action:h,hasEagerState:!1,eagerState:null,next:null},jh(i)){if(o)throw Error(r(479))}else o=rm(i,f,h,2),o!==null&&Br(o,i,2)}function jh(i){var o=i.alternate;return i===Je||o!==null&&o===Je}function q2(i,o){of=$h=!0;var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}function H2(i,o,f){if((f&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,f|=h,o.lanes=f,Xw(i,f)}}var zh={readContext:Gn,use:Mh,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},V2={readContext:Gn,use:Mh,useCallback:function(i,o){return hr().memoizedState=[i,o===void 0?null:o],i},useContext:Gn,useEffect:O2,useImperativeHandle:function(i,o,f){f=f!=null?f.concat([i]):null,Lh(4194308,4,P2.bind(null,o,i),f)},useLayoutEffect:function(i,o){return Lh(4194308,4,i,o)},useInsertionEffect:function(i,o){Lh(4,2,i,o)},useMemo:function(i,o){var f=hr();o=o===void 0?null:o;var h=i();if(Do){qs(!0);try{i()}finally{qs(!1)}}return f.memoizedState=[h,o],h},useReducer:function(i,o,f){var h=hr();if(f!==void 0){var m=f(o);if(Do){qs(!0);try{f(o)}finally{qs(!1)}}}else m=o;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=CI.bind(null,Je,i),[h.memoizedState,i]},useRef:function(i){var o=hr();return i={current:i},o.memoizedState=i},useState:function(i){i=Pm(i);var o=i.queue,f=F2.bind(null,Je,o);return o.dispatch=f,[i.memoizedState,f]},useDebugValue:$m,useDeferredValue:function(i,o){var f=hr();return Um(f,i,o)},useTransition:function(){var i=Pm(!1);return i=k2.bind(null,Je,i.queue,!0,!1),hr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,f){var h=Je,m=hr();if(mt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),Ut===null)throw Error(r(349));(ft&124)!==0||d2(h,o,f)}m.memoizedState=f;var y={value:f,getSnapshot:o};return m.queue=y,O2(p2.bind(null,h,y,i),[i]),h.flags|=2048,ff(9,Bh(),h2.bind(null,h,y,f,o),null),f},useId:function(){var i=hr(),o=Ut.identifierPrefix;if(mt){var f=_i,h=Ei;f=(h&~(1<<32-er(h)-1)).toString(32)+f,o=""+o+"R"+f,f=Uh++,0<f&&(o+="H"+f.toString(32)),o+=""}else f=bI++,o=""+o+"r"+f.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:km,useFormState:C2,useActionState:C2,useOptimistic:function(i){var o=hr();o.memoizedState=o.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=Bm.bind(null,Je,!0,f),f.dispatch=o,[i,o]},useMemoCache:Im,useCacheRefresh:function(){return hr().memoizedState=_I.bind(null,Je)}},G2={readContext:Gn,use:Mh,useCallback:$2,useContext:Gn,useEffect:I2,useImperativeHandle:D2,useInsertionEffect:R2,useLayoutEffect:x2,useMemo:U2,useReducer:kh,useRef:N2,useState:function(){return kh(Si)},useDebugValue:$m,useDeferredValue:function(i,o){var f=sn();return M2(f,St.memoizedState,i,o)},useTransition:function(){var i=kh(Si)[0],o=sn().memoizedState;return[typeof i=="boolean"?i:Eu(i),o]},useSyncExternalStore:u2,useId:j2,useHostTransitionStatus:km,useFormState:A2,useActionState:A2,useOptimistic:function(i,o){var f=sn();return b2(f,St,i,o)},useMemoCache:Im,useCacheRefresh:z2},AI={readContext:Gn,use:Mh,useCallback:$2,useContext:Gn,useEffect:I2,useImperativeHandle:D2,useInsertionEffect:R2,useLayoutEffect:x2,useMemo:U2,useReducer:xm,useRef:N2,useState:function(){return xm(Si)},useDebugValue:$m,useDeferredValue:function(i,o){var f=sn();return St===null?Um(f,i,o):M2(f,St.memoizedState,i,o)},useTransition:function(){var i=xm(Si)[0],o=sn().memoizedState;return[typeof i=="boolean"?i:Eu(i),o]},useSyncExternalStore:u2,useId:j2,useHostTransitionStatus:km,useFormState:T2,useActionState:T2,useOptimistic:function(i,o){var f=sn();return St!==null?b2(f,St,i,o):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Im,useCacheRefresh:z2},lf=null,Au=0;function Fh(i){var o=Au;return Au+=1,lf===null&&(lf=[]),r2(lf,i,o)}function Su(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function qh(i,o){throw o.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function W2(i){var o=i._init;return o(i._payload)}function K2(i){function o(Y,V){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[V],Y.flags|=16):Z.push(V)}}function f(Y,V){if(!i)return null;for(;V!==null;)o(Y,V),V=V.sibling;return null}function h(Y){for(var V=new Map;Y!==null;)Y.key!==null?V.set(Y.key,Y):V.set(Y.index,Y),Y=Y.sibling;return V}function m(Y,V){return Y=vi(Y,V),Y.index=0,Y.sibling=null,Y}function y(Y,V,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<V?(Y.flags|=67108866,V):Z):(Y.flags|=67108866,V)):(Y.flags|=1048576,V)}function C(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function P(Y,V,Z,ae){return V===null||V.tag!==6?(V=im(Z,Y.mode,ae),V.return=Y,V):(V=m(V,Z),V.return=Y,V)}function j(Y,V,Z,ae){var Ne=Z.type;return Ne===E?se(Y,V,Z.props.children,ae,Z.key):V!==null&&(V.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===k&&W2(Ne)===V.type)?(V=m(V,Z.props),Su(V,Z),V.return=Y,V):(V=Sh(Z.type,Z.key,Z.props,null,Y.mode,ae),Su(V,Z),V.return=Y,V)}function Q(Y,V,Z,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==Z.containerInfo||V.stateNode.implementation!==Z.implementation?(V=am(Z,Y.mode,ae),V.return=Y,V):(V=m(V,Z.children||[]),V.return=Y,V)}function se(Y,V,Z,ae,Ne){return V===null||V.tag!==7?(V=So(Z,Y.mode,ae,Ne),V.return=Y,V):(V=m(V,Z),V.return=Y,V)}function oe(Y,V,Z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=im(""+V,Y.mode,Z),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return Z=Sh(V.type,V.key,V.props,null,Y.mode,Z),Su(Z,V),Z.return=Y,Z;case w:return V=am(V,Y.mode,Z),V.return=Y,V;case k:var ae=V._init;return V=ae(V._payload),oe(Y,V,Z)}if(U(V)||X(V))return V=So(V,Y.mode,Z,null),V.return=Y,V;if(typeof V.then=="function")return oe(Y,Fh(V),Z);if(V.$$typeof===I)return oe(Y,Ih(Y,V),Z);qh(Y,V)}return null}function J(Y,V,Z,ae){var Ne=V!==null?V.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ne!==null?null:P(Y,V,""+Z,ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ne?j(Y,V,Z,ae):null;case w:return Z.key===Ne?Q(Y,V,Z,ae):null;case k:return Ne=Z._init,Z=Ne(Z._payload),J(Y,V,Z,ae)}if(U(Z)||X(Z))return Ne!==null?null:se(Y,V,Z,ae,null);if(typeof Z.then=="function")return J(Y,V,Fh(Z),ae);if(Z.$$typeof===I)return J(Y,V,Ih(Y,Z),ae);qh(Y,Z)}return null}function ee(Y,V,Z,ae,Ne){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Y=Y.get(Z)||null,P(V,Y,""+ae,Ne);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return Y=Y.get(ae.key===null?Z:ae.key)||null,j(V,Y,ae,Ne);case w:return Y=Y.get(ae.key===null?Z:ae.key)||null,Q(V,Y,ae,Ne);case k:var tt=ae._init;return ae=tt(ae._payload),ee(Y,V,Z,ae,Ne)}if(U(ae)||X(ae))return Y=Y.get(Z)||null,se(V,Y,ae,Ne,null);if(typeof ae.then=="function")return ee(Y,V,Z,Fh(ae),Ne);if(ae.$$typeof===I)return ee(Y,V,Z,Ih(V,ae),Ne);qh(V,ae)}return null}function Le(Y,V,Z,ae){for(var Ne=null,tt=null,Oe=V,$e=V=0,En=null;Oe!==null&&$e<Z.length;$e++){Oe.index>$e?(En=Oe,Oe=null):En=Oe.sibling;var lt=J(Y,Oe,Z[$e],ae);if(lt===null){Oe===null&&(Oe=En);break}i&&Oe&&lt.alternate===null&&o(Y,Oe),V=y(lt,V,$e),tt===null?Ne=lt:tt.sibling=lt,tt=lt,Oe=En}if($e===Z.length)return f(Y,Oe),mt&&No(Y,$e),Ne;if(Oe===null){for(;$e<Z.length;$e++)Oe=oe(Y,Z[$e],ae),Oe!==null&&(V=y(Oe,V,$e),tt===null?Ne=Oe:tt.sibling=Oe,tt=Oe);return mt&&No(Y,$e),Ne}for(Oe=h(Oe);$e<Z.length;$e++)En=ee(Oe,Y,$e,Z[$e],ae),En!==null&&(i&&En.alternate!==null&&Oe.delete(En.key===null?$e:En.key),V=y(En,V,$e),tt===null?Ne=En:tt.sibling=En,tt=En);return i&&Oe.forEach(function(Ra){return o(Y,Ra)}),mt&&No(Y,$e),Ne}function Pe(Y,V,Z,ae){if(Z==null)throw Error(r(151));for(var Ne=null,tt=null,Oe=V,$e=V=0,En=null,lt=Z.next();Oe!==null&&!lt.done;$e++,lt=Z.next()){Oe.index>$e?(En=Oe,Oe=null):En=Oe.sibling;var Ra=J(Y,Oe,lt.value,ae);if(Ra===null){Oe===null&&(Oe=En);break}i&&Oe&&Ra.alternate===null&&o(Y,Oe),V=y(Ra,V,$e),tt===null?Ne=Ra:tt.sibling=Ra,tt=Ra,Oe=En}if(lt.done)return f(Y,Oe),mt&&No(Y,$e),Ne;if(Oe===null){for(;!lt.done;$e++,lt=Z.next())lt=oe(Y,lt.value,ae),lt!==null&&(V=y(lt,V,$e),tt===null?Ne=lt:tt.sibling=lt,tt=lt);return mt&&No(Y,$e),Ne}for(Oe=h(Oe);!lt.done;$e++,lt=Z.next())lt=ee(Oe,Y,$e,lt.value,ae),lt!==null&&(i&&lt.alternate!==null&&Oe.delete(lt.key===null?$e:lt.key),V=y(lt,V,$e),tt===null?Ne=lt:tt.sibling=lt,tt=lt);return i&&Oe.forEach(function(SR){return o(Y,SR)}),mt&&No(Y,$e),Ne}function Nt(Y,V,Z,ae){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ne=Z.key;V!==null;){if(V.key===Ne){if(Ne=Z.type,Ne===E){if(V.tag===7){f(Y,V.sibling),ae=m(V,Z.props.children),ae.return=Y,Y=ae;break e}}else if(V.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===k&&W2(Ne)===V.type){f(Y,V.sibling),ae=m(V,Z.props),Su(ae,Z),ae.return=Y,Y=ae;break e}f(Y,V);break}else o(Y,V);V=V.sibling}Z.type===E?(ae=So(Z.props.children,Y.mode,ae,Z.key),ae.return=Y,Y=ae):(ae=Sh(Z.type,Z.key,Z.props,null,Y.mode,ae),Su(ae,Z),ae.return=Y,Y=ae)}return C(Y);case w:e:{for(Ne=Z.key;V!==null;){if(V.key===Ne)if(V.tag===4&&V.stateNode.containerInfo===Z.containerInfo&&V.stateNode.implementation===Z.implementation){f(Y,V.sibling),ae=m(V,Z.children||[]),ae.return=Y,Y=ae;break e}else{f(Y,V);break}else o(Y,V);V=V.sibling}ae=am(Z,Y.mode,ae),ae.return=Y,Y=ae}return C(Y);case k:return Ne=Z._init,Z=Ne(Z._payload),Nt(Y,V,Z,ae)}if(U(Z))return Le(Y,V,Z,ae);if(X(Z)){if(Ne=X(Z),typeof Ne!="function")throw Error(r(150));return Z=Ne.call(Z),Pe(Y,V,Z,ae)}if(typeof Z.then=="function")return Nt(Y,V,Fh(Z),ae);if(Z.$$typeof===I)return Nt(Y,V,Ih(Y,Z),ae);qh(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,V!==null&&V.tag===6?(f(Y,V.sibling),ae=m(V,Z),ae.return=Y,Y=ae):(f(Y,V),ae=im(Z,Y.mode,ae),ae.return=Y,Y=ae),C(Y)):f(Y,V)}return function(Y,V,Z,ae){try{Au=0;var Ne=Nt(Y,V,Z,ae);return lf=null,Ne}catch(Oe){if(Oe===gu||Oe===xh)throw Oe;var tt=Dr(29,Oe,null,Y.mode);return tt.lanes=ae,tt.return=Y,tt}finally{}}}var uf=K2(!0),Y2=K2(!1),ss=K(null),Vs=null;function ga(i){var o=i.alternate;ne(un,un.current&1),ne(ss,i),Vs===null&&(o===null||af.current!==null||o.memoizedState!==null)&&(Vs=i)}function Z2(i){if(i.tag===22){if(ne(un,un.current),ne(ss,i),Vs===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Vs=i)}}else ma()}function ma(){ne(un,un.current),ne(ss,ss.current)}function Ti(i){te(ss),Vs===i&&(Vs=null),te(un)}var un=K(0);function Hh(i){for(var o=i;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Ob(f)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Lm(i,o,f,h){o=i.memoizedState,f=f(h,o),f=f==null?o:p({},o,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var jm={enqueueSetState:function(i,o,f){i=i._reactInternals;var h=kr(),m=da(h);m.payload=o,f!=null&&(m.callback=f),o=ha(i,m,h),o!==null&&(Br(o,i,h),bu(o,i,h))},enqueueReplaceState:function(i,o,f){i=i._reactInternals;var h=kr(),m=da(h);m.tag=1,m.payload=o,f!=null&&(m.callback=f),o=ha(i,m,h),o!==null&&(Br(o,i,h),bu(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var f=kr(),h=da(f);h.tag=2,o!=null&&(h.callback=o),o=ha(i,h,f),o!==null&&(Br(o,i,f),bu(o,i,f))}};function Q2(i,o,f,h,m,y,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,C):o.prototype&&o.prototype.isPureReactComponent?!ou(f,h)||!ou(m,y):!0}function X2(i,o,f,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,h),o.state!==i&&jm.enqueueReplaceState(o,o.state,null)}function $o(i,o){var f=o;if("ref"in o){f={};for(var h in o)h!=="ref"&&(f[h]=o[h])}if(i=i.defaultProps){f===o&&(f=p({},f));for(var m in i)f[m]===void 0&&(f[m]=i[m])}return f}var Vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function J2(i){Vh(i)}function eE(i){console.error(i)}function tE(i){Vh(i)}function Gh(i,o){try{var f=i.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function nE(i,o,f){try{var h=i.onCaughtError;h(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function zm(i,o,f){return f=da(f),f.tag=3,f.payload={element:null},f.callback=function(){Gh(i,o)},f}function rE(i){return i=da(i),i.tag=3,i}function sE(i,o,f,h){var m=f.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;i.payload=function(){return m(y)},i.callback=function(){nE(o,f,h)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){nE(o,f,h),typeof m!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function SI(i,o,f,h,m){if(f.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=f.alternate,o!==null&&du(o,f,m,!0),f=ss.current,f!==null){switch(f.tag){case 13:return Vs===null?ub():f.alternate===null&&Kt===0&&(Kt=3),f.flags&=-257,f.flags|=65536,f.lanes=m,h===mm?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([h]):o.add(h),hb(i,h,m)),!1;case 22:return f.flags|=65536,h===mm?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([h]):f.add(h)),hb(i,h,m)),!1}throw Error(r(435,f.tag))}return hb(i,h,m),ub(),!1}if(mt)return o=ss.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,h!==fm&&(i=Error(r(422),{cause:h}),uu(es(i,f)))):(h!==fm&&(o=Error(r(423),{cause:h}),uu(es(o,f))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=es(h,f),m=zm(i.stateNode,h,m),wm(i,m),Kt!==4&&(Kt=2)),!1;var y=Error(r(520),{cause:h});if(y=es(y,f),Pu===null?Pu=[y]:Pu.push(y),Kt!==4&&(Kt=2),o===null)return!0;h=es(h,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,i=m&-m,f.lanes|=i,i=zm(f.stateNode,h,i),wm(f,i),!1;case 1:if(o=f.type,y=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_a===null||!_a.has(y))))return f.flags|=65536,m&=-m,f.lanes|=m,m=rE(m),sE(m,i,f,h),wm(f,m),!1}f=f.return}while(f!==null);return!1}var iE=Error(r(461)),wn=!1;function xn(i,o,f,h){o.child=i===null?Y2(o,null,f,h):uf(o,i.child,f,h)}function aE(i,o,f,h,m){f=f.render;var y=o.ref;if("ref"in h){var C={};for(var P in h)P!=="ref"&&(C[P]=h[P])}else C=h;return xo(o),h=Am(i,o,f,C,y,m),P=Sm(),i!==null&&!wn?(Tm(i,o,m),Ni(i,o,m)):(mt&&P&&om(o),o.flags|=1,xn(i,o,h,m),o.child)}function oE(i,o,f,h,m){if(i===null){var y=f.type;return typeof y=="function"&&!sm(y)&&y.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=y,cE(i,o,y,h,m)):(i=Sh(f.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!Ym(i,m)){var C=y.memoizedProps;if(f=f.compare,f=f!==null?f:ou,f(C,h)&&i.ref===o.ref)return Ni(i,o,m)}return o.flags|=1,i=vi(y,h),i.ref=o.ref,i.return=o,o.child=i}function cE(i,o,f,h,m){if(i!==null){var y=i.memoizedProps;if(ou(y,h)&&i.ref===o.ref)if(wn=!1,o.pendingProps=h=y,Ym(i,m))(i.flags&131072)!==0&&(wn=!0);else return o.lanes=i.lanes,Ni(i,o,m)}return Fm(i,o,f,h,m)}function fE(i,o,f){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=y!==null?y.baseLanes|f:f,i!==null){for(m=o.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~h}else o.childLanes=0,o.child=null;return lE(i,o,h,f)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rh(o,y!==null?y.cachePool:null),y!==null?c2(o,y):Em(),Z2(o);else return o.lanes=o.childLanes=536870912,lE(i,o,y!==null?y.baseLanes|f:f,f)}else y!==null?(Rh(o,y.cachePool),c2(o,y),ma(),o.memoizedState=null):(i!==null&&Rh(o,null),Em(),ma());return xn(i,o,m,f),o.child}function lE(i,o,f,h){var m=gm();return m=m===null?null:{parent:ln._currentValue,pool:m},o.memoizedState={baseLanes:f,cachePool:m},i!==null&&Rh(o,null),Em(),Z2(o),i!==null&&du(i,o,h,!0),null}function Wh(i,o){var f=o.ref;if(f===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(o.flags|=4194816)}}function Fm(i,o,f,h,m){return xo(o),f=Am(i,o,f,h,void 0,m),h=Sm(),i!==null&&!wn?(Tm(i,o,m),Ni(i,o,m)):(mt&&h&&om(o),o.flags|=1,xn(i,o,f,m),o.child)}function uE(i,o,f,h,m,y){return xo(o),o.updateQueue=null,f=l2(o,h,f,m),f2(i),h=Sm(),i!==null&&!wn?(Tm(i,o,y),Ni(i,o,y)):(mt&&h&&om(o),o.flags|=1,xn(i,o,f,y),o.child)}function dE(i,o,f,h,m){if(xo(o),o.stateNode===null){var y=ef,C=f.contextType;typeof C=="object"&&C!==null&&(y=Gn(C)),y=new f(h,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=h,y.state=o.memoizedState,y.refs={},bm(o),C=f.contextType,y.context=typeof C=="object"&&C!==null?Gn(C):ef,y.state=o.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(Lm(o,f,C,h),y.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&jm.enqueueReplaceState(y,y.state,null),wu(o,h,y,m),yu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){y=o.stateNode;var P=o.memoizedProps,j=$o(f,P);y.props=j;var Q=y.context,se=f.contextType;C=ef,typeof se=="object"&&se!==null&&(C=Gn(se));var oe=f.getDerivedStateFromProps;se=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||Q!==C)&&X2(o,y,h,C),ua=!1;var J=o.memoizedState;y.state=J,wu(o,h,y,m),yu(),Q=o.memoizedState,P||J!==Q||ua?(typeof oe=="function"&&(Lm(o,f,oe,h),Q=o.memoizedState),(j=ua||Q2(o,f,j,h,J,Q,C))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Q),y.props=h,y.state=Q,y.context=C,h=j):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{y=o.stateNode,ym(i,o),C=o.memoizedProps,se=$o(f,C),y.props=se,oe=o.pendingProps,J=y.context,Q=f.contextType,j=ef,typeof Q=="object"&&Q!==null&&(j=Gn(Q)),P=f.getDerivedStateFromProps,(Q=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==oe||J!==j)&&X2(o,y,h,j),ua=!1,J=o.memoizedState,y.state=J,wu(o,h,y,m),yu();var ee=o.memoizedState;C!==oe||J!==ee||ua||i!==null&&i.dependencies!==null&&Oh(i.dependencies)?(typeof P=="function"&&(Lm(o,f,P,h),ee=o.memoizedState),(se=ua||Q2(o,f,se,h,J,ee,j)||i!==null&&i.dependencies!==null&&Oh(i.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ee,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ee,j)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ee),y.props=h,y.state=ee,y.context=j,h=se):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),h=!1)}return y=h,Wh(i,o),h=(o.flags&128)!==0,y||h?(y=o.stateNode,f=h&&typeof f.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,i!==null&&h?(o.child=uf(o,i.child,null,m),o.child=uf(o,null,f,m)):xn(i,o,f,m),o.memoizedState=y.state,i=o.child):i=Ni(i,o,m),i}function hE(i,o,f,h){return lu(),o.flags|=256,xn(i,o,f,h),o.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(i){return{baseLanes:i,cachePool:e2()}}function Vm(i,o,f){return i=i!==null?i.childLanes&~f:0,o&&(i|=is),i}function pE(i,o,f){var h=o.pendingProps,m=!1,y=(o.flags&128)!==0,C;if((C=y)||(C=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),C&&(m=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,i===null){if(mt){if(m?ga(o):ma(),mt){var P=Wt,j;if(j=P){e:{for(j=P,P=Hs;j.nodeType!==8;){if(!P){P=null;break e}if(j=As(j.nextSibling),j===null){P=null;break e}}P=j}P!==null?(o.memoizedState={dehydrated:P,treeContext:To!==null?{id:Ei,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},j=Dr(18,null,null,0),j.stateNode=P,j.return=o,o.child=j,tr=o,Wt=null,j=!0):j=!1}j||Io(o)}if(P=o.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ob(P)?o.lanes=32:o.lanes=536870912,null;Ti(o)}return P=h.children,h=h.fallback,m?(ma(),m=o.mode,P=Kh({mode:"hidden",children:P},m),h=So(h,m,f,null),P.return=o,h.return=o,P.sibling=h,o.child=P,m=o.child,m.memoizedState=Hm(f),m.childLanes=Vm(i,C,f),o.memoizedState=qm,h):(ga(o),Gm(o,P))}if(j=i.memoizedState,j!==null&&(P=j.dehydrated,P!==null)){if(y)o.flags&256?(ga(o),o.flags&=-257,o=Wm(i,o,f)):o.memoizedState!==null?(ma(),o.child=i.child,o.flags|=128,o=null):(ma(),m=h.fallback,P=o.mode,h=Kh({mode:"visible",children:h.children},P),m=So(m,P,f,null),m.flags|=2,h.return=o,m.return=o,h.sibling=m,o.child=h,uf(o,i.child,null,f),h=o.child,h.memoizedState=Hm(f),h.childLanes=Vm(i,C,f),o.memoizedState=qm,o=m);else if(ga(o),Ob(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var Q=C.dgst;C=Q,h=Error(r(419)),h.stack="",h.digest=C,uu({value:h,source:null,stack:null}),o=Wm(i,o,f)}else if(wn||du(i,o,f,!1),C=(f&i.childLanes)!==0,wn||C){if(C=Ut,C!==null&&(h=f&-f,h=(h&42)!==0?1:Ig(h),h=(h&(C.suspendedLanes|f))!==0?0:h,h!==0&&h!==j.retryLane))throw j.retryLane=h,Jc(i,h),Br(C,i,h),iE;P.data==="$?"||ub(),o=Wm(i,o,f)}else P.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=j.treeContext,Wt=As(P.nextSibling),tr=o,mt=!0,Oo=null,Hs=!1,i!==null&&(ns[rs++]=Ei,ns[rs++]=_i,ns[rs++]=To,Ei=i.id,_i=i.overflow,To=o),o=Gm(o,h.children),o.flags|=4096);return o}return m?(ma(),m=h.fallback,P=o.mode,j=i.child,Q=j.sibling,h=vi(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,Q!==null?m=vi(Q,m):(m=So(m,P,f,null),m.flags|=2),m.return=o,h.return=o,h.sibling=m,o.child=h,h=m,m=o.child,P=i.child.memoizedState,P===null?P=Hm(f):(j=P.cachePool,j!==null?(Q=ln._currentValue,j=j.parent!==Q?{parent:Q,pool:Q}:j):j=e2(),P={baseLanes:P.baseLanes|f,cachePool:j}),m.memoizedState=P,m.childLanes=Vm(i,C,f),o.memoizedState=qm,h):(ga(o),f=i.child,i=f.sibling,f=vi(f,{mode:"visible",children:h.children}),f.return=o,f.sibling=null,i!==null&&(C=o.deletions,C===null?(o.deletions=[i],o.flags|=16):C.push(i)),o.child=f,o.memoizedState=null,f)}function Gm(i,o){return o=Kh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Kh(i,o){return i=Dr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Wm(i,o,f){return uf(o,i.child,null,f),i=Gm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function gE(i,o,f){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),um(i.return,o,f)}function Km(i,o,f,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=f,y.tailMode=m)}function mE(i,o,f){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(xn(i,o,h.children,f),h=un.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gE(i,f,o);else if(i.tag===19)gE(i,f,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(ne(un,h),m){case"forwards":for(f=o.child,m=null;f!==null;)i=f.alternate,i!==null&&Hh(i)===null&&(m=f),f=f.sibling;f=m,f===null?(m=o.child,o.child=null):(m=f.sibling,f.sibling=null),Km(o,!1,m,f,y);break;case"backwards":for(f=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Hh(i)===null){o.child=m;break}i=m.sibling,m.sibling=f,f=m,m=i}Km(o,!0,f,null,y);break;case"together":Km(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ni(i,o,f){if(i!==null&&(o.dependencies=i.dependencies),Ea|=o.lanes,(f&o.childLanes)===0)if(i!==null){if(du(i,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,f=vi(i,i.pendingProps),o.child=f,f.return=o;i.sibling!==null;)i=i.sibling,f=f.sibling=vi(i,i.pendingProps),f.return=o;f.sibling=null}return o.child}function Ym(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Oh(i)))}function TI(i,o,f){switch(o.tag){case 3:Ie(o,o.stateNode.containerInfo),la(o,ln,i.memoizedState.cache),lu();break;case 27:case 5:nn(o);break;case 4:Ie(o,o.stateNode.containerInfo);break;case 10:la(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ga(o),o.flags|=128,null):(f&o.child.childLanes)!==0?pE(i,o,f):(ga(o),i=Ni(i,o,f),i!==null?i.sibling:null);ga(o);break;case 19:var m=(i.flags&128)!==0;if(h=(f&o.childLanes)!==0,h||(du(i,o,f,!1),h=(f&o.childLanes)!==0),m){if(h)return mE(i,o,f);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ne(un,un.current),h)break;return null;case 22:case 23:return o.lanes=0,fE(i,o,f);case 24:la(o,ln,i.memoizedState.cache)}return Ni(i,o,f)}function bE(i,o,f){if(i!==null)if(i.memoizedProps!==o.pendingProps)wn=!0;else{if(!Ym(i,f)&&(o.flags&128)===0)return wn=!1,TI(i,o,f);wn=(i.flags&131072)!==0}else wn=!1,mt&&(o.flags&1048576)!==0&&Wv(o,Nh,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var h=o.elementType,m=h._init;if(h=m(h._payload),o.type=h,typeof h=="function")sm(h)?(i=$o(h,i),o.tag=1,o=dE(null,o,h,i,f)):(o.tag=0,o=Fm(null,o,h,i,f));else{if(h!=null){if(m=h.$$typeof,m===x){o.tag=11,o=aE(null,o,h,i,f);break e}else if(m===R){o.tag=14,o=oE(null,o,h,i,f);break e}}throw o=W(h)||h,Error(r(306,o,""))}}return o;case 0:return Fm(i,o,o.type,o.pendingProps,f);case 1:return h=o.type,m=$o(h,o.pendingProps),dE(i,o,h,m,f);case 3:e:{if(Ie(o,o.stateNode.containerInfo),i===null)throw Error(r(387));h=o.pendingProps;var y=o.memoizedState;m=y.element,ym(i,o),wu(o,h,null,f);var C=o.memoizedState;if(h=C.cache,la(o,ln,h),h!==y.cache&&dm(o,[ln],f,!0),yu(),h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=hE(i,o,h,f);break e}else if(h!==m){m=es(Error(r(424)),o),uu(m),o=hE(i,o,h,f);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=As(i.firstChild),tr=o,mt=!0,Oo=null,Hs=!0,f=Y2(o,null,h,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(lu(),h===m){o=Ni(i,o,f);break e}xn(i,o,h,f)}o=o.child}return o;case 26:return Wh(i,o),i===null?(f=E8(o.type,null,o.pendingProps,null))?o.memoizedState=f:mt||(f=o.type,i=o.pendingProps,h=cp(he.current).createElement(f),h[Vn]=o,h[ur]=i,Dn(h,f,i),yn(h),o.stateNode=h):o.memoizedState=E8(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return nn(o),i===null&&mt&&(h=o.stateNode=y8(o.type,o.pendingProps,he.current),tr=o,Hs=!0,m=Wt,Sa(o.type)?(Ib=m,Wt=As(h.firstChild)):Wt=m),xn(i,o,o.pendingProps.children,f),Wh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&mt&&((m=h=Wt)&&(h=eR(h,o.type,o.pendingProps,Hs),h!==null?(o.stateNode=h,tr=o,Wt=As(h.firstChild),Hs=!1,m=!0):m=!1),m||Io(o)),nn(o),m=o.type,y=o.pendingProps,C=i!==null?i.memoizedProps:null,h=y.children,Sb(m,y)?h=null:C!==null&&Sb(m,C)&&(o.flags|=32),o.memoizedState!==null&&(m=Am(i,o,yI,null,null,f),zu._currentValue=m),Wh(i,o),xn(i,o,h,f),o.child;case 6:return i===null&&mt&&((i=f=Wt)&&(f=tR(f,o.pendingProps,Hs),f!==null?(o.stateNode=f,tr=o,Wt=null,i=!0):i=!1),i||Io(o)),null;case 13:return pE(i,o,f);case 4:return Ie(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=uf(o,null,h,f):xn(i,o,h,f),o.child;case 11:return aE(i,o,o.type,o.pendingProps,f);case 7:return xn(i,o,o.pendingProps,f),o.child;case 8:return xn(i,o,o.pendingProps.children,f),o.child;case 12:return xn(i,o,o.pendingProps.children,f),o.child;case 10:return h=o.pendingProps,la(o,o.type,h.value),xn(i,o,h.children,f),o.child;case 9:return m=o.type._context,h=o.pendingProps.children,xo(o),m=Gn(m),h=h(m),o.flags|=1,xn(i,o,h,f),o.child;case 14:return oE(i,o,o.type,o.pendingProps,f);case 15:return cE(i,o,o.type,o.pendingProps,f);case 19:return mE(i,o,f);case 31:return h=o.pendingProps,f=o.mode,h={mode:h.mode,children:h.children},i===null?(f=Kh(h,f),f.ref=o.ref,o.child=f,f.return=o,o=f):(f=vi(i.child,h),f.ref=o.ref,o.child=f,f.return=o,o=f),o;case 22:return fE(i,o,f);case 24:return xo(o),h=Gn(ln),i===null?(m=gm(),m===null&&(m=Ut,y=hm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=f),m=y),o.memoizedState={parent:h,cache:m},bm(o),la(o,ln,m)):((i.lanes&f)!==0&&(ym(i,o),wu(o,null,null,f),yu()),m=i.memoizedState,y=o.memoizedState,m.parent!==h?(m={parent:h,cache:h},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),la(o,ln,h)):(h=y.cache,la(o,ln,h),h!==m.cache&&dm(o,[ln],f,!0))),xn(i,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Oi(i){i.flags|=4}function yE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!T8(o)){if(o=ss.current,o!==null&&((ft&4194048)===ft?Vs!==null:(ft&62914560)!==ft&&(ft&536870912)===0||o!==Vs))throw mu=mm,t2;i.flags|=8192}}function Yh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Zw():536870912,i.lanes|=o,gf|=o)}function Tu(i,o){if(!mt)switch(i.tailMode){case"hidden":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ht(i){var o=i.alternate!==null&&i.alternate.child===i.child,f=0,h=0;if(o)for(var m=i.child;m!==null;)f|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)f|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=f,o}function NI(i,o,f){var h=o.pendingProps;switch(cm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return Ht(o),null;case 3:return f=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ai(ln),Ge(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(fu(o)?Oi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zv())),Ht(o),null;case 26:return f=o.memoizedState,i===null?(Oi(o),f!==null?(Ht(o),yE(o,f)):(Ht(o),o.flags&=-16777217)):f?f!==i.memoizedState?(Oi(o),Ht(o),yE(o,f)):(Ht(o),o.flags&=-16777217):(i.memoizedProps!==h&&Oi(o),Ht(o),o.flags&=-16777217),null;case 27:Gt(o),f=he.current;var m=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Oi(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ht(o),null}i=re.current,fu(o)?Kv(o):(i=y8(m,h,f),o.stateNode=i,Oi(o))}return Ht(o),null;case 5:if(Gt(o),f=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Oi(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ht(o),null}if(i=re.current,fu(o))Kv(o);else{switch(m=cp(he.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?m.createElement(f,{is:h.is}):m.createElement(f)}}i[Vn]=o,i[ur]=h;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=i;e:switch(Dn(i,f,h),f){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Oi(o)}}return Ht(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Oi(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=he.current,fu(o)){if(i=o.stateNode,f=o.memoizedProps,h=null,m=tr,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[Vn]=o,i=!!(i.nodeValue===f||h!==null&&h.suppressHydrationWarning===!0||u8(i.nodeValue,f)),i||Io(o)}else i=cp(i).createTextNode(h),i[Vn]=o,o.stateNode=i}return Ht(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=fu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Vn]=o}else lu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),m=!1}else m=Zv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ti(o),o):(Ti(o),null)}if(Ti(o),(o.flags&128)!==0)return o.lanes=f,o;if(f=h!==null,i=i!==null&&i.memoizedState!==null,f){h=o.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)}return f!==i&&f&&(o.child.flags|=8192),Yh(o,o.updateQueue),Ht(o),null;case 4:return Ge(),i===null&&vb(o.stateNode.containerInfo),Ht(o),null;case 10:return Ai(o.type),Ht(o),null;case 19:if(te(un),m=o.memoizedState,m===null)return Ht(o),null;if(h=(o.flags&128)!==0,y=m.rendering,y===null)if(h)Tu(m,!1);else{if(Kt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(y=Hh(i),y!==null){for(o.flags|=128,Tu(m,!1),i=y.updateQueue,o.updateQueue=i,Yh(o,i),o.subtreeFlags=0,i=f,f=o.child;f!==null;)Gv(f,i),f=f.sibling;return ne(un,un.current&1|2),o.child}i=i.sibling}m.tail!==null&&Qr()>Xh&&(o.flags|=128,h=!0,Tu(m,!1),o.lanes=4194304)}else{if(!h)if(i=Hh(y),i!==null){if(o.flags|=128,h=!0,i=i.updateQueue,o.updateQueue=i,Yh(o,i),Tu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!mt)return Ht(o),null}else 2*Qr()-m.renderingStartTime>Xh&&f!==536870912&&(o.flags|=128,h=!0,Tu(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(i=m.last,i!==null?i.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Qr(),o.sibling=null,i=un.current,ne(un,h?i&1|2:i&1),o):(Ht(o),null);case 22:case 23:return Ti(o),_m(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(f&536870912)!==0&&(o.flags&128)===0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),f=o.updateQueue,f!==null&&Yh(o,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048),i!==null&&te(Po),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ai(ln),Ht(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function OI(i,o){switch(cm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ai(ln),Ge(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Gt(o),null;case 13:if(Ti(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));lu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return te(un),null;case 4:return Ge(),null;case 10:return Ai(o.type),null;case 22:case 23:return Ti(o),_m(),i!==null&&te(Po),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ai(ln),null;case 25:return null;default:return null}}function wE(i,o){switch(cm(o),o.tag){case 3:Ai(ln),Ge();break;case 26:case 27:case 5:Gt(o);break;case 4:Ge();break;case 13:Ti(o);break;case 19:te(un);break;case 10:Ai(o.type);break;case 22:case 23:Ti(o),_m(),i!==null&&te(Po);break;case 24:Ai(ln)}}function Nu(i,o){try{var f=o.updateQueue,h=f!==null?f.lastEffect:null;if(h!==null){var m=h.next;f=m;do{if((f.tag&i)===i){h=void 0;var y=f.create,C=f.inst;h=y(),C.destroy=h}f=f.next}while(f!==m)}}catch(P){Rt(o,o.return,P)}}function ba(i,o,f){try{var h=o.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&i)===i){var C=h.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,m=o;var j=f,Q=P;try{Q()}catch(se){Rt(m,j,se)}}}h=h.next}while(h!==y)}}catch(se){Rt(o,o.return,se)}}function vE(i){var o=i.updateQueue;if(o!==null){var f=i.stateNode;try{o2(o,f)}catch(h){Rt(i,i.return,h)}}}function EE(i,o,f){f.props=$o(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(h){Rt(i,o,h)}}function Ou(i,o){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof f=="function"?i.refCleanup=f(h):f.current=h}}catch(m){Rt(i,o,m)}}function Gs(i,o){var f=i.ref,h=i.refCleanup;if(f!==null)if(typeof h=="function")try{h()}catch(m){Rt(i,o,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(m){Rt(i,o,m)}else f.current=null}function _E(i){var o=i.type,f=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&h.focus();break e;case"img":f.src?h.src=f.src:f.srcSet&&(h.srcset=f.srcSet)}}catch(m){Rt(i,i.return,m)}}function Zm(i,o,f){try{var h=i.stateNode;YI(h,i.type,f,o),h[ur]=o}catch(m){Rt(i,i.return,m)}}function CE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sa(i.type)||i.tag===4}function Qm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||CE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xm(i,o,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(i),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=op));else if(h!==4&&(h===27&&Sa(i.type)&&(f=i.stateNode,o=null),i=i.child,i!==null))for(Xm(i,o,f),i=i.sibling;i!==null;)Xm(i,o,f),i=i.sibling}function Zh(i,o,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?f.insertBefore(i,o):f.appendChild(i);else if(h!==4&&(h===27&&Sa(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(Zh(i,o,f),i=i.sibling;i!==null;)Zh(i,o,f),i=i.sibling}function AE(i){var o=i.stateNode,f=i.memoizedProps;try{for(var h=i.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Dn(o,h,f),o[Vn]=i,o[ur]=f}catch(y){Rt(i,i.return,y)}}var Ii=!1,Xt=!1,Jm=!1,SE=typeof WeakSet=="function"?WeakSet:Set,vn=null;function II(i,o){if(i=i.containerInfo,Cb=pp,i=Mv(i),Qg(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{f.nodeType,y.nodeType}catch{f=null;break e}var C=0,P=-1,j=-1,Q=0,se=0,oe=i,J=null;t:for(;;){for(var ee;oe!==f||m!==0&&oe.nodeType!==3||(P=C+m),oe!==y||h!==0&&oe.nodeType!==3||(j=C+h),oe.nodeType===3&&(C+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)J=oe,oe=ee;for(;;){if(oe===i)break t;if(J===f&&++Q===m&&(P=C),J===y&&++se===h&&(j=C),(ee=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ee}f=P===-1||j===-1?null:{start:P,end:j}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ab={focusedElem:i,selectionRange:f},pp=!1,vn=o;vn!==null;)if(o=vn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,vn=i;else for(;vn!==null;){switch(o=vn,y=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,f=o,m=y.memoizedProps,y=y.memoizedState,h=f.stateNode;try{var Le=$o(f.type,m,f.elementType===f.type);i=h.getSnapshotBeforeUpdate(Le,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){Rt(f,f.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,f=i.nodeType,f===9)Nb(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,vn=i;break}vn=o.return}}function TE(i,o,f){var h=f.flags;switch(f.tag){case 0:case 11:case 15:ya(i,f),h&4&&Nu(5,f);break;case 1:if(ya(i,f),h&4)if(i=f.stateNode,o===null)try{i.componentDidMount()}catch(C){Rt(f,f.return,C)}else{var m=$o(f.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(m,o,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Rt(f,f.return,C)}}h&64&&vE(f),h&512&&Ou(f,f.return);break;case 3:if(ya(i,f),h&64&&(i=f.updateQueue,i!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{o2(i,o)}catch(C){Rt(f,f.return,C)}}break;case 27:o===null&&h&4&&AE(f);case 26:case 5:ya(i,f),o===null&&h&4&&_E(f),h&512&&Ou(f,f.return);break;case 12:ya(i,f);break;case 13:ya(i,f),h&4&&IE(i,f),h&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=BI.bind(null,f),nR(i,f))));break;case 22:if(h=f.memoizedState!==null||Ii,!h){o=o!==null&&o.memoizedState!==null||Xt,m=Ii;var y=Xt;Ii=h,(Xt=o)&&!y?wa(i,f,(f.subtreeFlags&8772)!==0):ya(i,f),Ii=m,Xt=y}break;case 30:break;default:ya(i,f)}}function NE(i){var o=i.alternate;o!==null&&(i.alternate=null,NE(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Pg(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ft=null,pr=!1;function Ri(i,o,f){for(f=f.child;f!==null;)OE(i,o,f),f=f.sibling}function OE(i,o,f){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(oa,f)}catch{}switch(f.tag){case 26:Xt||Gs(f,o),Ri(i,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Xt||Gs(f,o);var h=Ft,m=pr;Sa(f.type)&&(Ft=f.stateNode,pr=!1),Ri(i,o,f),ku(f.stateNode),Ft=h,pr=m;break;case 5:Xt||Gs(f,o);case 6:if(h=Ft,m=pr,Ft=null,Ri(i,o,f),Ft=h,pr=m,Ft!==null)if(pr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(f.stateNode)}catch(y){Rt(f,o,y)}else try{Ft.removeChild(f.stateNode)}catch(y){Rt(f,o,y)}break;case 18:Ft!==null&&(pr?(i=Ft,m8(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),Vu(i)):m8(Ft,f.stateNode));break;case 4:h=Ft,m=pr,Ft=f.stateNode.containerInfo,pr=!0,Ri(i,o,f),Ft=h,pr=m;break;case 0:case 11:case 14:case 15:Xt||ba(2,f,o),Xt||ba(4,f,o),Ri(i,o,f);break;case 1:Xt||(Gs(f,o),h=f.stateNode,typeof h.componentWillUnmount=="function"&&EE(f,o,h)),Ri(i,o,f);break;case 21:Ri(i,o,f);break;case 22:Xt=(h=Xt)||f.memoizedState!==null,Ri(i,o,f),Xt=h;break;default:Ri(i,o,f)}}function IE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Vu(i)}catch(f){Rt(o,o.return,f)}}function RI(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new SE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new SE),o;default:throw Error(r(435,i.tag))}}function eb(i,o){var f=RI(i);o.forEach(function(h){var m=LI.bind(null,i,h);f.has(h)||(f.add(h),h.then(m,m))})}function $r(i,o){var f=o.deletions;if(f!==null)for(var h=0;h<f.length;h++){var m=f[h],y=i,C=o,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(Sa(P.type)){Ft=P.stateNode,pr=!1;break e}break;case 5:Ft=P.stateNode,pr=!1;break e;case 3:case 4:Ft=P.stateNode.containerInfo,pr=!0;break e}P=P.return}if(Ft===null)throw Error(r(160));OE(y,C,m),Ft=null,pr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)RE(o,i),o=o.sibling}var Cs=null;function RE(i,o){var f=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$r(o,i),Ur(i),h&4&&(ba(3,i,i.return),Nu(3,i),ba(5,i,i.return));break;case 1:$r(o,i),Ur(i),h&512&&(Xt||f===null||Gs(f,f.return)),h&64&&Ii&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?h:f.concat(h))));break;case 26:var m=Cs;if($r(o,i),Ur(i),h&512&&(Xt||f===null||Gs(f,f.return)),h&4){var y=f!==null?f.memoizedState:null;if(h=i.memoizedState,f===null)if(h===null)if(i.stateNode===null){e:{h=i.type,f=i.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Xl]||y[Vn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),Dn(y,h,f),y[Vn]=i,yn(y),h=y;break e;case"link":var C=A8("link","href",m).get(h+(f.href||""));if(C){for(var P=0;P<C.length;P++)if(y=C[P],y.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&y.getAttribute("rel")===(f.rel==null?null:f.rel)&&y.getAttribute("title")===(f.title==null?null:f.title)&&y.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(P,1);break t}}y=m.createElement(h),Dn(y,h,f),m.head.appendChild(y);break;case"meta":if(C=A8("meta","content",m).get(h+(f.content||""))){for(P=0;P<C.length;P++)if(y=C[P],y.getAttribute("content")===(f.content==null?null:""+f.content)&&y.getAttribute("name")===(f.name==null?null:f.name)&&y.getAttribute("property")===(f.property==null?null:f.property)&&y.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&y.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(P,1);break t}}y=m.createElement(h),Dn(y,h,f),m.head.appendChild(y);break;default:throw Error(r(468,h))}y[Vn]=i,yn(y),h=y}i.stateNode=h}else S8(m,i.type,i.stateNode);else i.stateNode=C8(m,h,i.memoizedProps);else y!==h?(y===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):y.count--,h===null?S8(m,i.type,i.stateNode):C8(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Zm(i,i.memoizedProps,f.memoizedProps)}break;case 27:$r(o,i),Ur(i),h&512&&(Xt||f===null||Gs(f,f.return)),f!==null&&h&4&&Zm(i,i.memoizedProps,f.memoizedProps);break;case 5:if($r(o,i),Ur(i),h&512&&(Xt||f===null||Gs(f,f.return)),i.flags&32){m=i.stateNode;try{Gc(m,"")}catch(ee){Rt(i,i.return,ee)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,Zm(i,m,f!==null?f.memoizedProps:m)),h&1024&&(Jm=!0);break;case 6:if($r(o,i),Ur(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,f=i.stateNode;try{f.nodeValue=h}catch(ee){Rt(i,i.return,ee)}}break;case 3:if(up=null,m=Cs,Cs=fp(o.containerInfo),$r(o,i),Cs=m,Ur(i),h&4&&f!==null&&f.memoizedState.isDehydrated)try{Vu(o.containerInfo)}catch(ee){Rt(i,i.return,ee)}Jm&&(Jm=!1,xE(i));break;case 4:h=Cs,Cs=fp(i.stateNode.containerInfo),$r(o,i),Ur(i),Cs=h;break;case 12:$r(o,i),Ur(i);break;case 13:$r(o,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ab=Qr()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,eb(i,h)));break;case 22:m=i.memoizedState!==null;var j=f!==null&&f.memoizedState!==null,Q=Ii,se=Xt;if(Ii=Q||m,Xt=se||j,$r(o,i),Xt=se,Ii=Q,Ur(i),h&8192)e:for(o=i.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(f===null||j||Ii||Xt||Uo(i)),f=null,o=i;;){if(o.tag===5||o.tag===26){if(f===null){j=f=o;try{if(y=j.stateNode,m)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=j.stateNode;var oe=j.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;P.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){Rt(j,j.return,ee)}}}else if(o.tag===6){if(f===null){j=o;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(ee){Rt(j,j.return,ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(f=h.retryQueue,f!==null&&(h.retryQueue=null,eb(i,f))));break;case 19:$r(o,i),Ur(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,eb(i,h)));break;case 30:break;case 21:break;default:$r(o,i),Ur(i)}}function Ur(i){var o=i.flags;if(o&2){try{for(var f,h=i.return;h!==null;){if(CE(h)){f=h;break}h=h.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var m=f.stateNode,y=Qm(i);Zh(i,y,m);break;case 5:var C=f.stateNode;f.flags&32&&(Gc(C,""),f.flags&=-33);var P=Qm(i);Zh(i,P,C);break;case 3:case 4:var j=f.stateNode.containerInfo,Q=Qm(i);Xm(i,Q,j);break;default:throw Error(r(161))}}catch(se){Rt(i,i.return,se)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function xE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;xE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ya(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)TE(i,o.alternate,o),o=o.sibling}function Uo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ba(4,o,o.return),Uo(o);break;case 1:Gs(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&EE(o,o.return,f),Uo(o);break;case 27:ku(o.stateNode);case 26:case 5:Gs(o,o.return),Uo(o);break;case 22:o.memoizedState===null&&Uo(o);break;case 30:Uo(o);break;default:Uo(o)}i=i.sibling}}function wa(i,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,m=i,y=o,C=y.flags;switch(y.tag){case 0:case 11:case 15:wa(m,y,f),Nu(4,y);break;case 1:if(wa(m,y,f),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Rt(h,h.return,Q)}if(h=y,m=h.updateQueue,m!==null){var P=h.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)a2(j[m],P)}catch(Q){Rt(h,h.return,Q)}}f&&C&64&&vE(y),Ou(y,y.return);break;case 27:AE(y);case 26:case 5:wa(m,y,f),f&&h===null&&C&4&&_E(y),Ou(y,y.return);break;case 12:wa(m,y,f);break;case 13:wa(m,y,f),f&&C&4&&IE(m,y);break;case 22:y.memoizedState===null&&wa(m,y,f),Ou(y,y.return);break;case 30:break;default:wa(m,y,f)}o=o.sibling}}function tb(i,o){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&hu(f))}function nb(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&hu(i))}function Ws(i,o,f,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)PE(i,o,f,h),o=o.sibling}function PE(i,o,f,h){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Ws(i,o,f,h),m&2048&&Nu(9,o);break;case 1:Ws(i,o,f,h);break;case 3:Ws(i,o,f,h),m&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&hu(i)));break;case 12:if(m&2048){Ws(i,o,f,h),i=o.stateNode;try{var y=o.memoizedProps,C=y.id,P=y.onPostCommit;typeof P=="function"&&P(C,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){Rt(o,o.return,j)}}else Ws(i,o,f,h);break;case 13:Ws(i,o,f,h);break;case 23:break;case 22:y=o.stateNode,C=o.alternate,o.memoizedState!==null?y._visibility&2?Ws(i,o,f,h):Iu(i,o):y._visibility&2?Ws(i,o,f,h):(y._visibility|=2,df(i,o,f,h,(o.subtreeFlags&10256)!==0)),m&2048&&tb(C,o);break;case 24:Ws(i,o,f,h),m&2048&&nb(o.alternate,o);break;default:Ws(i,o,f,h)}}function df(i,o,f,h,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=i,C=o,P=f,j=h,Q=C.flags;switch(C.tag){case 0:case 11:case 15:df(y,C,P,j,m),Nu(8,C);break;case 23:break;case 22:var se=C.stateNode;C.memoizedState!==null?se._visibility&2?df(y,C,P,j,m):Iu(y,C):(se._visibility|=2,df(y,C,P,j,m)),m&&Q&2048&&tb(C.alternate,C);break;case 24:df(y,C,P,j,m),m&&Q&2048&&nb(C.alternate,C);break;default:df(y,C,P,j,m)}o=o.sibling}}function Iu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=i,h=o,m=h.flags;switch(h.tag){case 22:Iu(f,h),m&2048&&tb(h.alternate,h);break;case 24:Iu(f,h),m&2048&&nb(h.alternate,h);break;default:Iu(f,h)}o=o.sibling}}var Ru=8192;function hf(i){if(i.subtreeFlags&Ru)for(i=i.child;i!==null;)DE(i),i=i.sibling}function DE(i){switch(i.tag){case 26:hf(i),i.flags&Ru&&i.memoizedState!==null&&gR(Cs,i.memoizedState,i.memoizedProps);break;case 5:hf(i);break;case 3:case 4:var o=Cs;Cs=fp(i.stateNode.containerInfo),hf(i),Cs=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ru,Ru=16777216,hf(i),Ru=o):hf(i));break;default:hf(i)}}function $E(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function xu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var h=o[f];vn=h,ME(h,i)}$E(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)UE(i),i=i.sibling}function UE(i){switch(i.tag){case 0:case 11:case 15:xu(i),i.flags&2048&&ba(9,i,i.return);break;case 3:xu(i);break;case 12:xu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Qh(i)):xu(i);break;default:xu(i)}}function Qh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var h=o[f];vn=h,ME(h,i)}$E(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ba(8,o,o.return),Qh(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,Qh(o));break;default:Qh(o)}i=i.sibling}}function ME(i,o){for(;vn!==null;){var f=vn;switch(f.tag){case 0:case 11:case 15:ba(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var h=f.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:hu(f.memoizedState.cache)}if(h=f.child,h!==null)h.return=f,vn=h;else e:for(f=i;vn!==null;){h=vn;var m=h.sibling,y=h.return;if(NE(h),h===f){vn=null;break e}if(m!==null){m.return=y,vn=m;break e}vn=y}}}var xI={getCacheForType:function(i){var o=Gn(ln),f=o.data.get(i);return f===void 0&&(f=i(),o.data.set(i,f)),f}},PI=typeof WeakMap=="function"?WeakMap:Map,Et=0,Ut=null,rt=null,ft=0,_t=0,Mr=null,va=!1,pf=!1,rb=!1,xi=0,Kt=0,Ea=0,Mo=0,sb=0,is=0,gf=0,Pu=null,gr=null,ib=!1,ab=0,Xh=1/0,Jh=null,_a=null,Pn=0,Ca=null,mf=null,bf=0,ob=0,cb=null,kE=null,Du=0,fb=null;function kr(){if((Et&2)!==0&&ft!==0)return ft&-ft;if(O.T!==null){var i=rf;return i!==0?i:mb()}return Jw()}function BE(){is===0&&(is=(ft&536870912)===0||mt?Yw():536870912);var i=ss.current;return i!==null&&(i.flags|=32),is}function Br(i,o,f){(i===Ut&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(yf(i,0),Aa(i,ft,is,!1)),Ql(i,f),((Et&2)===0||i!==Ut)&&(i===Ut&&((Et&2)===0&&(Mo|=f),Kt===4&&Aa(i,ft,is,!1)),Ks(i))}function LE(i,o,f){if((Et&6)!==0)throw Error(r(327));var h=!f&&(o&124)===0&&(o&i.expiredLanes)===0||Zl(i,o),m=h?UI(i,o):db(i,o,!0),y=h;do{if(m===0){pf&&!h&&Aa(i,o,0,!1);break}else{if(f=i.current.alternate,y&&!DI(f)){m=db(i,o,!1),y=!1;continue}if(m===2){if(y=o,i.errorRecoveryDisabledLanes&y)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var P=i;m=Pu;var j=P.current.memoizedState.isDehydrated;if(j&&(yf(P,C).flags|=256),C=db(P,C,!1),C!==2){if(rb&&!j){P.errorRecoveryDisabledLanes|=y,Mo|=y,m=4;break e}y=gr,gr=m,y!==null&&(gr===null?gr=y:gr.push.apply(gr,y))}m=C}if(y=!1,m!==2)continue}}if(m===1){yf(i,0),Aa(i,o,0,!0);break}e:{switch(h=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Aa(h,o,is,!va);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(m=ab+300-Qr(),10<m)){if(Aa(h,o,is,!va),lh(h,0,!0)!==0)break e;h.timeoutHandle=p8(jE.bind(null,h,f,gr,Jh,ib,o,is,Mo,gf,va,y,2,-0,0),m);break e}jE(h,f,gr,Jh,ib,o,is,Mo,gf,va,y,0,-0,0)}}break}while(!0);Ks(i)}function jE(i,o,f,h,m,y,C,P,j,Q,se,oe,J,ee){if(i.timeoutHandle=-1,oe=o.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(ju={stylesheets:null,count:0,unsuspend:pR},DE(o),oe=mR(),oe!==null)){i.cancelPendingCommit=oe(WE.bind(null,i,o,y,f,h,m,C,P,j,se,1,J,ee)),Aa(i,y,C,!Q);return}WE(i,o,y,f,h,m,C,P,j)}function DI(i){for(var o=i;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var h=0;h<f.length;h++){var m=f[h],y=m.getSnapshot;m=m.value;try{if(!Pr(y(),m))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Aa(i,o,f,h){o&=~sb,o&=~Mo,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var m=o;0<m;){var y=31-er(m),C=1<<y;h[y]=-1,m&=~C}f!==0&&Qw(i,f,o)}function ep(){return(Et&6)===0?($u(0),!1):!0}function lb(){if(rt!==null){if(_t===0)var i=rt.return;else i=rt,Ci=Ro=null,Nm(i),lf=null,Au=0,i=rt;for(;i!==null;)wE(i.alternate,i),i=i.return;rt=null}}function yf(i,o){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,QI(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),lb(),Ut=i,rt=f=vi(i.current,null),ft=o,_t=0,Mr=null,va=!1,pf=Zl(i,o),rb=!1,gf=is=sb=Mo=Ea=Kt=0,gr=Pu=null,ib=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var m=31-er(h),y=1<<m;o|=i[m],h&=~y}return xi=o,_h(),f}function zE(i,o){Je=null,O.H=zh,o===gu||o===xh?(o=s2(),_t=3):o===t2?(o=s2(),_t=4):_t=o===iE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mr=o,rt===null&&(Kt=1,Gh(i,es(o,i.current)))}function FE(){var i=O.H;return O.H=zh,i===null?zh:i}function qE(){var i=O.A;return O.A=xI,i}function ub(){Kt=4,va||(ft&4194048)!==ft&&ss.current!==null||(pf=!0),(Ea&134217727)===0&&(Mo&134217727)===0||Ut===null||Aa(Ut,ft,is,!1)}function db(i,o,f){var h=Et;Et|=2;var m=FE(),y=qE();(Ut!==i||ft!==o)&&(Jh=null,yf(i,o)),o=!1;var C=Kt;e:do try{if(_t!==0&&rt!==null){var P=rt,j=Mr;switch(_t){case 8:lb(),C=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(o=!0);var Q=_t;if(_t=0,Mr=null,wf(i,P,j,Q),f&&pf){C=0;break e}break;default:Q=_t,_t=0,Mr=null,wf(i,P,j,Q)}}$I(),C=Kt;break}catch(se){zE(i,se)}while(!0);return o&&i.shellSuspendCounter++,Ci=Ro=null,Et=h,O.H=m,O.A=y,rt===null&&(Ut=null,ft=0,_h()),C}function $I(){for(;rt!==null;)HE(rt)}function UI(i,o){var f=Et;Et|=2;var h=FE(),m=qE();Ut!==i||ft!==o?(Jh=null,Xh=Qr()+500,yf(i,o)):pf=Zl(i,o);e:do try{if(_t!==0&&rt!==null){o=rt;var y=Mr;t:switch(_t){case 1:_t=0,Mr=null,wf(i,o,y,1);break;case 2:case 9:if(n2(y)){_t=0,Mr=null,VE(o);break}o=function(){_t!==2&&_t!==9||Ut!==i||(_t=7),Ks(i)},y.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:n2(y)?(_t=0,Mr=null,VE(o)):(_t=0,Mr=null,wf(i,o,y,7));break;case 5:var C=null;switch(rt.tag){case 26:C=rt.memoizedState;case 5:case 27:var P=rt;if(!C||T8(C)){_t=0,Mr=null;var j=P.sibling;if(j!==null)rt=j;else{var Q=P.return;Q!==null?(rt=Q,tp(Q)):rt=null}break t}}_t=0,Mr=null,wf(i,o,y,5);break;case 6:_t=0,Mr=null,wf(i,o,y,6);break;case 8:lb(),Kt=6;break e;default:throw Error(r(462))}}MI();break}catch(se){zE(i,se)}while(!0);return Ci=Ro=null,O.H=h,O.A=m,Et=f,rt!==null?0:(Ut=null,ft=0,_h(),Kt)}function MI(){for(;rt!==null&&!ia();)HE(rt)}function HE(i){var o=bE(i.alternate,i,xi);i.memoizedProps=i.pendingProps,o===null?tp(i):rt=o}function VE(i){var o=i,f=o.alternate;switch(o.tag){case 15:case 0:o=uE(f,o,o.pendingProps,o.type,void 0,ft);break;case 11:o=uE(f,o,o.pendingProps,o.type.render,o.ref,ft);break;case 5:Nm(o);default:wE(f,o),o=rt=Gv(o,xi),o=bE(f,o,xi)}i.memoizedProps=i.pendingProps,o===null?tp(i):rt=o}function wf(i,o,f,h){Ci=Ro=null,Nm(o),lf=null,Au=0;var m=o.return;try{if(SI(i,m,o,f,ft)){Kt=1,Gh(i,es(f,i.current)),rt=null;return}}catch(y){if(m!==null)throw rt=m,y;Kt=1,Gh(i,es(f,i.current)),rt=null;return}o.flags&32768?(mt||h===1?i=!0:pf||(ft&536870912)!==0?i=!1:(va=i=!0,(h===2||h===9||h===3||h===6)&&(h=ss.current,h!==null&&h.tag===13&&(h.flags|=16384))),GE(o,i)):tp(o)}function tp(i){var o=i;do{if((o.flags&32768)!==0){GE(o,va);return}i=o.return;var f=NI(o.alternate,o,xi);if(f!==null){rt=f;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=i}while(o!==null);Kt===0&&(Kt=5)}function GE(i,o){do{var f=OI(i.alternate,i);if(f!==null){f.flags&=32767,rt=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(i=i.sibling,i!==null)){rt=i;return}rt=i=f}while(i!==null);Kt=6,rt=null}function WE(i,o,f,h,m,y,C,P,j){i.cancelPendingCommit=null;do np();while(Pn!==0);if((Et&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=nm,pO(i,f,y,C,P,j),i===Ut&&(rt=Ut=null,ft=0),mf=o,Ca=i,bf=f,ob=y,cb=m,kE=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jI(aa,function(){return XE(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=O.T,O.T=null,m=B.p,B.p=2,C=Et,Et|=4;try{II(i,o,f)}finally{Et=C,B.p=m,O.T=h}}Pn=1,KE(),YE(),ZE()}}function KE(){if(Pn===1){Pn=0;var i=Ca,o=mf,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=O.T,O.T=null;var h=B.p;B.p=2;var m=Et;Et|=4;try{RE(o,i);var y=Ab,C=Mv(i.containerInfo),P=y.focusedElem,j=y.selectionRange;if(C!==P&&P&&P.ownerDocument&&Uv(P.ownerDocument.documentElement,P)){if(j!==null&&Qg(P)){var Q=j.start,se=j.end;if(se===void 0&&(se=Q),"selectionStart"in P)P.selectionStart=Q,P.selectionEnd=Math.min(se,P.value.length);else{var oe=P.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Le=P.textContent.length,Pe=Math.min(j.start,Le),Nt=j.end===void 0?Pe:Math.min(j.end,Le);!ee.extend&&Pe>Nt&&(C=Nt,Nt=Pe,Pe=C);var Y=$v(P,Pe),V=$v(P,Nt);if(Y&&V&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==V.node||ee.focusOffset!==V.offset)){var Z=oe.createRange();Z.setStart(Y.node,Y.offset),ee.removeAllRanges(),Pe>Nt?(ee.addRange(Z),ee.extend(V.node,V.offset)):(Z.setEnd(V.node,V.offset),ee.addRange(Z))}}}}for(oe=[],ee=P;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<oe.length;P++){var ae=oe[P];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}pp=!!Cb,Ab=Cb=null}finally{Et=m,B.p=h,O.T=f}}i.current=o,Pn=2}}function YE(){if(Pn===2){Pn=0;var i=Ca,o=mf,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=O.T,O.T=null;var h=B.p;B.p=2;var m=Et;Et|=4;try{TE(i,o.alternate,o)}finally{Et=m,B.p=h,O.T=f}}Pn=3}}function ZE(){if(Pn===4||Pn===3){Pn=0,Sg();var i=Ca,o=mf,f=bf,h=kE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Pn=5:(Pn=0,mf=Ca=null,QE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(_a=null),Rg(f),o=o.stateNode,Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(oa,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=O.T,m=B.p,B.p=2,O.T=null;try{for(var y=i.onRecoverableError,C=0;C<h.length;C++){var P=h[C];y(P.value,{componentStack:P.stack})}}finally{O.T=o,B.p=m}}(bf&3)!==0&&np(),Ks(i),m=i.pendingLanes,(f&4194090)!==0&&(m&42)!==0?i===fb?Du++:(Du=0,fb=i):Du=0,$u(0)}}function QE(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,hu(o)))}function np(i){return KE(),YE(),ZE(),XE()}function XE(){if(Pn!==5)return!1;var i=Ca,o=ob;ob=0;var f=Rg(bf),h=O.T,m=B.p;try{B.p=32>f?32:f,O.T=null,f=cb,cb=null;var y=Ca,C=bf;if(Pn=0,mf=Ca=null,bf=0,(Et&6)!==0)throw Error(r(331));var P=Et;if(Et|=4,UE(y.current),PE(y,y.current,C,f),Et=P,$u(0,!1),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(oa,y)}catch{}return!0}finally{B.p=m,O.T=h,QE(i,o)}}function JE(i,o,f){o=es(f,o),o=zm(i.stateNode,o,2),i=ha(i,o,2),i!==null&&(Ql(i,2),Ks(i))}function Rt(i,o,f){if(i.tag===3)JE(i,i,f);else for(;o!==null;){if(o.tag===3){JE(o,i,f);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_a===null||!_a.has(h))){i=es(f,i),f=rE(2),h=ha(o,f,2),h!==null&&(sE(f,h,o,i),Ql(h,2),Ks(h));break}}o=o.return}}function hb(i,o,f){var h=i.pingCache;if(h===null){h=i.pingCache=new PI;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(f)||(rb=!0,m.add(f),i=kI.bind(null,i,o,f),o.then(i,i))}function kI(i,o,f){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Ut===i&&(ft&f)===f&&(Kt===4||Kt===3&&(ft&62914560)===ft&&300>Qr()-ab?(Et&2)===0&&yf(i,0):sb|=f,gf===ft&&(gf=0)),Ks(i)}function e8(i,o){o===0&&(o=Zw()),i=Jc(i,o),i!==null&&(Ql(i,o),Ks(i))}function BI(i){var o=i.memoizedState,f=0;o!==null&&(f=o.retryLane),e8(i,f)}function LI(i,o){var f=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(f=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),e8(i,f)}function jI(i,o){return qn(i,o)}var rp=null,vf=null,pb=!1,sp=!1,gb=!1,ko=0;function Ks(i){i!==vf&&i.next===null&&(vf===null?rp=vf=i:vf=vf.next=i),sp=!0,pb||(pb=!0,FI())}function $u(i,o){if(!gb&&sp){gb=!0;do for(var f=!1,h=rp;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var C=h.suspendedLanes,P=h.pingedLanes;y=(1<<31-er(42|i)+1)-1,y&=m&~(C&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(f=!0,s8(h,y))}else y=ft,y=lh(h,h===Ut?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Zl(h,y)||(f=!0,s8(h,y));h=h.next}while(f);gb=!1}}function zI(){t8()}function t8(){sp=pb=!1;var i=0;ko!==0&&(ZI()&&(i=ko),ko=0);for(var o=Qr(),f=null,h=rp;h!==null;){var m=h.next,y=n8(h,o);y===0?(h.next=null,f===null?rp=m:f.next=m,m===null&&(vf=f)):(f=h,(i!==0||(y&3)!==0)&&(sp=!0)),h=m}$u(i)}function n8(i,o){for(var f=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var C=31-er(y),P=1<<C,j=m[C];j===-1?((P&f)===0||(P&h)!==0)&&(m[C]=hO(P,o)):j<=o&&(i.expiredLanes|=P),y&=~P}if(o=Ut,f=ft,f=lh(i,i===o?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,f===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Hn(h),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||Zl(i,f)){if(o=f&-f,o===i.callbackPriority)return o;switch(h!==null&&Hn(h),Rg(f)){case 2:case 8:f=Kl;break;case 32:f=aa;break;case 268435456:f=Yl;break;default:f=aa}return h=r8.bind(null,i),f=qn(f,h),i.callbackPriority=o,i.callbackNode=f,o}return h!==null&&h!==null&&Hn(h),i.callbackPriority=2,i.callbackNode=null,2}function r8(i,o){if(Pn!==0&&Pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(np()&&i.callbackNode!==f)return null;var h=ft;return h=lh(i,i===Ut?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(LE(i,h,o),n8(i,Qr()),i.callbackNode!=null&&i.callbackNode===f?r8.bind(null,i):null)}function s8(i,o){if(np())return null;LE(i,o,!0)}function FI(){XI(function(){(Et&6)!==0?qn(Wl,zI):t8()})}function mb(){return ko===0&&(ko=Yw()),ko}function i8(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gh(""+i)}function a8(i,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,i.id&&f.setAttribute("form",i.id),o.parentNode.insertBefore(f,o),i=new FormData(i),f.parentNode.removeChild(f),i}function qI(i,o,f,h,m){if(o==="submit"&&f&&f.stateNode===m){var y=i8((m[ur]||null).action),C=h.submitter;C&&(o=(o=C[ur]||null)?i8(o.formAction):C.getAttribute("formAction"),o!==null&&(y=o,C=null));var P=new wh("action","action",null,h,m);i.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ko!==0){var j=C?a8(m,C):new FormData(m);Mm(f,{pending:!0,data:j,method:m.method,action:y},null,j)}}else typeof y=="function"&&(P.preventDefault(),j=C?a8(m,C):new FormData(m),Mm(f,{pending:!0,data:j,method:m.method,action:y},y,j))},currentTarget:m}]})}}for(var bb=0;bb<tm.length;bb++){var yb=tm[bb],HI=yb.toLowerCase(),VI=yb[0].toUpperCase()+yb.slice(1);_s(HI,"on"+VI)}_s(Lv,"onAnimationEnd"),_s(jv,"onAnimationIteration"),_s(zv,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(cI,"onTransitionRun"),_s(fI,"onTransitionStart"),_s(lI,"onTransitionCancel"),_s(Fv,"onTransitionEnd"),qc("onMouseEnter",["mouseout","mouseover"]),qc("onMouseLeave",["mouseout","mouseover"]),qc("onPointerEnter",["pointerout","pointerover"]),qc("onPointerLeave",["pointerout","pointerover"]),Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function o8(i,o){o=(o&4)!==0;for(var f=0;f<i.length;f++){var h=i[f],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var C=h.length-1;0<=C;C--){var P=h[C],j=P.instance,Q=P.currentTarget;if(P=P.listener,j!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=Q;try{y(m)}catch(se){Vh(se)}m.currentTarget=null,y=j}else for(C=0;C<h.length;C++){if(P=h[C],j=P.instance,Q=P.currentTarget,P=P.listener,j!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=Q;try{y(m)}catch(se){Vh(se)}m.currentTarget=null,y=j}}}}function st(i,o){var f=o[xg];f===void 0&&(f=o[xg]=new Set);var h=i+"__bubble";f.has(h)||(c8(o,i,2,!1),f.add(h))}function wb(i,o,f){var h=0;o&&(h|=4),c8(f,i,h,o)}var ip="_reactListening"+Math.random().toString(36).slice(2);function vb(i){if(!i[ip]){i[ip]=!0,tv.forEach(function(f){f!=="selectionchange"&&(GI.has(f)||wb(f,!1,i),wb(f,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ip]||(o[ip]=!0,wb("selectionchange",!1,o))}}function c8(i,o,f,h){switch(P8(o)){case 2:var m=wR;break;case 8:m=vR;break;default:m=$b}f=m.bind(null,o,f,i),m=void 0,!Fg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,f,{capture:!0,passive:m}):i.addEventListener(o,f,!0):m!==void 0?i.addEventListener(o,f,{passive:m}):i.addEventListener(o,f,!1)}function Eb(i,o,f,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var P=h.stateNode.containerInfo;if(P===m)break;if(C===4)for(C=h.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;P!==null;){if(C=jc(P),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){h=y=C;continue e}P=P.parentNode}}h=h.return}gv(function(){var Q=y,se=jg(f),oe=[];e:{var J=qv.get(i);if(J!==void 0){var ee=wh,Le=i;switch(i){case"keypress":if(bh(f)===0)break e;case"keydown":case"keyup":ee=jO;break;case"focusin":Le="focus",ee=Gg;break;case"focusout":Le="blur",ee=Gg;break;case"beforeblur":case"afterblur":ee=Gg;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=OO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=qO;break;case Lv:case jv:case zv:ee=xO;break;case Fv:ee=VO;break;case"scroll":case"scrollend":ee=TO;break;case"wheel":ee=WO;break;case"copy":case"cut":case"paste":ee=DO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=vv;break;case"toggle":case"beforetoggle":ee=YO}var Pe=(o&4)!==0,Nt=!Pe&&(i==="scroll"||i==="scrollend"),Y=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var V=Q,Z;V!==null;){var ae=V;if(Z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Z===null||Y===null||(ae=eu(V,Y),ae!=null&&Pe.push(Mu(V,ae,Z))),Nt)break;V=V.return}0<Pe.length&&(J=new ee(J,Le,null,f,se),oe.push({event:J,listeners:Pe}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&f!==Lg&&(Le=f.relatedTarget||f.fromElement)&&(jc(Le)||Le[Lc]))break e;if((ee||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Le=f.relatedTarget||f.toElement,ee=Q,Le=Le?jc(Le):null,Le!==null&&(Nt=a(Le),Pe=Le.tag,Le!==Nt||Pe!==5&&Pe!==27&&Pe!==6)&&(Le=null)):(ee=null,Le=Q),ee!==Le)){if(Pe=yv,ae="onMouseLeave",Y="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=vv,ae="onPointerLeave",Y="onPointerEnter",V="pointer"),Nt=ee==null?J:Jl(ee),Z=Le==null?J:Jl(Le),J=new Pe(ae,V+"leave",ee,f,se),J.target=Nt,J.relatedTarget=Z,ae=null,jc(se)===Q&&(Pe=new Pe(Y,V+"enter",Le,f,se),Pe.target=Z,Pe.relatedTarget=Nt,ae=Pe),Nt=ae,ee&&Le)t:{for(Pe=ee,Y=Le,V=0,Z=Pe;Z;Z=Ef(Z))V++;for(Z=0,ae=Y;ae;ae=Ef(ae))Z++;for(;0<V-Z;)Pe=Ef(Pe),V--;for(;0<Z-V;)Y=Ef(Y),Z--;for(;V--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=Ef(Pe),Y=Ef(Y)}Pe=null}else Pe=null;ee!==null&&f8(oe,J,ee,Pe,!1),Le!==null&&Nt!==null&&f8(oe,Nt,Le,Pe,!0)}}e:{if(J=Q?Jl(Q):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Ne=Ov;else if(Tv(J))if(Iv)Ne=iI;else{Ne=rI;var tt=nI}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Bg(Q.elementType)&&(Ne=Ov):Ne=sI;if(Ne&&(Ne=Ne(i,Q))){Nv(oe,Ne,f,se);break e}tt&&tt(i,J,Q),i==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&kg(J,"number",J.value)}switch(tt=Q?Jl(Q):window,i){case"focusin":(Tv(tt)||tt.contentEditable==="true")&&(Zc=tt,Xg=Q,cu=null);break;case"focusout":cu=Xg=Zc=null;break;case"mousedown":Jg=!0;break;case"contextmenu":case"mouseup":case"dragend":Jg=!1,kv(oe,f,se);break;case"selectionchange":if(oI)break;case"keydown":case"keyup":kv(oe,f,se)}var Oe;if(Kg)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Yc?Av(i,f)&&($e="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&($e="onCompositionStart");$e&&(Ev&&f.locale!=="ko"&&(Yc||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Yc&&(Oe=mv()):(fa=se,qg="value"in fa?fa.value:fa.textContent,Yc=!0)),tt=ap(Q,$e),0<tt.length&&($e=new wv($e,i,null,f,se),oe.push({event:$e,listeners:tt}),Oe?$e.data=Oe:(Oe=Sv(f),Oe!==null&&($e.data=Oe)))),(Oe=QO?XO(i,f):JO(i,f))&&($e=ap(Q,"onBeforeInput"),0<$e.length&&(tt=new wv("onBeforeInput","beforeinput",null,f,se),oe.push({event:tt,listeners:$e}),tt.data=Oe)),qI(oe,i,Q,f,se)}o8(oe,o)})}function Mu(i,o,f){return{instance:i,listener:o,currentTarget:f}}function ap(i,o){for(var f=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=eu(i,f),m!=null&&h.unshift(Mu(i,m,y)),m=eu(i,o),m!=null&&h.push(Mu(i,m,y))),i.tag===3)return h;i=i.return}return[]}function Ef(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function f8(i,o,f,h,m){for(var y=o._reactName,C=[];f!==null&&f!==h;){var P=f,j=P.alternate,Q=P.stateNode;if(P=P.tag,j!==null&&j===h)break;P!==5&&P!==26&&P!==27||Q===null||(j=Q,m?(Q=eu(f,y),Q!=null&&C.unshift(Mu(f,Q,j))):m||(Q=eu(f,y),Q!=null&&C.push(Mu(f,Q,j)))),f=f.return}C.length!==0&&i.push({event:o,listeners:C})}var WI=/\r\n?/g,KI=/\u0000|\uFFFD/g;function l8(i){return(typeof i=="string"?i:""+i).replace(WI,`
`).replace(KI,"")}function u8(i,o){return o=l8(o),l8(i)===o}function op(){}function Tt(i,o,f,h,m,y){switch(f){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Gc(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Gc(i,""+h);break;case"className":dh(i,"class",h);break;case"tabIndex":dh(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":dh(i,f,h);break;case"style":hv(i,h,y);break;case"data":if(o!=="object"){dh(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||f!=="href")){i.removeAttribute(f);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=gh(""+h),i.setAttribute(f,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(f==="formAction"?(o!=="input"&&Tt(i,o,"name",m.name,m,null),Tt(i,o,"formEncType",m.formEncType,m,null),Tt(i,o,"formMethod",m.formMethod,m,null),Tt(i,o,"formTarget",m.formTarget,m,null)):(Tt(i,o,"encType",m.encType,m,null),Tt(i,o,"method",m.method,m,null),Tt(i,o,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=gh(""+h),i.setAttribute(f,h);break;case"onClick":h!=null&&(i.onclick=op);break;case"onScroll":h!=null&&st("scroll",i);break;case"onScrollEnd":h!=null&&st("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(f=h.__html,f!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}f=gh(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""+h):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":h===!0?i.setAttribute(f,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,h):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(f,h):i.removeAttribute(f);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(f):i.setAttribute(f,h);break;case"popover":st("beforetoggle",i),st("toggle",i),uh(i,"popover",h);break;case"xlinkActuate":yi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":yi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":yi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":yi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":yi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":yi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":yi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":yi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":yi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":uh(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=AO.get(f)||f,uh(i,f,h))}}function _b(i,o,f,h,m,y){switch(f){case"style":hv(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(f=h.__html,f!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof h=="string"?Gc(i,h):(typeof h=="number"||typeof h=="bigint")&&Gc(i,""+h);break;case"onScroll":h!=null&&st("scroll",i);break;case"onScrollEnd":h!=null&&st("scrollend",i);break;case"onClick":h!=null&&(i.onclick=op);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nv.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(m=f.endsWith("Capture"),o=f.slice(2,m?f.length-7:void 0),y=i[ur]||null,y=y!=null?y[f]:null,typeof y=="function"&&i.removeEventListener(o,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(o,h,m);break e}f in i?i[f]=h:h===!0?i.setAttribute(f,""):uh(i,f,h)}}}function Dn(i,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",i),st("load",i);var h=!1,m=!1,y;for(y in f)if(f.hasOwnProperty(y)){var C=f[y];if(C!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Tt(i,o,y,C,f,null)}}m&&Tt(i,o,"srcSet",f.srcSet,f,null),h&&Tt(i,o,"src",f.src,f,null);return;case"input":st("invalid",i);var P=y=C=m=null,j=null,Q=null;for(h in f)if(f.hasOwnProperty(h)){var se=f[h];if(se!=null)switch(h){case"name":m=se;break;case"type":C=se;break;case"checked":j=se;break;case"defaultChecked":Q=se;break;case"value":y=se;break;case"defaultValue":P=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:Tt(i,o,h,se,f,null)}}fv(i,y,P,j,Q,C,m,!1),hh(i);return;case"select":st("invalid",i),h=C=y=null;for(m in f)if(f.hasOwnProperty(m)&&(P=f[m],P!=null))switch(m){case"value":y=P;break;case"defaultValue":C=P;break;case"multiple":h=P;default:Tt(i,o,m,P,f,null)}o=y,f=C,i.multiple=!!h,o!=null?Vc(i,!!h,o,!1):f!=null&&Vc(i,!!h,f,!0);return;case"textarea":st("invalid",i),y=m=h=null;for(C in f)if(f.hasOwnProperty(C)&&(P=f[C],P!=null))switch(C){case"value":h=P;break;case"defaultValue":m=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Tt(i,o,C,P,f,null)}uv(i,h,m,y),hh(i);return;case"option":for(j in f)if(f.hasOwnProperty(j)&&(h=f[j],h!=null))switch(j){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tt(i,o,j,h,f,null)}return;case"dialog":st("beforetoggle",i),st("toggle",i),st("cancel",i),st("close",i);break;case"iframe":case"object":st("load",i);break;case"video":case"audio":for(h=0;h<Uu.length;h++)st(Uu[h],i);break;case"image":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"embed":case"source":case"link":st("error",i),st("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(h=f[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Tt(i,o,Q,h,f,null)}return;default:if(Bg(o)){for(se in f)f.hasOwnProperty(se)&&(h=f[se],h!==void 0&&_b(i,o,se,h,f,void 0));return}}for(P in f)f.hasOwnProperty(P)&&(h=f[P],h!=null&&Tt(i,o,P,h,f,null))}function YI(i,o,f,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,C=null,P=null,j=null,Q=null,se=null;for(ee in f){var oe=f[ee];if(f.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":j=oe;default:h.hasOwnProperty(ee)||Tt(i,o,ee,null,h,oe)}}for(var J in h){var ee=h[J];if(oe=f[J],h.hasOwnProperty(J)&&(ee!=null||oe!=null))switch(J){case"type":y=ee;break;case"name":m=ee;break;case"checked":Q=ee;break;case"defaultChecked":se=ee;break;case"value":C=ee;break;case"defaultValue":P=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:ee!==oe&&Tt(i,o,J,ee,h,oe)}}Mg(i,C,P,j,Q,se,y,m);return;case"select":ee=C=P=J=null;for(y in f)if(j=f[y],f.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":ee=j;default:h.hasOwnProperty(y)||Tt(i,o,y,null,h,j)}for(m in h)if(y=h[m],j=f[m],h.hasOwnProperty(m)&&(y!=null||j!=null))switch(m){case"value":J=y;break;case"defaultValue":P=y;break;case"multiple":C=y;default:y!==j&&Tt(i,o,m,y,h,j)}o=P,f=C,h=ee,J!=null?Vc(i,!!f,J,!1):!!h!=!!f&&(o!=null?Vc(i,!!f,o,!0):Vc(i,!!f,f?[]:"",!1));return;case"textarea":ee=J=null;for(P in f)if(m=f[P],f.hasOwnProperty(P)&&m!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Tt(i,o,P,null,h,m)}for(C in h)if(m=h[C],y=f[C],h.hasOwnProperty(C)&&(m!=null||y!=null))switch(C){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Tt(i,o,C,m,h,y)}lv(i,J,ee);return;case"option":for(var Le in f)if(J=f[Le],f.hasOwnProperty(Le)&&J!=null&&!h.hasOwnProperty(Le))switch(Le){case"selected":i.selected=!1;break;default:Tt(i,o,Le,null,h,J)}for(j in h)if(J=h[j],ee=f[j],h.hasOwnProperty(j)&&J!==ee&&(J!=null||ee!=null))switch(j){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Tt(i,o,j,J,h,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in f)J=f[Pe],f.hasOwnProperty(Pe)&&J!=null&&!h.hasOwnProperty(Pe)&&Tt(i,o,Pe,null,h,J);for(Q in h)if(J=h[Q],ee=f[Q],h.hasOwnProperty(Q)&&J!==ee&&(J!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:Tt(i,o,Q,J,h,ee)}return;default:if(Bg(o)){for(var Nt in f)J=f[Nt],f.hasOwnProperty(Nt)&&J!==void 0&&!h.hasOwnProperty(Nt)&&_b(i,o,Nt,void 0,h,J);for(se in h)J=h[se],ee=f[se],!h.hasOwnProperty(se)||J===ee||J===void 0&&ee===void 0||_b(i,o,se,J,h,ee);return}}for(var Y in f)J=f[Y],f.hasOwnProperty(Y)&&J!=null&&!h.hasOwnProperty(Y)&&Tt(i,o,Y,null,h,J);for(oe in h)J=h[oe],ee=f[oe],!h.hasOwnProperty(oe)||J===ee||J==null&&ee==null||Tt(i,o,oe,J,h,ee)}var Cb=null,Ab=null;function cp(i){return i.nodeType===9?i:i.ownerDocument}function d8(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h8(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Sb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tb=null;function ZI(){var i=window.event;return i&&i.type==="popstate"?i===Tb?!1:(Tb=i,!0):(Tb=null,!1)}var p8=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,g8=typeof Promise=="function"?Promise:void 0,XI=typeof queueMicrotask=="function"?queueMicrotask:typeof g8<"u"?function(i){return g8.resolve(null).then(i).catch(JI)}:p8;function JI(i){setTimeout(function(){throw i})}function Sa(i){return i==="head"}function m8(i,o){var f=o,h=0,m=0;do{var y=f.nextSibling;if(i.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(0<h&&8>h){f=h;var C=i.ownerDocument;if(f&1&&ku(C.documentElement),f&2&&ku(C.body),f&4)for(f=C.head,ku(f),C=f.firstChild;C;){var P=C.nextSibling,j=C.nodeName;C[Xl]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=P}}if(m===0){i.removeChild(y),Vu(o);return}m--}else f==="$"||f==="$?"||f==="$!"?m++:h=f.charCodeAt(0)-48;else h=0;f=y}while(f);Vu(o)}function Nb(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Nb(f),Pg(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function eR(i,o,f,h){for(;i.nodeType===1;){var m=f;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Xl])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=As(i.nextSibling),i===null)break}return null}function tR(i,o,f){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=As(i.nextSibling),i===null))return null;return i}function Ob(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function nR(i,o){var f=i.ownerDocument;if(i.data!=="$?"||f.readyState==="complete")o();else{var h=function(){o(),f.removeEventListener("DOMContentLoaded",h)};f.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function As(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Ib=null;function b8(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return i;o--}else f==="/$"&&o++}i=i.previousSibling}return null}function y8(i,o,f){switch(o=cp(f),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ku(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Pg(i)}var as=new Map,w8=new Set;function fp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Pi=B.d;B.d={f:rR,r:sR,D:iR,C:aR,L:oR,m:cR,X:lR,S:fR,M:uR};function rR(){var i=Pi.f(),o=ep();return i||o}function sR(i){var o=zc(i);o!==null&&o.tag===5&&o.type==="form"?L2(o):Pi.r(i)}var _f=typeof document>"u"?null:document;function v8(i,o,f){var h=_f;if(h&&typeof o=="string"&&o){var m=Jr(o);m='link[rel="'+i+'"][href="'+m+'"]',typeof f=="string"&&(m+='[crossorigin="'+f+'"]'),w8.has(m)||(w8.add(m),i={rel:i,crossOrigin:f,href:o},h.querySelector(m)===null&&(o=h.createElement("link"),Dn(o,"link",i),yn(o),h.head.appendChild(o)))}}function iR(i){Pi.D(i),v8("dns-prefetch",i,null)}function aR(i,o){Pi.C(i,o),v8("preconnect",i,o)}function oR(i,o,f){Pi.L(i,o,f);var h=_f;if(h&&i&&o){var m='link[rel="preload"][as="'+Jr(o)+'"]';o==="image"&&f&&f.imageSrcSet?(m+='[imagesrcset="'+Jr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(m+='[imagesizes="'+Jr(f.imageSizes)+'"]')):m+='[href="'+Jr(i)+'"]';var y=m;switch(o){case"style":y=Cf(i);break;case"script":y=Af(i)}as.has(y)||(i=p({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:i,as:o},f),as.set(y,i),h.querySelector(m)!==null||o==="style"&&h.querySelector(Bu(y))||o==="script"&&h.querySelector(Lu(y))||(o=h.createElement("link"),Dn(o,"link",i),yn(o),h.head.appendChild(o)))}}function cR(i,o){Pi.m(i,o);var f=_f;if(f&&i){var h=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Jr(h)+'"][href="'+Jr(i)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Af(i)}if(!as.has(y)&&(i=p({rel:"modulepreload",href:i},o),as.set(y,i),f.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Lu(y)))return}h=f.createElement("link"),Dn(h,"link",i),yn(h),f.head.appendChild(h)}}}function fR(i,o,f){Pi.S(i,o,f);var h=_f;if(h&&i){var m=Fc(h).hoistableStyles,y=Cf(i);o=o||"default";var C=m.get(y);if(!C){var P={loading:0,preload:null};if(C=h.querySelector(Bu(y)))P.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":o},f),(f=as.get(y))&&Rb(i,f);var j=C=h.createElement("link");yn(j),Dn(j,"link",i),j._p=new Promise(function(Q,se){j.onload=Q,j.onerror=se}),j.addEventListener("load",function(){P.loading|=1}),j.addEventListener("error",function(){P.loading|=2}),P.loading|=4,lp(C,o,h)}C={type:"stylesheet",instance:C,count:1,state:P},m.set(y,C)}}}function lR(i,o){Pi.X(i,o);var f=_f;if(f&&i){var h=Fc(f).hoistableScripts,m=Af(i),y=h.get(m);y||(y=f.querySelector(Lu(m)),y||(i=p({src:i,async:!0},o),(o=as.get(m))&&xb(i,o),y=f.createElement("script"),yn(y),Dn(y,"link",i),f.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function uR(i,o){Pi.M(i,o);var f=_f;if(f&&i){var h=Fc(f).hoistableScripts,m=Af(i),y=h.get(m);y||(y=f.querySelector(Lu(m)),y||(i=p({src:i,async:!0,type:"module"},o),(o=as.get(m))&&xb(i,o),y=f.createElement("script"),yn(y),Dn(y,"link",i),f.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function E8(i,o,f,h){var m=(m=he.current)?fp(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=Cf(f.href),f=Fc(m).hoistableStyles,h=f.get(o),h||(h={type:"style",instance:null,count:0,state:null},f.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=Cf(f.href);var y=Fc(m).hoistableStyles,C=y.get(i);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,C),(y=m.querySelector(Bu(i)))&&!y._p&&(C.instance=y,C.state.loading=5),as.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},as.set(i,f),y||dR(m,i,f,C.state))),o&&h===null)throw Error(r(528,""));return C}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Af(f),f=Fc(m).hoistableScripts,h=f.get(o),h||(h={type:"script",instance:null,count:0,state:null},f.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cf(i){return'href="'+Jr(i)+'"'}function Bu(i){return'link[rel="stylesheet"]['+i+"]"}function _8(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function dR(i,o,f,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Dn(o,"link",f),yn(o),i.head.appendChild(o))}function Af(i){return'[src="'+Jr(i)+'"]'}function Lu(i){return"script[async]"+i}function C8(i,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+Jr(f.href)+'"]');if(h)return o.instance=h,yn(h),h;var m=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),yn(h),Dn(h,"style",m),lp(h,f.precedence,i),o.instance=h;case"stylesheet":m=Cf(f.href);var y=i.querySelector(Bu(m));if(y)return o.state.loading|=4,o.instance=y,yn(y),y;h=_8(f),(m=as.get(m))&&Rb(h,m),y=(i.ownerDocument||i).createElement("link"),yn(y);var C=y;return C._p=new Promise(function(P,j){C.onload=P,C.onerror=j}),Dn(y,"link",h),o.state.loading|=4,lp(y,f.precedence,i),o.instance=y;case"script":return y=Af(f.src),(m=i.querySelector(Lu(y)))?(o.instance=m,yn(m),m):(h=f,(m=as.get(y))&&(h=p({},f),xb(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),yn(m),Dn(m,"link",h),i.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,lp(h,f.precedence,i));return o.instance}function lp(i,o,f){for(var h=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,C=0;C<h.length;C++){var P=h[C];if(P.dataset.precedence===o)y=P;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(i,o.firstChild))}function Rb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function xb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var up=null;function A8(i,o,f){if(up===null){var h=new Map,m=up=new Map;m.set(f,h)}else m=up,h=m.get(f),h||(h=new Map,m.set(f,h));if(h.has(i))return h;for(h.set(i,null),f=f.getElementsByTagName(i),m=0;m<f.length;m++){var y=f[m];if(!(y[Xl]||y[Vn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(o)||"";C=i+C;var P=h.get(C);P?P.push(y):h.set(C,[y])}}return h}function S8(i,o,f){i=i.ownerDocument||i,i.head.insertBefore(f,o==="title"?i.querySelector("head > title"):null)}function hR(i,o,f){if(f===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function T8(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ju=null;function pR(){}function gR(i,o,f){if(ju===null)throw Error(r(475));var h=ju;if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Cf(f.href),y=i.querySelector(Bu(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=dp.bind(h),i.then(h,h)),o.state.loading|=4,o.instance=y,yn(y);return}y=i.ownerDocument||i,f=_8(f),(m=as.get(m))&&Rb(f,m),y=y.createElement("link"),yn(y);var C=y;C._p=new Promise(function(P,j){C.onload=P,C.onerror=j}),Dn(y,"link",f),o.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=dp.bind(h),i.addEventListener("load",o),i.addEventListener("error",o))}}function mR(){if(ju===null)throw Error(r(475));var i=ju;return i.stylesheets&&i.count===0&&Pb(i,i.stylesheets),0<i.count?function(o){var f=setTimeout(function(){if(i.stylesheets&&Pb(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(f)}}:null}function dp(){if(this.count--,this.count===0){if(this.stylesheets)Pb(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hp=null;function Pb(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hp=new Map,o.forEach(bR,i),hp=null,dp.call(i))}function bR(i,o){if(!(o.state.loading&4)){var f=hp.get(i);if(f)var h=f.get(null);else{f=new Map,hp.set(i,f);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var C=m[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),h=C)}h&&f.set(null,h)}m=o.instance,C=m.getAttribute("data-precedence"),y=f.get(C)||h,y===h&&f.set(null,m),f.set(C,m),this.count++,h=dp.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),o.state.loading|=4}}var zu={$$typeof:I,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function yR(i,o,f,h,m,y,C,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Og(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Og(0),this.hiddenUpdates=Og(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function N8(i,o,f,h,m,y,C,P,j,Q,se,oe){return i=new yR(i,o,f,C,P,j,Q,oe),o=1,y===!0&&(o|=24),y=Dr(3,null,null,o),i.current=y,y.stateNode=i,o=hm(),o.refCount++,i.pooledCache=o,o.refCount++,y.memoizedState={element:h,isDehydrated:f,cache:o},bm(y),i}function O8(i){return i?(i=ef,i):ef}function I8(i,o,f,h,m,y){m=O8(m),h.context===null?h.context=m:h.pendingContext=m,h=da(o),h.payload={element:f},y=y===void 0?null:y,y!==null&&(h.callback=y),f=ha(i,h,o),f!==null&&(Br(f,i,o),bu(f,i,o))}function R8(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<o?f:o}}function Db(i,o){R8(i,o),(i=i.alternate)&&R8(i,o)}function x8(i){if(i.tag===13){var o=Jc(i,67108864);o!==null&&Br(o,i,67108864),Db(i,67108864)}}var pp=!0;function wR(i,o,f,h){var m=O.T;O.T=null;var y=B.p;try{B.p=2,$b(i,o,f,h)}finally{B.p=y,O.T=m}}function vR(i,o,f,h){var m=O.T;O.T=null;var y=B.p;try{B.p=8,$b(i,o,f,h)}finally{B.p=y,O.T=m}}function $b(i,o,f,h){if(pp){var m=Ub(h);if(m===null)Eb(i,o,h,gp,f),D8(i,h);else if(_R(m,i,o,f,h))h.stopPropagation();else if(D8(i,h),o&4&&-1<ER.indexOf(i)){for(;m!==null;){var y=zc(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=vo(y.pendingLanes);if(C!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var j=1<<31-er(C);P.entanglements[1]|=j,C&=~j}Ks(y),(Et&6)===0&&(Xh=Qr()+500,$u(0))}}break;case 13:P=Jc(y,2),P!==null&&Br(P,y,2),ep(),Db(y,2)}if(y=Ub(h),y===null&&Eb(i,o,h,gp,f),y===m)break;m=y}m!==null&&h.stopPropagation()}else Eb(i,o,h,null,f)}}function Ub(i){return i=jg(i),Mb(i)}var gp=null;function Mb(i){if(gp=null,i=jc(i),i!==null){var o=a(i);if(o===null)i=null;else{var f=o.tag;if(f===13){if(i=c(o),i!==null)return i;i=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return gp=i,null}function P8(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tg()){case Wl:return 2;case Kl:return 8;case aa:case ih:return 32;case Yl:return 268435456;default:return 32}default:return 32}}var kb=!1,Ta=null,Na=null,Oa=null,Fu=new Map,qu=new Map,Ia=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D8(i,o){switch(i){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Fu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(o.pointerId)}}function Hu(i,o,f,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:f,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=zc(o),o!==null&&x8(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function _R(i,o,f,h,m){switch(o){case"focusin":return Ta=Hu(Ta,i,o,f,h,m),!0;case"dragenter":return Na=Hu(Na,i,o,f,h,m),!0;case"mouseover":return Oa=Hu(Oa,i,o,f,h,m),!0;case"pointerover":var y=m.pointerId;return Fu.set(y,Hu(Fu.get(y)||null,i,o,f,h,m)),!0;case"gotpointercapture":return y=m.pointerId,qu.set(y,Hu(qu.get(y)||null,i,o,f,h,m)),!0}return!1}function $8(i){var o=jc(i.target);if(o!==null){var f=a(o);if(f!==null){if(o=f.tag,o===13){if(o=c(f),o!==null){i.blockedOn=o,gO(i.priority,function(){if(f.tag===13){var h=kr();h=Ig(h);var m=Jc(f,h);m!==null&&Br(m,f,h),Db(f,h)}});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var f=Ub(i.nativeEvent);if(f===null){f=i.nativeEvent;var h=new f.constructor(f.type,f);Lg=h,f.target.dispatchEvent(h),Lg=null}else return o=zc(f),o!==null&&x8(o),i.blockedOn=f,!1;o.shift()}return!0}function U8(i,o,f){mp(i)&&f.delete(o)}function CR(){kb=!1,Ta!==null&&mp(Ta)&&(Ta=null),Na!==null&&mp(Na)&&(Na=null),Oa!==null&&mp(Oa)&&(Oa=null),Fu.forEach(U8),qu.forEach(U8)}function bp(i,o){i.blockedOn===o&&(i.blockedOn=null,kb||(kb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CR)))}var yp=null;function M8(i){yp!==i&&(yp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yp===i&&(yp=null);for(var o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],m=i[o+2];if(typeof h!="function"){if(Mb(h||f)===null)continue;break}var y=zc(f);y!==null&&(i.splice(o,3),o-=3,Mm(y,{pending:!0,data:m,method:f.method,action:h},h,m))}}))}function Vu(i){function o(j){return bp(j,i)}Ta!==null&&bp(Ta,i),Na!==null&&bp(Na,i),Oa!==null&&bp(Oa,i),Fu.forEach(o),qu.forEach(o);for(var f=0;f<Ia.length;f++){var h=Ia[f];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ia.length&&(f=Ia[0],f.blockedOn===null);)$8(f),f.blockedOn===null&&Ia.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(h=0;h<f.length;h+=3){var m=f[h],y=f[h+1],C=m[ur]||null;if(typeof y=="function")C||M8(f);else if(C){var P=null;if(y&&y.hasAttribute("formAction")){if(m=y,C=y[ur]||null)P=C.formAction;else if(Mb(m)!==null)continue}else P=C.action;typeof P=="function"?f[h+1]=P:(f.splice(h,3),h-=3),M8(f)}}}function Bb(i){this._internalRoot=i}wp.prototype.render=Bb.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var f=o.current,h=kr();I8(f,h,i,o,null,null)},wp.prototype.unmount=Bb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;I8(i.current,2,null,i,null,null),ep(),o[Lc]=null}};function wp(i){this._internalRoot=i}wp.prototype.unstable_scheduleHydration=function(i){if(i){var o=Jw();i={blockedOn:null,target:i,priority:o};for(var f=0;f<Ia.length&&o!==0&&o<Ia[f].priority;f++);Ia.splice(f,0,i),f===0&&$8(i)}};var k8=e.version;if(k8!=="19.1.0")throw Error(r(527,k8,"19.1.0"));B.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=u(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var AR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vp.isDisabled&&vp.supportsFiber)try{oa=vp.inject(AR),Jn=vp}catch{}}return Wu.createRoot=function(i,o){if(!s(i))throw Error(r(299));var f=!1,h="",m=J2,y=eE,C=tE,P=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks)),o=N8(i,1,!1,null,null,f,h,m,y,C,P,null),i[Lc]=o.current,vb(i),new Bb(o)},Wu.hydrateRoot=function(i,o,f){if(!s(i))throw Error(r(299));var h=!1,m="",y=J2,C=eE,P=tE,j=null,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(m=f.identifierPrefix),f.onUncaughtError!==void 0&&(y=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(j=f.unstable_transitionCallbacks),f.formState!==void 0&&(Q=f.formState)),o=N8(i,1,!0,o,f??null,h,m,y,C,P,j,Q),o.context=O8(null),f=o.current,h=kr(),h=Ig(h),m=da(h),m.callback=null,ha(f,m,h),f=h,o.current.lanes=f,Ql(o,f),Ks(o),i[Lc]=o.current,vb(i),new wp(o)},Wu.version="19.1.0",Wu}var K8;function UR(){if(K8)return Fb.exports;K8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fb.exports=$R(),Fb.exports}var MR=UR();const kR=Dl(MR);var $l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gc=typeof window>"u"||"Deno"in globalThis;function ar(){}function BR(t,e){return typeof t=="function"?t(e):t}function py(t){return typeof t=="number"&&t>=0&&t!==1/0}function NS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qf(t,e){return typeof t=="function"?t(e):t}function Ps(t,e){return typeof t=="function"?t(e):t}function Y8(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:c,stale:l}=t;if(c){if(r){if(e.queryHash!==G6(c,e.options))return!1}else if(!$d(e.queryKey,c))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function Z8(t,e){const{exact:n,status:r,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(mc(e.options.mutationKey)!==mc(a))return!1}else if(!$d(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function G6(t,e){return((e==null?void 0:e.queryKeyHashFn)||mc)(t)}function mc(t){return JSON.stringify(t,(e,n)=>gy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $d(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$d(t[n],e[n])):!1}function OS(t,e){if(t===e)return t;const n=Q8(t)&&Q8(e);if(n||gy(t)&&gy(e)){const r=n?t:Object.keys(t),s=r.length,a=n?e:Object.keys(e),c=a.length,l=n?[]:{};let u=0;for(let d=0;d<c;d++){const p=n?d:a[d];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=OS(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return s===c&&u===s?t:l}return e}function d1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Q8(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gy(t){if(!X8(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!X8(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function X8(t){return Object.prototype.toString.call(t)==="[object Object]"}function LR(t){return new Promise(e=>{setTimeout(e,t)})}function my(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?OS(t,e):e}function jR(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function zR(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var W6=Symbol();function IS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===W6?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function RS(t,e){return typeof t=="function"?t(...e):!!t}var rc,Wa,rl,gS,FR=(gS=class extends $l{constructor(){super();Re(this,rc);Re(this,Wa);Re(this,rl);we(this,rl,e=>{if(!gc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Wa)||this.setEventListener(F(this,rl))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Wa))==null||e.call(this),we(this,Wa,void 0))}setEventListener(e){var n;we(this,rl,e),(n=F(this,Wa))==null||n.call(this),we(this,Wa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,rc)!==e&&(we(this,rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,rc)=="boolean"?F(this,rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rc=new WeakMap,Wa=new WeakMap,rl=new WeakMap,gS),K6=new FR,sl,Ka,il,mS,qR=(mS=class extends $l{constructor(){super();Re(this,sl,!0);Re(this,Ka);Re(this,il);we(this,il,e=>{if(!gc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Ka)||this.setEventListener(F(this,il))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ka))==null||e.call(this),we(this,Ka,void 0))}setEventListener(e){var n;we(this,il,e),(n=F(this,Ka))==null||n.call(this),we(this,Ka,e(this.setOnline.bind(this)))}setOnline(e){F(this,sl)!==e&&(we(this,sl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,sl)}},sl=new WeakMap,Ka=new WeakMap,il=new WeakMap,mS),h1=new qR;function by(){let t,e;const n=new Promise((s,a)=>{t=s,e=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function HR(t){return Math.min(1e3*2**t,3e4)}function xS(t){return(t??"online")==="online"?h1.isOnline():!0}var PS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Gb(t){return t instanceof PS}function DS(t){let e=!1,n=0,r=!1,s;const a=by(),c=v=>{var _;r||(b(new PS(v)),(_=t.abort)==null||_.call(t))},l=()=>{e=!0},u=()=>{e=!1},d=()=>K6.isFocused()&&(t.networkMode==="always"||h1.isOnline())&&t.canRun(),p=()=>xS(t.networkMode)&&t.canRun(),g=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),a.resolve(v))},b=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),a.reject(v))},w=()=>new Promise(v=>{var _;s=T=>{(r||d())&&v(T)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),E=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(T){v=Promise.reject(T)}Promise.resolve(v).then(g).catch(T=>{var A;if(r)return;const S=t.retry??(gc?0:3),I=t.retryDelay??HR,x=typeof I=="function"?I(n,T):I,N=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,T);if(e||!N){b(T);return}n++,(A=t.onFail)==null||A.call(t,n,T),LR(x).then(()=>d()?void 0:w()).then(()=>{e?b(T):E()})})};return{promise:a,cancel:c,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:u,canStart:p,start:()=>(p()?E():w().then(E),a)}}var VR=t=>setTimeout(t,0);function GR(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=VR;const a=l=>{e?t.push(l):s(()=>{n(l)})},c=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||c()}return u},batchCalls:l=>(...u)=>{a(()=>{l(...u)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var mn=GR(),sc,bS,$S=(bS=class{constructor(){Re(this,sc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),py(this.gcTime)&&we(this,sc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(gc?1/0:5*60*1e3))}clearGcTimeout(){F(this,sc)&&(clearTimeout(F(this,sc)),we(this,sc,void 0))}},sc=new WeakMap,bS),al,ol,hs,ic,Yn,x0,ac,Rs,Fi,yS,WR=(yS=class extends $S{constructor(e){super();Re(this,Rs);Re(this,al);Re(this,ol);Re(this,hs);Re(this,ic);Re(this,Yn);Re(this,x0);Re(this,ac);we(this,ac,!1),we(this,x0,e.defaultOptions),this.setOptions(e.options),this.observers=[],we(this,ic,e.client),we(this,hs,F(this,ic).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,we(this,al,KR(this.options)),this.state=e.state??F(this,al),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,Yn))==null?void 0:e.promise}setOptions(e){this.options={...F(this,x0),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,hs).remove(this)}setData(e,n){const r=my(this.state.data,e,this.options);return Ye(this,Rs,Fi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Rs,Fi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=F(this,Yn))==null?void 0:r.promise;return(s=F(this,Yn))==null||s.cancel(e),n?n.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,al))}isActive(){return this.observers.some(e=>Ps(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W6||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!NS(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Yn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Yn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,hs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(F(this,Yn)&&(F(this,ac)?F(this,Yn).cancel({revert:!0}):F(this,Yn).cancelRetry()),this.scheduleGc()),F(this,hs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Rs,Fi).call(this,{type:"invalidate"})}fetch(e,n){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,Yn))return F(this,Yn).continueRetry(),F(this,Yn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(we(this,ac,!0),r.signal)})},a=()=>{const g=IS(this.options,n),b={client:F(this,ic),queryKey:this.queryKey,meta:this.meta};return s(b),we(this,ac,!1),this.options.persister?this.options.persister(g,b,this):g(b)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,ic),state:this.state,fetchFn:a};s(c),(u=this.options.behavior)==null||u.onFetch(c,this),we(this,ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&Ye(this,Rs,Fi).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const l=g=>{var b,w,E,v;Gb(g)&&g.silent||Ye(this,Rs,Fi).call(this,{type:"error",error:g}),Gb(g)||((w=(b=F(this,hs).config).onError)==null||w.call(b,g,this),(v=(E=F(this,hs).config).onSettled)==null||v.call(E,this.state.data,g,this)),this.scheduleGc()};return we(this,Yn,DS({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var b,w,E,v;if(g===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){l(_);return}(w=(b=F(this,hs).config).onSuccess)==null||w.call(b,g,this),(v=(E=F(this,hs).config).onSettled)==null||v.call(E,g,this.state.error,this),this.scheduleGc()},onError:l,onFail:(g,b)=>{Ye(this,Rs,Fi).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{Ye(this,Rs,Fi).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Rs,Fi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),F(this,Yn).start()}},al=new WeakMap,ol=new WeakMap,hs=new WeakMap,ic=new WeakMap,Yn=new WeakMap,x0=new WeakMap,ac=new WeakMap,Rs=new WeakSet,Fi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...US(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Gb(s)&&s.revert&&F(this,ol)?{...F(this,ol),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),F(this,hs).notify({query:this,type:"updated",action:e})})},yS);function US(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function KR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ri,wS,YR=(wS=class extends $l{constructor(e={}){super();Re(this,ri);this.config=e,we(this,ri,new Map)}build(e,n,r){const s=n.queryKey,a=n.queryHash??G6(s,n);let c=this.get(a);return c||(c=new WR({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(c)),c}add(e){F(this,ri).has(e.queryHash)||(F(this,ri).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,ri).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,ri).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,ri).get(e)}getAll(){return[...F(this,ri).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Y8(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Y8(e,r)):n}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ri=new WeakMap,wS),si,rr,oc,ii,ja,vS,ZR=(vS=class extends $S{constructor(e){super();Re(this,ii);Re(this,si);Re(this,rr);Re(this,oc);this.mutationId=e.mutationId,we(this,rr,e.mutationCache),we(this,si,[]),this.state=e.state||MS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,si).includes(e)||(F(this,si).push(e),this.clearGcTimeout(),F(this,rr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){we(this,si,F(this,si).filter(n=>n!==e)),this.scheduleGc(),F(this,rr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,si).length||(this.state.status==="pending"?this.scheduleGc():F(this,rr).remove(this))}continue(){var e;return((e=F(this,oc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,c,l,u,d,p,g,b,w,E,v,_,T,S,I,x,N,A,R,k;const n=()=>{Ye(this,ii,ja).call(this,{type:"continue"})};we(this,oc,DS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,z)=>{Ye(this,ii,ja).call(this,{type:"failed",failureCount:M,error:z})},onPause:()=>{Ye(this,ii,ja).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,rr).canRun(this)}));const r=this.state.status==="pending",s=!F(this,oc).canStart();try{if(r)n();else{Ye(this,ii,ja).call(this,{type:"pending",variables:e,isPaused:s}),await((c=(a=F(this,rr).config).onMutate)==null?void 0:c.call(a,e,this));const z=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e));z!==this.state.context&&Ye(this,ii,ja).call(this,{type:"pending",context:z,variables:e,isPaused:s})}const M=await F(this,oc).start();return await((p=(d=F(this,rr).config).onSuccess)==null?void 0:p.call(d,M,e,this.state.context,this)),await((b=(g=this.options).onSuccess)==null?void 0:b.call(g,M,e,this.state.context)),await((E=(w=F(this,rr).config).onSettled)==null?void 0:E.call(w,M,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,M,null,e,this.state.context)),Ye(this,ii,ja).call(this,{type:"success",data:M}),M}catch(M){try{throw await((S=(T=F(this,rr).config).onError)==null?void 0:S.call(T,M,e,this.state.context,this)),await((x=(I=this.options).onError)==null?void 0:x.call(I,M,e,this.state.context)),await((A=(N=F(this,rr).config).onSettled)==null?void 0:A.call(N,void 0,M,this.state.variables,this.state.context,this)),await((k=(R=this.options).onSettled)==null?void 0:k.call(R,void 0,M,e,this.state.context)),M}finally{Ye(this,ii,ja).call(this,{type:"error",error:M})}}finally{F(this,rr).runNext(this)}}},si=new WeakMap,rr=new WeakMap,oc=new WeakMap,ii=new WeakSet,ja=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mn.batch(()=>{F(this,si).forEach(r=>{r.onMutationUpdate(e)}),F(this,rr).notify({mutation:this,type:"updated",action:e})})},vS);function MS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gi,xs,P0,ES,QR=(ES=class extends $l{constructor(e={}){super();Re(this,Gi);Re(this,xs);Re(this,P0);this.config=e,we(this,Gi,new Set),we(this,xs,new Map),we(this,P0,0)}build(e,n,r){const s=new ZR({mutationCache:this,mutationId:++Ep(this,P0)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Gi).add(e);const n=_p(e);if(typeof n=="string"){const r=F(this,xs).get(n);r?r.push(e):F(this,xs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Gi).delete(e)){const n=_p(e);if(typeof n=="string"){const r=F(this,xs).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,xs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=_p(e);if(typeof n=="string"){const r=F(this,xs).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=_p(e);if(typeof n=="string"){const s=(r=F(this,xs).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mn.batch(()=>{F(this,Gi).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Gi).clear(),F(this,xs).clear()})}getAll(){return Array.from(F(this,Gi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z8(n,r))}findAll(e={}){return this.getAll().filter(n=>Z8(e,n))}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return mn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ar))))}},Gi=new WeakMap,xs=new WeakMap,P0=new WeakMap,ES);function _p(t){var e;return(e=t.options.scope)==null?void 0:e.id}function J8(t){return{onFetch:(e,n)=>{var p,g,b,w,E;const r=e.options,s=(b=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:b.direction,a=((w=e.state.data)==null?void 0:w.pages)||[],c=((E=e.state.data)==null?void 0:E.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let v=!1;const _=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},T=IS(e.options,e.fetchOptions),S=async(I,x,N)=>{if(v)return Promise.reject();if(x==null&&I.pages.length)return Promise.resolve(I);const A={client:e.client,queryKey:e.queryKey,pageParam:x,direction:N?"backward":"forward",meta:e.options.meta};_(A);const R=await T(A),{maxPages:k}=e.options,M=N?zR:jR;return{pages:M(I.pages,R,k),pageParams:M(I.pageParams,x,k)}};if(s&&a.length){const I=s==="backward",x=I?XR:e_,N={pages:a,pageParams:c},A=x(r,N);l=await S(N,A,I)}else{const I=t??a.length;do{const x=u===0?c[0]??r.initialPageParam:e_(r,l);if(u>0&&x==null)break;l=await S(l,x),u++}while(u<I)}return l};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function e_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function XR(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Zt,Ya,Za,cl,fl,Qa,ll,ul,_S,JR=(_S=class{constructor(t={}){Re(this,Zt);Re(this,Ya);Re(this,Za);Re(this,cl);Re(this,fl);Re(this,Qa);Re(this,ll);Re(this,ul);we(this,Zt,t.queryCache||new YR),we(this,Ya,t.mutationCache||new QR),we(this,Za,t.defaultOptions||{}),we(this,cl,new Map),we(this,fl,new Map),we(this,Qa,0)}mount(){Ep(this,Qa)._++,F(this,Qa)===1&&(we(this,ll,K6.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Zt).onFocus())})),we(this,ul,h1.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Zt).onOnline())})))}unmount(){var t,e;Ep(this,Qa)._--,F(this,Qa)===0&&((t=F(this,ll))==null||t.call(this),we(this,ll,void 0),(e=F(this,ul))==null||e.call(this),we(this,ul,void 0))}isFetching(t){return F(this,Zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Ya).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Zt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Zt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Qf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Zt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Zt).get(r.queryHash),a=s==null?void 0:s.state.data,c=BR(e,a);if(c!==void 0)return F(this,Zt).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return mn.batch(()=>F(this,Zt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Zt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Zt);mn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Zt);return mn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=mn.batch(()=>F(this,Zt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ar).catch(ar)}invalidateQueries(t,e={}){return mn.batch(()=>(F(this,Zt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=mn.batch(()=>F(this,Zt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(ar)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ar)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Zt).build(this,e);return n.isStaleByTime(Qf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ar).catch(ar)}fetchInfiniteQuery(t){return t.behavior=J8(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ar).catch(ar)}ensureInfiniteQueryData(t){return t.behavior=J8(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return h1.isOnline()?F(this,Ya).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Zt)}getMutationCache(){return F(this,Ya)}getDefaultOptions(){return F(this,Za)}setDefaultOptions(t){we(this,Za,t)}setQueryDefaults(t,e){F(this,cl).set(mc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,cl).values()],n={};return e.forEach(r=>{$d(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,fl).set(mc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,fl).values()],n={};return e.forEach(r=>{$d(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Za).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=G6(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===W6&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Za).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Zt).clear(),F(this,Ya).clear()}},Zt=new WeakMap,Ya=new WeakMap,Za=new WeakMap,cl=new WeakMap,fl=new WeakMap,Qa=new WeakMap,ll=new WeakMap,ul=new WeakMap,_S),Cr,ot,D0,sr,cc,dl,Xa,Ja,$0,hl,pl,fc,lc,eo,gl,vt,pd,yy,wy,vy,Ey,_y,Cy,Ay,kS,CS,ex=(CS=class extends $l{constructor(e,n){super();Re(this,vt);Re(this,Cr);Re(this,ot);Re(this,D0);Re(this,sr);Re(this,cc);Re(this,dl);Re(this,Xa);Re(this,Ja);Re(this,$0);Re(this,hl);Re(this,pl);Re(this,fc);Re(this,lc);Re(this,eo);Re(this,gl,new Set);this.options=n,we(this,Cr,e),we(this,Ja,null),we(this,Xa,by()),this.options.experimental_prefetchInRender||F(this,Xa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,ot).addObserver(this),t_(F(this,ot),this.options)?Ye(this,vt,pd).call(this):this.updateResult(),Ye(this,vt,Ey).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sy(F(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sy(F(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,vt,_y).call(this),Ye(this,vt,Cy).call(this),F(this,ot).removeObserver(this)}setOptions(e){const n=this.options,r=F(this,ot);if(this.options=F(this,Cr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ps(this.options.enabled,F(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,vt,Ay).call(this),F(this,ot).setOptions(this.options),n._defaulted&&!d1(this.options,n)&&F(this,Cr).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,ot),observer:this});const s=this.hasListeners();s&&n_(F(this,ot),r,this.options,n)&&Ye(this,vt,pd).call(this),this.updateResult(),s&&(F(this,ot)!==r||Ps(this.options.enabled,F(this,ot))!==Ps(n.enabled,F(this,ot))||Qf(this.options.staleTime,F(this,ot))!==Qf(n.staleTime,F(this,ot)))&&Ye(this,vt,yy).call(this);const a=Ye(this,vt,wy).call(this);s&&(F(this,ot)!==r||Ps(this.options.enabled,F(this,ot))!==Ps(n.enabled,F(this,ot))||a!==F(this,eo))&&Ye(this,vt,vy).call(this,a)}getOptimisticResult(e){const n=F(this,Cr).getQueryCache().build(F(this,Cr),e),r=this.createResult(n,e);return nx(this,r)&&(we(this,sr,r),we(this,dl,this.options),we(this,cc,F(this,ot).state)),r}getCurrentResult(){return F(this,sr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){F(this,gl).add(e)}getCurrentQuery(){return F(this,ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,Cr).defaultQueryOptions(e),r=F(this,Cr).getQueryCache().build(F(this,Cr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,vt,pd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,sr)))}createResult(e,n){var M;const r=F(this,ot),s=this.options,a=F(this,sr),c=F(this,cc),l=F(this,dl),d=e!==r?e.state:F(this,D0),{state:p}=e;let g={...p},b=!1,w;if(n._optimisticResults){const z=this.hasListeners(),H=!z&&t_(e,n),X=z&&n_(e,r,n,s);(H||X)&&(g={...g,...US(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:E,errorUpdatedAt:v,status:_}=g;w=g.data;let T=!1;if(n.placeholderData!==void 0&&w===void 0&&_==="pending"){let z;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(z=a.data,T=!0):z=typeof n.placeholderData=="function"?n.placeholderData((M=F(this,pl))==null?void 0:M.state.data,F(this,pl)):n.placeholderData,z!==void 0&&(_="success",w=my(a==null?void 0:a.data,z,n),b=!0)}if(n.select&&w!==void 0&&!T)if(a&&w===(c==null?void 0:c.data)&&n.select===F(this,$0))w=F(this,hl);else try{we(this,$0,n.select),w=n.select(w),w=my(a==null?void 0:a.data,w,n),we(this,hl,w),we(this,Ja,null)}catch(z){we(this,Ja,z)}F(this,Ja)&&(E=F(this,Ja),w=F(this,hl),v=Date.now(),_="error");const S=g.fetchStatus==="fetching",I=_==="pending",x=_==="error",N=I&&S,A=w!==void 0,k={status:_,fetchStatus:g.fetchStatus,isPending:I,isSuccess:_==="success",isError:x,isInitialLoading:N,isLoading:N,data:w,dataUpdatedAt:g.dataUpdatedAt,error:E,errorUpdatedAt:v,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!I,isLoadingError:x&&!A,isPaused:g.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:x&&A,isStale:Y6(e,n),refetch:this.refetch,promise:F(this,Xa)};if(this.options.experimental_prefetchInRender){const z=ie=>{k.status==="error"?ie.reject(k.error):k.data!==void 0&&ie.resolve(k.data)},H=()=>{const ie=we(this,Xa,k.promise=by());z(ie)},X=F(this,Xa);switch(X.status){case"pending":e.queryHash===r.queryHash&&z(X);break;case"fulfilled":(k.status==="error"||k.data!==X.value)&&H();break;case"rejected":(k.status!=="error"||k.error!==X.reason)&&H();break}}return k}updateResult(){const e=F(this,sr),n=this.createResult(F(this,ot),this.options);if(we(this,cc,F(this,ot).state),we(this,dl,this.options),F(this,cc).data!==void 0&&we(this,pl,F(this,ot)),d1(n,e))return;we(this,sr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!F(this,gl).size)return!0;const c=new Set(a??F(this,gl));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,sr)).some(l=>{const u=l;return F(this,sr)[u]!==e[u]&&c.has(u)})};Ye(this,vt,kS).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,vt,Ey).call(this)}},Cr=new WeakMap,ot=new WeakMap,D0=new WeakMap,sr=new WeakMap,cc=new WeakMap,dl=new WeakMap,Xa=new WeakMap,Ja=new WeakMap,$0=new WeakMap,hl=new WeakMap,pl=new WeakMap,fc=new WeakMap,lc=new WeakMap,eo=new WeakMap,gl=new WeakMap,vt=new WeakSet,pd=function(e){Ye(this,vt,Ay).call(this);let n=F(this,ot).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ar)),n},yy=function(){Ye(this,vt,_y).call(this);const e=Qf(this.options.staleTime,F(this,ot));if(gc||F(this,sr).isStale||!py(e))return;const r=NS(F(this,sr).dataUpdatedAt,e)+1;we(this,fc,setTimeout(()=>{F(this,sr).isStale||this.updateResult()},r))},wy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,ot)):this.options.refetchInterval)??!1},vy=function(e){Ye(this,vt,Cy).call(this),we(this,eo,e),!(gc||Ps(this.options.enabled,F(this,ot))===!1||!py(F(this,eo))||F(this,eo)===0)&&we(this,lc,setInterval(()=>{(this.options.refetchIntervalInBackground||K6.isFocused())&&Ye(this,vt,pd).call(this)},F(this,eo)))},Ey=function(){Ye(this,vt,yy).call(this),Ye(this,vt,vy).call(this,Ye(this,vt,wy).call(this))},_y=function(){F(this,fc)&&(clearTimeout(F(this,fc)),we(this,fc,void 0))},Cy=function(){F(this,lc)&&(clearInterval(F(this,lc)),we(this,lc,void 0))},Ay=function(){const e=F(this,Cr).getQueryCache().build(F(this,Cr),this.options);if(e===F(this,ot))return;const n=F(this,ot);we(this,ot,e),we(this,D0,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},kS=function(e){mn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,sr))}),F(this,Cr).getQueryCache().notify({query:F(this,ot),type:"observerResultsUpdated"})})},CS);function tx(t,e){return Ps(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function t_(t,e){return tx(t,e)||t.state.data!==void 0&&Sy(t,e,e.refetchOnMount)}function Sy(t,e,n){if(Ps(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Y6(t,e)}return!1}function n_(t,e,n,r){return(t!==e||Ps(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Y6(t,n)}function Y6(t,e){return Ps(e.enabled,t)!==!1&&t.isStaleByTime(Qf(e.staleTime,t))}function nx(t,e){return!d1(t.getCurrentResult(),e)}var to,no,Ar,Wi,ea,Qp,Ty,AS,rx=(AS=class extends $l{constructor(n,r){super();Re(this,ea);Re(this,to);Re(this,no);Re(this,Ar);Re(this,Wi);we(this,to,n),this.setOptions(r),this.bindMethods(),Ye(this,ea,Qp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,to).defaultMutationOptions(n),d1(this.options,r)||F(this,to).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Ar),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&mc(r.mutationKey)!==mc(this.options.mutationKey)?this.reset():((s=F(this,Ar))==null?void 0:s.state.status)==="pending"&&F(this,Ar).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,Ar))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,ea,Qp).call(this),Ye(this,ea,Ty).call(this,n)}getCurrentResult(){return F(this,no)}reset(){var n;(n=F(this,Ar))==null||n.removeObserver(this),we(this,Ar,void 0),Ye(this,ea,Qp).call(this),Ye(this,ea,Ty).call(this)}mutate(n,r){var s;return we(this,Wi,r),(s=F(this,Ar))==null||s.removeObserver(this),we(this,Ar,F(this,to).getMutationCache().build(F(this,to),this.options)),F(this,Ar).addObserver(this),F(this,Ar).execute(n)}},to=new WeakMap,no=new WeakMap,Ar=new WeakMap,Wi=new WeakMap,ea=new WeakSet,Qp=function(){var r;const n=((r=F(this,Ar))==null?void 0:r.state)??MS();we(this,no,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ty=function(n){mn.batch(()=>{var r,s,a,c,l,u,d,p;if(F(this,Wi)&&this.hasListeners()){const g=F(this,no).variables,b=F(this,no).context;(n==null?void 0:n.type)==="success"?((s=(r=F(this,Wi)).onSuccess)==null||s.call(r,n.data,g,b),(c=(a=F(this,Wi)).onSettled)==null||c.call(a,n.data,null,g,b)):(n==null?void 0:n.type)==="error"&&((u=(l=F(this,Wi)).onError)==null||u.call(l,n.error,g,b),(p=(d=F(this,Wi)).onSettled)==null||p.call(d,void 0,n.error,g,b))}this.listeners.forEach(g=>{g(F(this,no))})})},AS),BS=Qe.createContext(void 0),LS=t=>{const e=Qe.useContext(BS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sx=({client:t,children:e})=>(Qe.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),et.jsx(BS.Provider,{value:t,children:e})),jS=Qe.createContext(!1),ix=()=>Qe.useContext(jS);jS.Provider;function ax(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ox=Qe.createContext(ax()),cx=()=>Qe.useContext(ox),fx=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},lx=t=>{Qe.useEffect(()=>{t.clearReset()},[t])},ux=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||RS(n,[t.error,r])),dx=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},hx=(t,e)=>t.isLoading&&t.isFetching&&!e,px=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,r_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function gx(t,e,n){var g,b,w,E,v;const r=LS(),s=ix(),a=cx(),c=r.defaultQueryOptions(t);(b=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||b.call(g,c),c._optimisticResults=s?"isRestoring":"optimistic",dx(c),fx(c,a),lx(a);const l=!r.getQueryCache().get(c.queryHash),[u]=Qe.useState(()=>new e(r,c)),d=u.getOptimisticResult(c),p=!s&&t.subscribed!==!1;if(Qe.useSyncExternalStore(Qe.useCallback(_=>{const T=p?u.subscribe(mn.batchCalls(_)):ar;return u.updateResult(),T},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),Qe.useEffect(()=>{u.setOptions(c)},[c,u]),px(c,d))throw r_(c,u,a);if(ux({result:d,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw d.error;if((E=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||E.call(w,c,d),c.experimental_prefetchInRender&&!gc&&hx(d,s)){const _=l?r_(c,u,a):(v=r.getQueryCache().get(c.queryHash))==null?void 0:v.promise;_==null||_.catch(ar).finally(()=>{u.updateResult()})}return c.notifyOnChangeProps?d:u.trackResult(d)}function mx(t,e){return gx(t,ex)}function zS(t,e){const n=LS(),[r]=Qe.useState(()=>new rx(n,t));Qe.useEffect(()=>{r.setOptions(t)},[r,t]);const s=Qe.useSyncExternalStore(Qe.useCallback(c=>r.subscribe(mn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=Qe.useCallback((c,l)=>{r.mutate(c,l).catch(ar)},[r]);if(s.error&&RS(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const FS="2.29.3";let Ku={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${FS}`},ue=class Ny extends Error{constructor(e,n={}){var l;const r=(()=>{var u;return n.cause instanceof Ny?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),s=n.cause instanceof Ny&&n.cause.docsPath||n.docsPath,a=(l=Ku.getDocsUrl)==null?void 0:l.call(Ku,{...n,docsPath:s}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...Ku.version?[`Version: ${Ku.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=FS}walk(e){return qS(this,e)}};function qS(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?qS(t.cause,e):e?null:t}let HS=class extends ue{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class bx extends ue{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let yx=class extends ue{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class VS extends ue{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let GS=class extends ue{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class s_ extends ue{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ul(t,{dir:e,size:n=32}={}){return typeof t=="string"?ao(t,{dir:e,size:n}):wx(t,{dir:e,size:n})}function ao(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new GS({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function wx(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new GS({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}function po(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function bn(t){return po(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function M0(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const vx=new TextEncoder;function G1(t,e={}){return typeof t=="number"||typeof t=="bigint"?_x(t,e):typeof t=="boolean"?Ex(t,e):po(t)?ui(t,e):WS(t,e)}function Ex(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(zs(n,{size:e.size}),Ul(n,{size:e.size})):n}const Di={zero:48,nine:57,A:65,F:70,a:97,f:102};function i_(t){if(t>=Di.zero&&t<=Di.nine)return t-Di.zero;if(t>=Di.A&&t<=Di.F)return t-(Di.A-10);if(t>=Di.a&&t<=Di.f)return t-(Di.a-10)}function ui(t,e={}){let n=t;e.size&&(zs(n,{size:e.size}),n=Ul(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let c=0,l=0;c<s;c++){const u=i_(r.charCodeAt(l++)),d=i_(r.charCodeAt(l++));if(u===void 0||d===void 0)throw new ue(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);a[c]=u*16+d}return a}function _x(t,e){const n=nt(t,e);return ui(n)}function WS(t,e={}){const n=vx.encode(t);return typeof e.size=="number"?(zs(n,{size:e.size}),Ul(n,{dir:"right",size:e.size})):n}function zs(t,{size:e}){if(bn(t)>e)throw new yx({givenSize:bn(t),maxSize:e})}function ml(t,e={}){const{signed:n}=e;e.size&&zs(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function bc(t,e={}){return Number(ml(t,e))}function KS(t,e={}){let n=ui(t);return e.size&&(zs(n,{size:e.size}),n=M0(n,{dir:"right"})),new TextDecoder().decode(n)}const Cx=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bl(t,e={}){return typeof t=="number"||typeof t=="bigint"?nt(t,e):typeof t=="string"?W1(t,e):typeof t=="boolean"?YS(t,e):Ir(t,e)}function YS(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(zs(n,{size:e.size}),Ul(n,{size:e.size})):n}function Ir(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Cx[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(zs(r,{size:e.size}),Ul(r,{dir:"right",size:e.size})):r}function nt(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const u=typeof t=="bigint"?"n":"";throw new HS({max:a?`${a}${u}`:void 0,min:`${c}${u}`,signed:n,size:r,value:`${t}${u}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ul(l,{size:r}):l}const Ax=new TextEncoder;function W1(t,e={}){const n=Ax.encode(t);return Ir(n,e)}function go(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Mx(t.type);return`${t.name}(${K1(t.inputs,{includeName:e})})`}function K1(t,{includeName:e=!1}={}){return t?t.map(n=>Sx(n,{includeName:e})).join(e?", ":","):""}function Sx(t,{includeName:e}){return t.type.startsWith("tuple")?`(${K1(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class Tx extends ue{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class a_ extends ue{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class ZS extends ue{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${K1(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Y1 extends ue{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Nx extends ue{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ox extends ue{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${bn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Ix extends ue{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class nre extends ue{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class rre extends ue{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class QS extends ue{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Rx extends ue{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class XS extends ue{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class p1 extends ue{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class xx extends ue{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class sre extends ue{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Px extends ue{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${go(e.abiItem)}\`, and`,`\`${n.type}\` in \`${go(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Oy extends ue{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${K1(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class JS extends ue{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${go(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Dx extends ue{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class $x extends ue{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Ux extends ue{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class Mx extends ue{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function yl(t){return typeof t[0]=="string"?Z1(t):kx(t)}function kx(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Z1(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class yc extends ue{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Q1=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};function g1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Bx(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function X1(t,...e){if(!Bx(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function are(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");g1(t.outputLen),g1(t.blockLen)}function m1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function e4(t,e){X1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Cp=BigInt(2**32-1),o_=BigInt(32);function Lx(t,e=!1){return e?{h:Number(t&Cp),l:Number(t>>o_&Cp)}:{h:Number(t>>o_&Cp)|0,l:Number(t&Cp)|0}}function jx(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=Lx(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const zx=(t,e,n)=>t<<n|e>>>32-n,Fx=(t,e,n)=>e<<n|t>>>32-n,qx=(t,e,n)=>e<<n-32|t>>>64-n,Hx=(t,e,n)=>t<<n-32|e>>>64-n,Sf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vx(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Wb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ys(t,e){return t<<32-e|t>>>e}const c_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Gx(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function f_(t){for(let e=0;e<t.length;e++)t[e]=Gx(t[e])}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function Wx(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Z6(t){return typeof t=="string"&&(t=Wx(t)),X1(t),t}function ore(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];X1(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}let t4=class{clone(){return this._cloneInto()}};function n4(t){const e=r=>t().update(Z6(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function fre(t=32){if(Sf&&typeof Sf.getRandomValues=="function")return Sf.getRandomValues(new Uint8Array(t));if(Sf&&typeof Sf.randomBytes=="function")return Uint8Array.from(Sf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const r4=[],s4=[],i4=[],Kx=BigInt(0),Yu=BigInt(1),Yx=BigInt(2),Zx=BigInt(7),Qx=BigInt(256),Xx=BigInt(113);for(let t=0,e=Yu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],r4.push(2*(5*r+n)),s4.push((t+1)*(t+2)/2%64);let s=Kx;for(let a=0;a<7;a++)e=(e<<Yu^(e>>Zx)*Xx)%Qx,e&Yx&&(s^=Yu<<(Yu<<BigInt(a))-Yu);i4.push(s)}const[Jx,e7]=jx(i4,!0),l_=(t,e,n)=>n>32?qx(t,e,n):zx(t,e,n),u_=(t,e,n)=>n>32?Hx(t,e,n):Fx(t,e,n);function t7(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,u=(c+2)%10,d=n[u],p=n[u+1],g=l_(d,p,1)^n[l],b=u_(d,p,1)^n[l+1];for(let w=0;w<50;w+=10)t[c+w]^=g,t[c+w+1]^=b}let s=t[2],a=t[3];for(let c=0;c<24;c++){const l=s4[c],u=l_(s,a,l),d=u_(s,a,l),p=r4[c];s=t[p],a=t[p+1],t[p]=u,t[p+1]=d}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)n[l]=t[c+l];for(let l=0;l<10;l++)t[c+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=Jx[r],t[1]^=e7[r]}n.fill(0)}let n7=class a4 extends t4{constructor(e,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,g1(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Vx(this.state)}keccak(){c_||f_(this.state32),t7(this.state32,this.rounds),c_||f_(this.state32),this.posOut=0,this.pos=0}update(e){m1(this);const{blockLen:n,state:r}=this;e=Z6(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let l=0;l<c;l++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){m1(this,!1),X1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return g1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(e4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new a4(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const r7=(t,e,n)=>n4(()=>new n7(e,t,n)),s7=r7(1,136,256/8);function k0(t,e){const n=e||"hex",r=s7(po(t,{strict:!1})?G1(t):t);return n==="bytes"?r:bl(r)}const Kb=new Q1(8192);function J1(t,e){if(Kb.has(`${t}.${e}`))return Kb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=k0(WS(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const a=`0x${s.join("")}`;return Kb.set(`${t}.${e}`,a),a}function Qo(t,e){if(!di(t,{strict:!1}))throw new yc({address:t});return J1(t,e)}const i7=/^0x[a-fA-F0-9]{40}$/,Yb=new Q1(8192);function di(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Yb.has(r))return Yb.get(r);const s=i7.test(t)?t.toLowerCase()===t?!0:n?J1(t)===t:!0:!1;return Yb.set(r,s),s}function b1(t,e,n,{strict:r}={}){return po(t,{strict:!1})?a7(t,e,n,{strict:r}):f4(t,e,n,{strict:r})}function o4(t,e){if(typeof e=="number"&&e>0&&e>bn(t)-1)throw new VS({offset:e,position:"start",size:bn(t)})}function c4(t,e,n){if(typeof e=="number"&&typeof n=="number"&&bn(t)!==n-e)throw new VS({offset:n,position:"end",size:bn(t)})}function f4(t,e,n,{strict:r}={}){o4(t,e);const s=t.slice(e,n);return r&&c4(s,e,n),s}function a7(t,e,n,{strict:r}={}){o4(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&c4(s,e,n),s}const o7=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function l4(t,e){if(t.length!==e.length)throw new Ix({expectedLength:t.length,givenLength:e.length});const n=c7({params:t,values:e}),r=X6(n);return r.length===0?"0x":r}function c7({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(Q6({param:t[r],value:e[r]}));return n}function Q6({param:t,value:e}){const n=J6(t.type);if(n){const[r,s]=n;return l7(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return g7(e,{param:t});if(t.type==="address")return f7(e);if(t.type==="bool")return d7(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=o7.exec(t.type)??[];return h7(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return u7(e,{param:t});if(t.type==="string")return p7(e);throw new Dx(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function X6(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:l}=t[a];c?e+=32:e+=bn(l)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:l}=t[a];c?(n.push(nt(e+s,{size:32})),r.push(l),s+=bn(l)):n.push(l)}return yl([...n,...r])}function f7(t){if(!di(t))throw new yc({address:t});return{dynamic:!1,encoded:ao(t.toLowerCase())}}function l7(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Ux(t);if(!r&&t.length!==e)throw new Nx({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const a=[];for(let c=0;c<t.length;c++){const l=Q6({param:n,value:t[c]});l.dynamic&&(s=!0),a.push(l)}if(r||s){const c=X6(a);if(r){const l=nt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?yl([l,c]):l}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:yl(a.map(({encoded:c})=>c))}}function u7(t,{param:e}){const[,n]=e.type.split("bytes"),r=bn(t);if(!n){let s=t;return r%32!==0&&(s=ao(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:yl([ao(nt(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Ox({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:ao(t,{dir:"right"})}}function d7(t){if(typeof t!="boolean")throw new ue(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ao(YS(t))}}function h7(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new HS({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:nt(t,{size:32,signed:e})}}function p7(t){const e=W1(t),n=Math.ceil(bn(e)/32),r=[];for(let s=0;s<n;s++)r.push(ao(b1(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:yl([ao(nt(bn(e),{size:32})),...r])}}function g7(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],c=Array.isArray(t)?s:a.name,l=Q6({param:a,value:t[c]});r.push(l),l.dynamic&&(n=!0)}return{dynamic:n,encoded:n?X6(r):yl(r.map(({encoded:s})=>s))}}function J6(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Zb="/docs/contract/encodeDeployData";function ew(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(c=>"type"in c&&c.type==="constructor");if(!s)throw new Tx({docsPath:Zb});if(!("inputs"in s))throw new a_({docsPath:Zb});if(!s.inputs||s.inputs.length===0)throw new a_({docsPath:Zb});const a=l4(s.inputs,n);return Z1([r,a])}function bi(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class tw extends ue{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Qb extends ue{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function m7(t){const e=k0(`0x${t.substring(4)}`).substring(26);return J1(`0x${e}`)}const b7="modulepreload",y7=function(t){return"/"+t},d_={},ir=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=c(n.map(d=>{if(d=y7(d),d in d_)return;d_[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":b7,p||(b.as="script"),b.crossOrigin="",b.href=d,u&&b.setAttribute("nonce",u),document.head.appendChild(b),p)return new Promise((w,E)=>{b.addEventListener("load",w),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return s.then(c=>{for(const l of c||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};async function w7({hash:t,signature:e}){const n=po(t)?t:bl(t),{secp256k1:r}=await ir(async()=>{const{secp256k1:c}=await import("./secp256k1-BaLWSuyQ.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:p,v:g,yParity:b}=e,w=Number(b??g),E=h_(w);return new r.Signature(ml(d),ml(p)).addRecoveryBit(E)}const c=po(e)?e:bl(e);if(bn(c)!==65)throw new Error("invalid signature length");const l=bc(`0x${c.slice(130)}`),u=h_(l);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function h_(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function v7({hash:t,signature:e}){return m7(await w7({hash:t,signature:e}))}class p_ extends ue{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class u4 extends ue{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class E7 extends ue{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const _7={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new E7({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new u4({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new p_({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new p_({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function nw(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(_7);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function C7(t,e="hex"){const n=d4(t),r=nw(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ir(r.bytes):r.bytes}function d4(t){return Array.isArray(t)?A7(t.map(e=>d4(e))):S7(t)}function A7(t){const e=t.reduce((s,a)=>s+a.length,0),n=h4(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:a}of t)a(s)}}}function S7(t){const e=typeof t=="string"?ui(t):t,n=h4(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function h4(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ue("Length is too large.")}function T7(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,a=k0(Z1(["0x05",C7([e?nt(e):"0x",s,n?nt(n):"0x"])]));return r==="bytes"?ui(a):a}async function p4(t){const{authorization:e,signature:n}=t;return v7({hash:T7(e),signature:n??e})}class Iy extends ue{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class N7 extends ue{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class O7 extends ue{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class g4 extends ue{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function I7({chain:t,currentChainId:e}){if(!t)throw new O7;if(e!==t.id)throw new N7({chain:t,currentChainId:e})}const R7={gwei:9,wei:18},x7={ether:-9,wei:9},P7={ether:-18,gwei:-9};function Ml(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function Nr(t,e="wei"){return Ml(t,x7[e])}class Xo extends ue{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Xo,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Xo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class y1 extends ue{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Nr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(y1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ry extends ue{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Nr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Ry,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class xy extends ue{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(xy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Py extends ue{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Py,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Dy extends ue{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Dy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class $y extends ue{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty($y,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Uy extends ue{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Uy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class My extends ue{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(My,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ky extends ue{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ky,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class w1 extends ue{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Nr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Nr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(w1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class eg extends ue{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function rw(t,e="wei"){return Ml(t,R7[e])}function B0(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class D7 extends ue{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class $7 extends ue{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",B0(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class U7 extends ue{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:p,to:g,value:b}){var E;const w=B0({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:g,value:typeof b<"u"&&`${rw(b)} ${((E=s==null?void 0:s.nativeCurrency)==null?void 0:E.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof l<"u"&&`${Nr(l)} gwei`,maxFeePerGas:typeof u<"u"&&`${Nr(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Nr(d)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class m4 extends ue{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){let c="Transaction";r&&a!==void 0&&(c=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(c=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(c=`Transaction at block number "${n}" at index "${a}"`),s&&(c=`Transaction with hash "${s}"`),super(`${c} could not be found.`,{name:"TransactionNotFoundError"})}}class b4 extends ue{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class M7 extends ue{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ms=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),k7=t=>t,sw=t=>t;class _d extends ue{constructor({body:e,cause:n,details:r,headers:s,status:a,url:c}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${sw(c)}`,e&&`Request body: ${ms(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=a,this.url=c}}class iw extends ue{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${sw(r)}`,`Request body: ${ms(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class g_ extends ue{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${sw(n)}`,`Request body: ${ms(e)}`],name:"TimeoutError"})}}const B7=-1;class Rr extends ue{constructor(e,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:c}){super(c,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof iw?e.code:n??B7}}class Zr extends Rr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ud extends Rr{constructor(e){super(e,{code:Ud.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ud,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Md extends Rr{constructor(e){super(e,{code:Md.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Md,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class kd extends Rr{constructor(e,{method:n}={}){super(e,{code:kd.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bd extends Rr{constructor(e){super(e,{code:Bd.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wc extends Rr{constructor(e){super(e,{code:wc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(wc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ld extends Rr{constructor(e){super(e,{code:Ld.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ld,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class jd extends Rr{constructor(e){super(e,{code:jd.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class oo extends Rr{constructor(e){super(e,{code:oo.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class wl extends Rr{constructor(e){super(e,{code:wl.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(wl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Jo extends Rr{constructor(e,{method:n}={}){super(e,{code:Jo.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class vl extends Rr{constructor(e){super(e,{code:vl.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(vl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class zd extends Rr{constructor(e){super(e,{code:zd.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class pn extends Zr{constructor(e){super(e,{code:pn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Fd extends Zr{constructor(e){super(e,{code:Fd.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Fd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class qd extends Zr{constructor(e,{method:n}={}){super(e,{code:qd.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Hd extends Zr{constructor(e){super(e,{code:Hd.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vd extends Zr{constructor(e){super(e,{code:Vd.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class hi extends Zr{constructor(e){super(e,{code:hi.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(hi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Gd extends Zr{constructor(e){super(e,{code:Gd.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Wd extends Zr{constructor(e){super(e,{code:Wd.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Kd extends Zr{constructor(e){super(e,{code:Kd.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Yd extends Zr{constructor(e){super(e,{code:Yd.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Zd extends Zr{constructor(e){super(e,{code:Zd.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Qd extends Zr{constructor(e){super(e,{code:Qd.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xd extends Zr{constructor(e){super(e,{code:Xd.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class L7 extends Rr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function aw(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ue?t.walk(s=>(s==null?void 0:s.code)===Xo.code):t;return r instanceof ue?new Xo({cause:t,message:r.details}):Xo.nodeMessage.test(n)?new Xo({cause:t,message:t.details}):y1.nodeMessage.test(n)?new y1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Ry.nodeMessage.test(n)?new Ry({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):xy.nodeMessage.test(n)?new xy({cause:t,nonce:e==null?void 0:e.nonce}):Py.nodeMessage.test(n)?new Py({cause:t,nonce:e==null?void 0:e.nonce}):Dy.nodeMessage.test(n)?new Dy({cause:t,nonce:e==null?void 0:e.nonce}):$y.nodeMessage.test(n)?new $y({cause:t}):Uy.nodeMessage.test(n)?new Uy({cause:t,gas:e==null?void 0:e.gas}):My.nodeMessage.test(n)?new My({cause:t,gas:e==null?void 0:e.gas}):ky.nodeMessage.test(n)?new ky({cause:t}):w1.nodeMessage.test(n)?new w1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new eg({cause:t})}function j7(t,{docsPath:e,...n}){const r=(()=>{const s=aw(t,n);return s instanceof eg?t:s})();return new U7(r,{docsPath:e,...n})}function ow(t,{format:e}){if(!e)return{};const n={};function r(a){const c=Object.keys(a);for(const l of c)l in t&&(n[l]=t[l]),a[l]&&typeof a[l]=="object"&&!Array.isArray(a[l])&&r(a[l])}const s=e(t||{});return r(s),n}const z7={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function cw(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=F7(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Ir(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=nt(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=nt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=nt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=nt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=nt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=nt(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=z7[t.type]),typeof t.value<"u"&&(e.value=nt(t.value)),e}function F7(t){return t.map(e=>({address:e.address,r:e.r?nt(BigInt(e.r)):e.r,s:e.s?nt(BigInt(e.s)):e.s,chainId:nt(e.chainId),nonce:nt(e.nonce),...typeof e.yParity<"u"?{yParity:nt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:nt(e.v)}:{}}))}function qt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}const q7=2n**256n-1n;function tg(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=t,c=e?bi(e):void 0;if(c&&!di(c.address))throw new yc({address:c.address});if(a&&!di(a))throw new yc({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new D7;if(r&&r>q7)throw new y1({maxFeePerGas:r});if(s&&r&&s>r)throw new w1({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function y4(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return bc(e)}class H7 extends ue{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class fw extends ue{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class V7 extends ue{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Nr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class w4 extends ue{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const v4={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function E4(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?bc(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?bc(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?v4[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=G7(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function G7(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function W7(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:E4(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Jd(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var p,g,b;const a=r??"latest",c=s??!1,l=n!==void 0?nt(n):void 0;let u=null;if(e?u=await t.request({method:"eth_getBlockByHash",params:[e,c]},{dedupe:!0}):u=await t.request({method:"eth_getBlockByNumber",params:[l||a,c]},{dedupe:!!l}),!u)throw new w4({blockHash:e,blockNumber:n});return(((b=(g=(p=t.chain)==null?void 0:p.formatters)==null?void 0:g.block)==null?void 0:b.format)||W7)(u)}async function _4(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function K7(t,e){var a,c;const{block:n,chain:r=t.chain,request:s}=e||{};try{const l=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((c=r==null?void 0:r.fees)==null?void 0:c.defaultPriorityFee);if(typeof l=="function"){const d=n||await qt(t,Jd,"getBlock")({}),p=await l({block:d,client:t,request:s});if(p===null)throw new Error;return p}if(typeof l<"u")return l;const u=await t.request({method:"eth_maxPriorityFeePerGas"});return ml(u)}catch{const[l,u]=await Promise.all([n?Promise.resolve(n):qt(t,Jd,"getBlock")({}),qt(t,_4,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new fw;const d=u-l.baseFeePerGas;return d<0n?0n:d}}async function m_(t,e){var b,w;const{block:n,chain:r=t.chain,request:s,type:a="eip1559"}=e||{},c=await(async()=>{var E,v;return typeof((E=r==null?void 0:r.fees)==null?void 0:E.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((v=r==null?void 0:r.fees)==null?void 0:v.baseFeeMultiplier)??1.2})();if(c<1)throw new H7;const u=10**(((b=c.toString().split(".")[1])==null?void 0:b.length)??0),d=E=>E*BigInt(Math.ceil(c*u))/BigInt(u),p=n||await qt(t,Jd,"getBlock")({});if(typeof((w=r==null?void 0:r.fees)==null?void 0:w.estimateFeesPerGas)=="function"){const E=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:d,request:s,type:a});if(E!==null)return E}if(a==="eip1559"){if(typeof p.baseFeePerGas!="bigint")throw new fw;const E=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await K7(t,{block:p,chain:r,request:s}),v=d(p.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??v+E,maxPriorityFeePerGas:E}}return{gasPrice:(s==null?void 0:s.gasPrice)??d(await qt(t,_4,"getGasPrice")({}))}}class Y7 extends ue{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:p,to:g,value:b}){var E;const w=B0({from:n==null?void 0:n.address,to:g,value:typeof b<"u"&&`${rw(b)} ${((E=s==null?void 0:s.nativeCurrency)==null?void 0:E.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof l<"u"&&`${Nr(l)} gwei`,maxFeePerGas:typeof u<"u"&&`${Nr(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Nr(d)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Z7(t,{docsPath:e,...n}){const r=(()=>{const s=aw(t,n);return s instanceof eg?t:s})();return new Y7(r,{docsPath:e,...n})}class Q7 extends ue{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class X7 extends ue{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function b_(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function J7(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=b_(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=b_(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function y_(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new s_({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new s_({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function eP(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:a}=t,c={};if(a!==void 0&&(c.code=a),e!==void 0&&(c.balance=nt(e)),n!==void 0&&(c.nonce=nt(n)),r!==void 0&&(c.state=y_(r)),s!==void 0){if(c.state)throw new X7;c.stateDiff=y_(s)}return c}function C4(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!di(n,{strict:!1}))throw new yc({address:n});if(e[n])throw new Q7({address:n});e[n]=eP(r)}return e}async function A4(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?nt(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(a)}async function S4(t,e){var s,a,c;const{account:n=t.account}=e,r=n?bi(n):void 0;try{let W=function(O){const{block:B,request:q,rpcStateOverride:G}=O;return t.request({method:"eth_estimateGas",params:G?[q,B??"latest",G]:B?[q,B]:[q]})};const{accessList:l,authorizationList:u,blobs:d,blobVersionedHashes:p,blockNumber:g,blockTag:b,data:w,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:T,maxPriorityFeePerGas:S,nonce:I,value:x,stateOverride:N,...A}=await uw(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),k=(typeof g=="bigint"?nt(g):void 0)||b,M=C4(N),z=await(async()=>{if(A.to)return A.to;if(u&&u.length>0)return await p4({authorization:u[0]}).catch(()=>{throw new ue("`to` is required. Could not infer from `authorizationList`")})})();tg(e);const H=(c=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,ie=(H||cw)({...ow(A,{format:H}),from:r==null?void 0:r.address,accessList:l,authorizationList:u,blobs:d,blobVersionedHashes:p,data:w,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:T,maxPriorityFeePerGas:S,nonce:I,to:z,value:x});let U=BigInt(await W({block:k,request:ie,rpcStateOverride:M}));if(u){const O=await A4(t,{address:ie.from}),B=await Promise.all(u.map(async q=>{const{address:G}=q,D=await W({block:k,request:{authorizationList:void 0,data:w,from:r==null?void 0:r.address,to:G,value:nt(O)},rpcStateOverride:M}).catch(()=>100000n);return 2n*BigInt(D)}));U+=B.reduce((q,G)=>q+G,0n)}return U}catch(l){throw Z7(l,{...e,account:r,chain:t.chain})}}async function tP(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?nt(r):n]},{dedupe:!!r});return bc(s)}function T4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>ui(a)):t.blobs,s=[];for(const a of r)s.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>Ir(a))}function N4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(c=>ui(c)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(c=>ui(c)):t.commitments,a=[];for(let c=0;c<r.length;c++){const l=r[c],u=s[c];a.push(Uint8Array.from(e.computeBlobKzgProof(l,u)))}return n==="bytes"?a:a.map(c=>Ir(c))}function nP(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),l=Number(n&a),u=r?4:0,d=r?0:4;t.setUint32(e+u,c,r),t.setUint32(e+d,l,r)}function rP(t,e,n){return t&e^~t&n}function sP(t,e,n){return t&e^t&n^e&n}class iP extends t4{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Wb(this.buffer)}update(e){m1(this);const{view:n,buffer:r,blockLen:s}=this;e=Z6(e);const a=e.length;for(let c=0;c<a;){const l=Math.min(s-this.pos,a-c);if(l===s){const u=Wb(e);for(;s<=a-c;c+=s)this.process(u,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){m1(this),e4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;nP(r,s-8,BigInt(this.length*8),a),this.process(r,0);const l=Wb(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<d;g++)l.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:l}=this;return e.length=s,e.pos=l,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}}const aP=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pa=new Uint32Array(64);class oP extends iP{constructor(e=32){super(64,e,8,!1),this.A=xa[0]|0,this.B=xa[1]|0,this.C=xa[2]|0,this.D=xa[3]|0,this.E=xa[4]|0,this.F=xa[5]|0,this.G=xa[6]|0,this.H=xa[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:c,G:l,H:u}=this;return[e,n,r,s,a,c,l,u]}set(e,n,r,s,a,c,l,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=l|0,this.H=u|0}process(e,n){for(let g=0;g<16;g++,n+=4)Pa[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const b=Pa[g-15],w=Pa[g-2],E=Ys(b,7)^Ys(b,18)^b>>>3,v=Ys(w,17)^Ys(w,19)^w>>>10;Pa[g]=v+Pa[g-7]+E+Pa[g-16]|0}let{A:r,B:s,C:a,D:c,E:l,F:u,G:d,H:p}=this;for(let g=0;g<64;g++){const b=Ys(l,6)^Ys(l,11)^Ys(l,25),w=p+b+rP(l,u,d)+aP[g]+Pa[g]|0,v=(Ys(r,2)^Ys(r,13)^Ys(r,22))+sP(r,s,a)|0;p=d,d=u,u=l,l=c+w|0,c=a,a=s,s=r,r=w+v|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,a,c,l,u,d,p)}roundClean(){Pa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const cP=n4(()=>new oP);function fP(t,e){return cP(po(t,{strict:!1})?G1(t):t)}function lP(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=fP(e);return s.set([n],0),r==="bytes"?s:Ir(s)}function uP(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const a of e)s.push(lP({commitment:a,to:r,version:n}));return s}const w_=6,O4=32,lw=4096,I4=O4*lw,v_=I4*w_-1-1*lw*w_;class dP extends ue{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class hP extends ue{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function pP(t){const e=typeof t.data=="string"?ui(t.data):t.data,n=bn(e);if(!n)throw new hP;if(n>v_)throw new dP({maxSize:v_,size:n});const r=[];let s=!0,a=0;for(;s;){const c=nw(new Uint8Array(I4));let l=0;for(;l<lw;){const u=e.slice(a,a+(O4-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),s=!1;break}l++,a+=31}r.push(c)}return r.map(c=>Ir(c.bytes))}function gP(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??pP({data:e}),a=t.commitments??T4({blobs:s,kzg:n,to:r}),c=t.proofs??N4({blobs:s,commitments:a,kzg:n,to:r}),l=[];for(let u=0;u<s.length;u++)l.push({blob:s[u],commitment:a[u],proof:c[u]});return l}function mP(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new $7({transaction:t})}const R4=["blobVersionedHashes","chainId","fees","gas","nonce","type"],E_=new Map;async function uw(t,e){const{account:n=t.account,blobs:r,chain:s,gas:a,kzg:c,nonce:l,nonceManager:u,parameters:d=R4,type:p}=e,g=n&&bi(n),b={...e,...g?{from:g==null?void 0:g.address}:{}};let w;async function E(){return w||(w=await qt(t,Jd,"getBlock")({blockTag:"latest"}),w)}let v;async function _(){return v||(s?s.id:typeof e.chainId<"u"?e.chainId:(v=await qt(t,y4,"getChainId")({}),v))}if(d.includes("nonce")&&typeof l>"u"&&g)if(u){const T=await _();b.nonce=await u.consume({address:g.address,chainId:T,client:t})}else b.nonce=await qt(t,tP,"getTransactionCount")({address:g.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&r&&c){const T=T4({blobs:r,kzg:c});if(d.includes("blobVersionedHashes")){const S=uP({commitments:T,to:"hex"});b.blobVersionedHashes=S}if(d.includes("sidecars")){const S=N4({blobs:r,commitments:T,kzg:c}),I=gP({blobs:r,commitments:T,proofs:S,to:"hex"});b.sidecars=I}}if(d.includes("chainId")&&(b.chainId=await _()),(d.includes("fees")||d.includes("type"))&&typeof p>"u")try{b.type=mP(b)}catch{let T=E_.get(t.uid);if(typeof T>"u"){const S=await E();T=typeof(S==null?void 0:S.baseFeePerGas)=="bigint",E_.set(t.uid,T)}b.type=T?"eip1559":"legacy"}if(d.includes("fees"))if(b.type!=="legacy"&&b.type!=="eip2930"){if(typeof b.maxFeePerGas>"u"||typeof b.maxPriorityFeePerGas>"u"){const T=await E(),{maxFeePerGas:S,maxPriorityFeePerGas:I}=await m_(t,{block:T,chain:s,request:b});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<I)throw new V7({maxPriorityFeePerGas:I});b.maxPriorityFeePerGas=I,b.maxFeePerGas=S}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new fw;if(typeof e.gasPrice>"u"){const T=await E(),{gasPrice:S}=await m_(t,{block:T,chain:s,request:b,type:"legacy"});b.gasPrice=S}}return d.includes("gas")&&typeof a>"u"&&(b.gas=await qt(t,S4,"estimateGas")({...b,account:g&&{address:g.address,type:"json-rpc"}})),tg(b),delete b.parameters,b}async function bP(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Xb=new Q1(128);async function dw(t,e){var S,I,x,N;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:a,blobs:c,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:w,type:E,value:v,..._}=e;if(typeof n>"u")throw new tw({docsPath:"/docs/actions/wallet/sendTransaction"});const T=n?bi(n):null;try{tg(e);const A=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await p4({authorization:a[0]}).catch(()=>{throw new ue("`to` is required. Could not infer from `authorizationList`.")})})();if((T==null?void 0:T.type)==="json-rpc"||T===null){let R;r!==null&&(R=await qt(t,y4,"getChainId")({}),I7({currentChainId:R,chain:r}));const k=(x=(I=(S=t.chain)==null?void 0:S.formatters)==null?void 0:I.transactionRequest)==null?void 0:x.format,z=(k||cw)({...ow(_,{format:k}),accessList:s,authorizationList:a,blobs:c,chainId:R,data:l,from:T==null?void 0:T.address,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:w,to:A,type:E,value:v}),H=Xb.get(t.uid),X=H?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:X,params:[z]},{retryCount:0})}catch(ie){if(H===!1)throw ie;const W=ie;if(W.name==="InvalidInputRpcError"||W.name==="InvalidParamsRpcError"||W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[z]},{retryCount:0}).then(U=>(Xb.set(t.uid,!0),U)).catch(U=>{const O=U;throw O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"?(Xb.set(t.uid,!1),W):O});throw W}}if((T==null?void 0:T.type)==="local"){const R=await qt(t,uw,"prepareTransactionRequest")({account:T,accessList:s,authorizationList:a,blobs:c,chain:r,data:l,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:w,nonceManager:T.nonceManager,parameters:[...R4,"sidecars"],type:E,value:v,..._,to:A}),k=(N=r==null?void 0:r.serializers)==null?void 0:N.transaction,M=await T.signTransaction(R,{serializer:k});return await qt(t,bP,"sendRawTransaction")({serializedTransaction:M})}throw(T==null?void 0:T.type)==="smart"?new Qb({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Qb({docsPath:"/docs/actions/wallet/sendTransaction",type:T==null?void 0:T.type})}catch(A){throw A instanceof Qb?A:j7(A,{...e,account:T,chain:e.chain||void 0})}}function yP(t,e){const{abi:n,args:r,bytecode:s,...a}=e,c=ew({abi:n,args:r,bytecode:s});return dw(t,{...a,...a.authorizationList?{to:null}:{},data:c})}const By=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],lre=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];function wP(t,e={}){typeof e.size<"u"&&zs(t,{size:e.size});const n=Ir(t,e);return ml(n,e)}function vP(t,e={}){let n=t;if(typeof e.size<"u"&&(zs(n,{size:e.size}),n=M0(n)),n.length>1||n[0]>1)throw new bx(n);return!!n[0]}function Zi(t,e={}){typeof e.size<"u"&&zs(t,{size:e.size});const n=Ir(t,e);return bc(n,e)}function EP(t,e={}){let n=t;return typeof e.size<"u"&&(zs(n,{size:e.size}),n=M0(n,{dir:"right"})),new TextDecoder().decode(n)}function ng(t,e){const n=typeof e=="string"?ui(e):e,r=nw(n);if(bn(n)===0&&t.length>0)throw new Y1;if(bn(e)&&bn(e)<32)throw new ZS({data:typeof e=="string"?e:Ir(e),params:t,size:bn(e)});let s=0;const a=[];for(let c=0;c<t.length;++c){const l=t[c];r.setPosition(s);const[u,d]=Xf(r,l,{staticPosition:0});s+=d,a.push(u)}return a}function Xf(t,e,{staticPosition:n}){const r=J6(e.type);if(r){const[s,a]=r;return CP(t,{...e,type:a},{length:s,staticPosition:n})}if(e.type==="tuple")return NP(t,e,{staticPosition:n});if(e.type==="address")return _P(t);if(e.type==="bool")return AP(t);if(e.type.startsWith("bytes"))return SP(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return TP(t,e);if(e.type==="string")return OP(t,{staticPosition:n});throw new $x(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const __=32,Ly=32;function _P(t){const e=t.readBytes(32);return[J1(Ir(f4(e,-20))),32]}function CP(t,e,{length:n,staticPosition:r}){if(!n){const c=Zi(t.readBytes(Ly)),l=r+c,u=l+__;t.setPosition(l);const d=Zi(t.readBytes(__)),p=e0(e);let g=0;const b=[];for(let w=0;w<d;++w){t.setPosition(u+(p?w*32:g));const[E,v]=Xf(t,e,{staticPosition:u});g+=v,b.push(E)}return t.setPosition(r+32),[b,32]}if(e0(e)){const c=Zi(t.readBytes(Ly)),l=r+c,u=[];for(let d=0;d<n;++d){t.setPosition(l+d*32);const[p]=Xf(t,e,{staticPosition:l});u.push(p)}return t.setPosition(r+32),[u,32]}let s=0;const a=[];for(let c=0;c<n;++c){const[l,u]=Xf(t,e,{staticPosition:r+s});s+=u,a.push(l)}return[a,s]}function AP(t){return[vP(t.readBytes(32),{size:32}),32]}function SP(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const c=Zi(t.readBytes(32));t.setPosition(n+c);const l=Zi(t.readBytes(32));if(l===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(l);return t.setPosition(n+32),[Ir(u),32]}return[Ir(t.readBytes(Number.parseInt(s),32)),32]}function TP(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?wP(s,{signed:n}):Zi(s,{signed:n}),32]}function NP(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:c})=>!c),s=r?[]:{};let a=0;if(e0(e)){const c=Zi(t.readBytes(Ly)),l=n+c;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(l+a);const[p,g]=Xf(t,d,{staticPosition:l});a+=g,s[r?u:d==null?void 0:d.name]=p}return t.setPosition(n+32),[s,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[u,d]=Xf(t,l,{staticPosition:n});s[r?c:l==null?void 0:l.name]=u,a+=d}return[s,a]}function OP(t,{staticPosition:e}){const n=Zi(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Zi(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),c=EP(M0(a));return t.setPosition(e+32),[c,32]}function e0(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(e0);const n=J6(t.type);return!!(n&&e0({...t,type:n[1]}))}const IP=t=>k0(G1(t));function RP(t){return IP(t)}const xP="1.0.8";let bs=class jy extends Error{constructor(e,n={}){var c;const r=n.cause instanceof jy?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details,s=n.cause instanceof jy&&n.cause.docsPath||n.docsPath,a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${xP}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function ra(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const x4=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,P4=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,D4=/^\(.+?\).*?$/,C_=/^tuple(?<array>(\[(\d*)\])*)$/;function zy(t){let e=t.type;if(C_.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const a=t.components[s];e+=zy(a),s<n-1&&(e+=", ")}const r=ra(C_,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,zy({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Zu(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=zy(s),r!==n-1&&(e+=", ")}return e}function PP(t){var e;return t.type==="function"?`function ${t.name}(${Zu(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Zu(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Zu(t.inputs)})`:t.type==="error"?`error ${t.name}(${Zu(t.inputs)})`:t.type==="constructor"?`constructor(${Zu(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const $4=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function DP(t){return $4.test(t)}function $P(t){return ra($4,t)}const U4=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function UP(t){return U4.test(t)}function MP(t){return ra(U4,t)}const M4=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function kP(t){return M4.test(t)}function BP(t){return ra(M4,t)}const k4=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function B4(t){return k4.test(t)}function LP(t){return ra(k4,t)}const L4=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function jP(t){return L4.test(t)}function zP(t){return ra(L4,t)}const j4=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function FP(t){return j4.test(t)}function qP(t){return ra(j4,t)}const HP=/^receive\(\) external payable$/;function VP(t){return HP.test(t)}const GP=new Set(["indexed"]),Fy=new Set(["calldata","memory","storage"]);class WP extends bs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class KP extends bs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class YP extends bs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class ZP extends bs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class QP extends bs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class XP extends bs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class JP extends bs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class kl extends bs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class eD extends bs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class tD extends bs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class nD extends bs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class rD extends bs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function sD(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const c of s[1])a+=`[${c.type}${c.name?`:${c.name}`:""}]`;r+=`(${s[0]}{${a}})`}return e?`${e}:${t}${r}`:t}const Jb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function iD(t,e={}){if(kP(t))return aD(t,e);if(UP(t))return oD(t,e);if(DP(t))return cD(t,e);if(jP(t))return fD(t,e);if(FP(t))return lD(t);if(VP(t))return{type:"receive",stateMutability:"payable"};throw new eD({signature:t})}function aD(t,e={}){const n=BP(t);if(!n)throw new kl({signature:t,type:"function"});const r=$s(n.parameters),s=[],a=r.length;for(let l=0;l<a;l++)s.push(vc(r[l],{modifiers:Fy,structs:e,type:"function"}));const c=[];if(n.returns){const l=$s(n.returns),u=l.length;for(let d=0;d<u;d++)c.push(vc(l[d],{modifiers:Fy,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:c}}function oD(t,e={}){const n=MP(t);if(!n)throw new kl({signature:t,type:"event"});const r=$s(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(vc(r[c],{modifiers:GP,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function cD(t,e={}){const n=$P(t);if(!n)throw new kl({signature:t,type:"error"});const r=$s(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(vc(r[c],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function fD(t,e={}){const n=zP(t);if(!n)throw new kl({signature:t,type:"constructor"});const r=$s(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(vc(r[c],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function lD(t){const e=qP(t);if(!e)throw new kl({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const uD=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dD=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hD=/^u?int$/;function vc(t,e){var g,b;const n=sD(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Jb.has(n))return Jb.get(n);const r=D4.test(t),s=ra(r?dD:uD,t);if(!s)throw new YP({param:t});if(s.name&&gD(s.name))throw new ZP({param:t,name:s.name});const a=s.name?{name:s.name}:{},c=s.modifier==="indexed"?{indexed:!0}:{},l=(e==null?void 0:e.structs)??{};let u,d={};if(r){u="tuple";const w=$s(s.type),E=[],v=w.length;for(let _=0;_<v;_++)E.push(vc(w[_],{structs:l}));d={components:E}}else if(s.type in l)u="tuple",d={components:l[s.type]};else if(hD.test(s.type))u=`${s.type}256`;else if(u=s.type,(e==null?void 0:e.type)!=="struct"&&!z4(u))throw new KP({type:u});if(s.modifier){if(!((b=(g=e==null?void 0:e.modifiers)==null?void 0:g.has)!=null&&b.call(g,s.modifier)))throw new QP({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(Fy.has(s.modifier)&&!mD(u,!!s.array))throw new XP({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const p={type:`${u}${s.array??""}`,...a,...c,...d};return Jb.set(n,p),p}function $s(t,e=[],n="",r=0){const s=t.trim().length;for(let a=0;a<s;a++){const c=t[a],l=t.slice(a+1);switch(c){case",":return r===0?$s(l,[...e,n.trim()]):$s(l,e,`${n}${c}`,r);case"(":return $s(l,e,`${n}${c}`,r+1);case")":return $s(l,e,`${n}${c}`,r-1);default:return $s(l,e,`${n}${c}`,r)}}if(n==="")return e;if(r!==0)throw new rD({current:n,depth:r});return e.push(n.trim()),e}function z4(t){return t==="address"||t==="bool"||t==="function"||t==="string"||x4.test(t)||P4.test(t)}const pD=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function gD(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||x4.test(t)||P4.test(t)||pD.test(t)}function mD(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function bD(t){const e={},n=t.length;for(let c=0;c<n;c++){const l=t[c];if(!B4(l))continue;const u=LP(l);if(!u)throw new kl({signature:l,type:"struct"});const d=u.properties.split(";"),p=[],g=d.length;for(let b=0;b<g;b++){const E=d[b].trim();if(!E)continue;const v=vc(E,{type:"struct"});p.push(v)}if(!p.length)throw new tD({signature:l});e[u.name]=p}const r={},s=Object.entries(e),a=s.length;for(let c=0;c<a;c++){const[l,u]=s[c];r[l]=F4(u,e)}return r}const yD=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function F4(t,e,n=new Set){const r=[],s=t.length;for(let a=0;a<s;a++){const c=t[a];if(D4.test(c.type))r.push(c);else{const u=ra(yD,c.type);if(!(u!=null&&u.type))throw new JP({abiParameter:c});const{array:d,type:p}=u;if(p in e){if(n.has(p))throw new nD({type:p});r.push({...c,type:`tuple${d??""}`,components:F4(e[p]??[],e,new Set([...n,p]))})}else if(z4(p))r.push(c);else throw new WP({type:p})}}return r}function q4(t){const e=bD(t),n=[],r=t.length;for(let s=0;s<r;s++){const a=t[s];B4(a)||n.push(iD(a,e))}return n}function wD(t){let e=!0,n="",r=0,s="",a=!1;for(let c=0;c<t.length;c++){const l=t[c];if(["(",")",","].includes(l)&&(e=!0),l==="("&&r++,l===")"&&r--,!!e){if(r===0){if(l===" "&&["event","function",""].includes(s))s="";else if(s+=l,l===")"){a=!0;break}continue}if(l===" "){t[c-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=l,n+=l}}if(!a)throw new ue("Unable to normalize signature.");return s}const vD=t=>{const e=typeof t=="string"?t:PP(t);return wD(e)};function H4(t){return RP(vD(t))}const hw=H4,pw=t=>b1(H4(t),0,4);function gw(t){const{abi:e,args:n=[],name:r}=t,s=po(r,{strict:!1}),a=e.filter(l=>s?l.type==="function"?pw(l)===r:l.type==="event"?hw(l)===r:!1:"name"in l&&l.name===r);if(a.length===0)return;if(a.length===1)return a[0];let c;for(const l of a){if(!("inputs"in l))continue;if(!n||n.length===0){if(!l.inputs||l.inputs.length===0)return l;continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==n.length)continue;if(n.every((d,p)=>{const g="inputs"in l&&l.inputs[p];return g?qy(d,g):!1})){if(c&&"inputs"in c&&c.inputs){const d=V4(l.inputs,c.inputs,n);if(d)throw new Px({abiItem:l,type:d[0]},{abiItem:c,type:d[1]})}c=l}}return c||a[0]}function qy(t,e){const n=typeof t,r=e.type;switch(r){case"address":return di(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>qy(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>qy(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function V4(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return V4(s.components,a.components,n[r]);const c=[s.type,a.type];if(c.includes("address")&&c.includes("bytes20")?!0:c.includes("address")&&c.includes("string")?di(n[r],{strict:!1}):c.includes("address")&&c.includes("bytes")?di(n[r],{strict:!1}):!1)return c}}const e5="/docs/contract/decodeFunctionResult";function mw(t){const{abi:e,args:n,functionName:r,data:s}=t;let a=e[0];if(r){const l=gw({abi:e,args:n,name:r});if(!l)throw new p1(r,{docsPath:e5});a=l}if(a.type!=="function")throw new p1(void 0,{docsPath:e5});if(!a.outputs)throw new xx(a.name,{docsPath:e5});const c=ng(a.outputs,s);if(c&&c.length>1)return c;if(c&&c.length===1)return c[0]}const A_="/docs/contract/encodeFunctionData";function ED(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const a=gw({abi:e,args:n,name:r});if(!a)throw new p1(r,{docsPath:A_});s=a}if(s.type!=="function")throw new p1(void 0,{docsPath:A_});return{abi:[s],functionName:pw(go(s))}}function rg(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var l;return t.abi.length===1&&((l=t.functionName)!=null&&l.startsWith("0x"))?t:ED(t)})(),s=n[0],a=r,c="inputs"in s&&s.inputs?l4(s.inputs,e??[]):void 0;return Z1([a,c??"0x"])}function G4({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new Iy({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Iy({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const _D={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},CD={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},AD={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function SD(t){const{abi:e,data:n}=t,r=b1(n,0,4);if(r==="0x")throw new Y1;const a=[...e||[],CD,AD].find(c=>c.type==="error"&&r===pw(go(c)));if(!a)throw new QS(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?ng(a.inputs,b1(n,4)):void 0,errorName:a.name}}function W4({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?ms(e[a]):e[a]}`).join(", ")})`}class TD extends ue{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:p,to:g,value:b,stateOverride:w}){var _;const E=n?bi(n):void 0;let v=B0({from:E==null?void 0:E.address,to:g,value:typeof b<"u"&&`${rw(b)} ${((_=s==null?void 0:s.nativeCurrency)==null?void 0:_.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof l<"u"&&`${Nr(l)} gwei`,maxFeePerGas:typeof u<"u"&&`${Nr(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Nr(d)} gwei`,nonce:p});w&&(v+=`
${J7(w)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class K4 extends ue{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:c,sender:l}){const u=gw({abi:n,args:r,name:c}),d=u?W4({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,p=u?go(u,{includeName:!0}):void 0,g=B0({address:s&&k7(s),function:p,args:d&&d!=="()"&&`${[...Array((c==null?void 0:c.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:l});super(e.shortMessage||`An unknown error occurred while executing the contract function "${c}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],g&&"Contract Call:",g].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=c,this.sender=l}}class ND extends ue{constructor({abi:e,data:n,functionName:r,message:s}){let a,c,l,u;if(n&&n!=="0x")try{c=SD({abi:e,data:n});const{abiItem:p,errorName:g,args:b}=c;if(g==="Error")u=b[0];else if(g==="Panic"){const[w]=b;u=_D[w]}else{const w=p?go(p,{includeName:!0}):void 0,E=p&&b?W4({abiItem:p,args:b,includeFunctionName:!1,includeName:!1}):void 0;l=[w?`Error: ${w}`:"",E&&E!=="()"?`       ${[...Array((g==null?void 0:g.length)??0).keys()].map(()=>" ").join("")}${E}`:""]}}catch(p){a=p}else s&&(u=s);let d;a instanceof QS&&(d=a.signature,l=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(u&&u!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,u||d].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:l,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.raw=n,this.reason=u,this.signature=d}}class OD extends ue{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class ID extends ue{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class bw extends ue{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const RD=3;function v1(t,{abi:e,address:n,args:r,docsPath:s,functionName:a,sender:c}){const l=t instanceof bw?t:t instanceof ue?t.walk(E=>"data"in E)||t.walk():{},{code:u,data:d,details:p,message:g,shortMessage:b}=l,w=t instanceof Y1?new OD({functionName:a}):[RD,wc.code].includes(u)&&(d||p||g||b)?new ND({abi:e,data:typeof d=="object"?d.data:d,functionName:a,message:l instanceof iw?p:b??g}):t;return new K4(w,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:a,sender:c})}const xD="0.1.1";function PD(){return xD}let Y4=class Hy extends Error{constructor(e,n={}){const r=(()=>{var u;if(n.cause instanceof Hy){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),s=n.cause instanceof Hy&&n.cause.docsPath||n.docsPath,c=`https://oxlib.sh${s??""}`,l=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${PD()}`}),this.cause=n.cause,this.details=r,this.docs=c,this.docsPath=s,this.shortMessage=e}walk(e){return Z4(this,e)}};function Z4(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Z4(t.cause,e):e?null:t}function DD(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new MD({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Hi(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const d=typeof t=="bigint"?"n":"";throw new UD({max:a?`${a}${d}`:void 0,min:`${c}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?$D(u,r):u}function $D(t,e){return DD(t,{dir:"left",size:e})}let UD=class extends Y4{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},MD=class extends Y4{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function kD(t){return{address:t.address,amount:Hi(t.amount),index:Hi(t.index),validatorIndex:Hi(t.validatorIndex)}}function BD(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Hi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Hi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Hi(t.gasLimit)},...typeof t.number=="bigint"&&{number:Hi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Hi(t.prevRandao)},...typeof t.time=="bigint"&&{time:Hi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(kD)}}}const LD="0x82ad56cb",jD="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",zD="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function FD(t,{docsPath:e,...n}){const r=(()=>{const s=aw(t,n);return s instanceof eg?t:s})();return new TD(r,{docsPath:e,...n})}function Q4(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const t5=new Map;function X4({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const p=u();c();const g=p.map(({args:b})=>b);g.length!==0&&t(g).then(b=>{s&&Array.isArray(b)&&b.sort(s);for(let w=0;w<p.length;w++){const{resolve:E}=p[w];E==null||E([b[w],b])}}).catch(b=>{for(let w=0;w<p.length;w++){const{reject:E}=p[w];E==null||E(b)}})},c=()=>t5.delete(e),l=()=>u().map(({args:p})=>p),u=()=>t5.get(e)||[],d=p=>t5.set(e,[...u(),p]);return{flush:c,async schedule(p){const{promise:g,resolve:b,reject:w}=Q4();return(n==null?void 0:n([...l(),p]))&&a(),u().length>0?(d({args:p,resolve:b,reject:w}),g):(d({args:p,resolve:b,reject:w}),setTimeout(a,r),g)}}}async function J4(t,e){var X,ie,W,U;const{account:n=t.account,batch:r=!!((X=t.batch)!=null&&X.multicall),blockNumber:s,blockTag:a="latest",accessList:c,blobs:l,blockOverrides:u,code:d,data:p,factory:g,factoryData:b,gas:w,gasPrice:E,maxFeePerBlobGas:v,maxFeePerGas:_,maxPriorityFeePerGas:T,nonce:S,to:I,value:x,stateOverride:N,...A}=e,R=n?bi(n):void 0;if(d&&(g||b))throw new ue("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&I)throw new ue("Cannot provide both `code` & `to` as parameters.");const k=d&&p,M=g&&b&&I&&p,z=k||M,H=k?VD({code:d,data:p}):M?GD({data:p,factory:g,factoryData:b,to:I}):p;try{tg(e);const B=(typeof s=="bigint"?nt(s):void 0)||a,q=u?BD(u):void 0,G=C4(N),D=(U=(W=(ie=t.chain)==null?void 0:ie.formatters)==null?void 0:W.transactionRequest)==null?void 0:U.format,te=(D||cw)({...ow(A,{format:D}),from:R==null?void 0:R.address,accessList:c,blobs:l,data:H,gas:w,gasPrice:E,maxFeePerBlobGas:v,maxFeePerGas:_,maxPriorityFeePerGas:T,nonce:S,to:z?void 0:I,value:x});if(r&&qD({request:te})&&!G&&!q)try{return await HD(t,{...te,blockNumber:s,blockTag:a})}catch(le){if(!(le instanceof g4)&&!(le instanceof Iy))throw le}const ne=(()=>{const le=[te,B];return G&&q?[...le,G,q]:G?[...le,G]:q?[...le,{},q]:le})(),re=await t.request({method:"eth_call",params:ne});return re==="0x"?{data:void 0}:{data:re}}catch(O){const B=WD(O),{offchainLookup:q,offchainLookupSignature:G}=await ir(async()=>{const{offchainLookup:D,offchainLookupSignature:K}=await import("./ccip-BNIVnfm2.js");return{offchainLookup:D,offchainLookupSignature:K}},[]);if(t.ccipRead!==!1&&(B==null?void 0:B.slice(0,10))===G&&I)return{data:await q(t,{data:B,to:I})};throw z&&(B==null?void 0:B.slice(0,10))==="0x101bb98d"?new ID({factory:g}):FD(O,{...e,account:R,chain:t.chain})}}function qD({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(LD)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function HD(t,e){var v;const{batchSize:n=1024,wait:r=0}=typeof((v=t.batch)==null?void 0:v.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:c,multicallAddress:l,to:u}=e;let d=l;if(!d){if(!t.chain)throw new g4;d=G4({blockNumber:s,chain:t.chain,contract:"multicall3"})}const g=(typeof s=="bigint"?nt(s):void 0)||a,{schedule:b}=X4({id:`${t.uid}.${g}`,wait:r,shouldSplitBatch(_){return _.reduce((S,{data:I})=>S+(I.length-2),0)>n*2},fn:async _=>{const T=_.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),S=rg({abi:By,args:[T],functionName:"aggregate3"}),I=await t.request({method:"eth_call",params:[{data:S,to:d},g]});return mw({abi:By,args:[T],functionName:"aggregate3",data:I||"0x"})}}),[{returnData:w,success:E}]=await b({data:c,to:u});if(!E)throw new bw({data:w});return w==="0x"?{data:void 0}:{data:w}}function VD(t){const{code:e,data:n}=t;return ew({abi:q4(["constructor(bytes, bytes)"]),bytecode:jD,args:[e,n]})}function GD(t){const{data:e,factory:n,factoryData:r,to:s}=t;return ew({abi:q4(["constructor(address, bytes, address, bytes)"]),bytecode:zD,args:[s,e,n,r]})}function WD(t){var n;if(!(t instanceof ue))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function e9(t,e){const{abi:n,address:r,args:s,functionName:a,...c}=e,l=rg({abi:n,args:s,functionName:a});try{const{data:u}=await qt(t,J4,"call")({...c,data:l,to:r});return mw({abi:n,args:s,functionName:a,data:u||"0x"})}catch(u){throw v1(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}function KD(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:a,response:c,status:l,transport:u})=>{l==="success"&&e===a&&(n[c]=u.request)})),a=>n[a]||t.request}async function YD(t){const e=KD(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const ZD=new Map,QD=new Map;function XD(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:c=>a.set(s,c)}),n=e(t,ZD),r=e(t,QD);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function JD(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=XD(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const c=await a;return r.response.set({created:new Date,data:c}),c}finally{r.promise.clear()}}const e$=t=>`blockNumber.${t}`;async function t$(t,{cacheTime:e=t.cacheTime}={}){const n=await JD(()=>t.request({method:"eth_blockNumber"}),{cacheKey:e$(t.uid),cacheTime:e});return BigInt(n)}function n$(t,e){if(!di(t,{strict:!1}))throw new yc({address:t});if(!di(e,{strict:!1}))throw new yc({address:e});return t.toLowerCase()===e.toLowerCase()}const S_="/docs/contract/decodeEventLog";function r$(t){const{abi:e,data:n,strict:r,topics:s}=t,a=r??!0,[c,...l]=s;if(!c)throw new Rx({docsPath:S_});const u=e.length===1?e[0]:e.find(v=>v.type==="event"&&c===hw(go(v)));if(!(u&&"name"in u)||u.type!=="event")throw new XS(c,{docsPath:S_});const{name:d,inputs:p}=u,g=p==null?void 0:p.some(v=>!("name"in v&&v.name));let b=g?[]:{};const w=p.filter(v=>"indexed"in v&&v.indexed);for(let v=0;v<w.length;v++){const _=w[v],T=l[v];if(!T)throw new JS({abiItem:u,param:_});b[g?v:_.name||v]=s$({param:_,value:T})}const E=p.filter(v=>!("indexed"in v&&v.indexed));if(E.length>0){if(n&&n!=="0x")try{const v=ng(E,n);if(v)if(g)b=[...b,...v];else for(let _=0;_<E.length;_++)b[E[_].name]=v[_]}catch(v){if(a)throw v instanceof ZS||v instanceof u4?new Oy({abiItem:u,data:n,params:E,size:bn(n)}):v}else if(a)throw new Oy({abiItem:u,data:"0x",params:E,size:0})}return{eventName:d,args:Object.values(b).length>0?b:void 0}}function s$({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(ng([t],e)||[])[0]}function i$(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(c=>{var l;try{const u=e.find(p=>p.type==="event"&&c.topics[0]===hw(p));if(!u)return null;const d=r$({...c,abi:[u],strict:s});return a&&!a.includes(d.eventName)||!a$({args:d.args,inputs:u.inputs,matchArgs:n})?null:{...d,...c}}catch(u){let d,p;if(u instanceof XS)return null;if(u instanceof Oy||u instanceof JS){if(s)return null;d=u.abiItem.name,p=(l=u.abiItem.inputs)==null?void 0:l.some(g=>!("name"in g&&g.name))}return{...c,args:p?[]:{},eventName:d}}}).filter(Boolean)}function a$(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(a,c,l){try{return a.type==="address"?n$(c,l):a.type==="string"||a.type==="bytes"?k0(G1(c))===l:c===l}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,c)=>{if(a==null)return!0;const l=n[c];return l?(Array.isArray(a)?a:[a]).some(d=>s(l,d,e[c])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,c])=>{if(c==null)return!0;const l=n.find(d=>d.name===a);return l?(Array.isArray(c)?c:[c]).some(d=>s(l,d,e[a])):!1}):!1}function t9(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function o$(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>t9(a));return!("abi"in e)||!e.abi?s:i$({abi:e.abi,logs:s,strict:n})}async function n9(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){var p,g,b;const c=r||"latest",l=n!==void 0?nt(n):void 0;let u=null;if(s?u=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,nt(a)]},{dedupe:!0}):u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,nt(a)]},{dedupe:!!l}),!u)throw new m4({blockHash:e,blockNumber:n,blockTag:c,hash:s,index:a});return(((b=(g=(p=t.chain)==null?void 0:p.formatters)==null?void 0:g.transaction)==null?void 0:b.format)||E4)(u)}const c$={"0x0":"reverted","0x1":"success"};function f$(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>t9(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?bc(t.transactionIndex):null,status:t.status?c$[t.status]:null,type:t.type?v4[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function T_(t,{hash:e}){var s,a,c;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new b4({hash:e});return(((c=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:c.format)||f$)(n)}async function l$(t,e){var T;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:c,multicallAddress:l,stateOverride:u}=e,d=e.contracts,p=s??(typeof((T=t.batch)==null?void 0:T.multicall)=="object"&&t.batch.multicall.batchSize||1024);let g=l;if(!g){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");g=G4({blockNumber:a,chain:t.chain,contract:"multicall3"})}const b=[[]];let w=0,E=0;for(let S=0;S<d.length;S++){const{abi:I,address:x,args:N,functionName:A}=d[S];try{const R=rg({abi:I,args:N,functionName:A});E+=(R.length-2)/2,p>0&&E>p&&b[w].length>0&&(w++,E=(R.length-2)/2,b[w]=[]),b[w]=[...b[w],{allowFailure:!0,callData:R,target:x}]}catch(R){const k=v1(R,{abi:I,address:x,args:N,docsPath:"/docs/contract/multicall",functionName:A,sender:n});if(!r)throw k;b[w]=[...b[w],{allowFailure:!0,callData:"0x",target:x}]}}const v=await Promise.allSettled(b.map(S=>qt(t,e9,"readContract")({abi:By,account:n,address:g,args:[S],blockNumber:a,blockTag:c,functionName:"aggregate3",stateOverride:u}))),_=[];for(let S=0;S<v.length;S++){const I=v[S];if(I.status==="rejected"){if(!r)throw I.reason;for(let N=0;N<b[S].length;N++)_.push({status:"failure",error:I.reason,result:void 0});continue}const x=I.value;for(let N=0;N<x.length;N++){const{returnData:A,success:R}=x[N],{callData:k}=b[S][N],{abi:M,address:z,functionName:H,args:X}=d[_.length];try{if(k==="0x")throw new Y1;if(!R)throw new bw({data:A});const ie=mw({abi:M,args:X,data:A,functionName:H});_.push(r?{result:ie,status:"success"}:ie)}catch(ie){const W=v1(ie,{abi:M,address:z,args:X,docsPath:"/docs/contract/multicall",functionName:H});if(!r)throw W;_.push({error:W,result:void 0,status:"failure"})}}}if(_.length!==d.length)throw new ue("multicall results mismatch");return _}const Ap=new Q1(8192);function u$(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Ap.get(n))return Ap.get(n);const r=t().finally(()=>Ap.delete(n));return Ap.set(n,r),r}async function E1(t){return new Promise(e=>setTimeout(e,t))}function _1(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const c=async({count:l=0}={})=>{const u=async({error:d})=>{const p=typeof e=="function"?e({count:l,error:d}):e;p&&await E1(p),c({count:l+1})};try{const d=await t();s(d)}catch(d){if(l<n&&await r({count:l,error:d}))return u({error:d});a(d)}};c()})}function d$(t,e={}){return async(n,r={})=>{var g;const{dedupe:s=!1,methods:a,retryDelay:c=150,retryCount:l=3,uid:u}={...e,...r},{method:d}=n;if((g=a==null?void 0:a.exclude)!=null&&g.includes(d))throw new Jo(new Error("method not supported"),{method:d});if(a!=null&&a.include&&!a.include.includes(d))throw new Jo(new Error("method not supported"),{method:d});const p=s?W1(`${u}.${ms(n)}`):void 0;return u$(()=>_1(async()=>{try{return await t(n)}catch(b){const w=b;switch(w.code){case Ud.code:throw new Ud(w);case Md.code:throw new Md(w);case kd.code:throw new kd(w,{method:n.method});case Bd.code:throw new Bd(w);case wc.code:throw new wc(w);case Ld.code:throw new Ld(w);case jd.code:throw new jd(w);case oo.code:throw new oo(w);case wl.code:throw new wl(w);case Jo.code:throw new Jo(w,{method:n.method});case vl.code:throw new vl(w);case zd.code:throw new zd(w);case pn.code:throw new pn(w);case Fd.code:throw new Fd(w);case qd.code:throw new qd(w);case Hd.code:throw new Hd(w);case Vd.code:throw new Vd(w);case hi.code:throw new hi(w);case Gd.code:throw new Gd(w);case Wd.code:throw new Wd(w);case Kd.code:throw new Kd(w);case Yd.code:throw new Yd(w);case Zd.code:throw new Zd(w);case Qd.code:throw new Qd(w);case Xd.code:throw new Xd(w);case 5e3:throw new pn(w);default:throw b instanceof ue?b:new L7(w)}}},{delay:({count:b,error:w})=>{var E;if(w&&w instanceof _d){const v=(E=w==null?void 0:w.headers)==null?void 0:E.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<b)*c},retryCount:l,shouldRetry:({error:b})=>h$(b)}),{enabled:s,id:p})}}function h$(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===vl.code||t.code===wc.code:t instanceof _d&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function r9(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function s9(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let c;try{const l=new AbortController;n>0&&(c=setTimeout(()=>{r?l.abort():a(e)},n)),s(await t({signal:(l==null?void 0:l.signal)||null}))}catch(l){(l==null?void 0:l.name)==="AbortError"&&a(e),a(l)}finally{clearTimeout(c)}})()})}function p$(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const N_=p$();function g$(t,e={}){return{async request(n){var g;const{body:r,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:c=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:d,signal:p}=l;try{const b=await s9(async({signal:E})=>{const v={...l,body:Array.isArray(r)?ms(r.map(I=>({jsonrpc:"2.0",id:I.id??N_.take(),...I}))):ms({jsonrpc:"2.0",id:r.id??N_.take(),...r}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:p||(c>0?E:null)},_=new Request(t,v),T=await(s==null?void 0:s(_,v))??{...v,url:t};return await fetch(T.url??t,T)},{errorInstance:new g_({body:r,url:t}),timeout:c,signal:!0});a&&await a(b);let w;if((g=b.headers.get("Content-Type"))!=null&&g.startsWith("application/json"))w=await b.json();else{w=await b.text();try{w=JSON.parse(w||"{}")}catch(E){if(b.ok)throw E;w={error:w}}}if(!b.ok)throw new _d({body:r,details:ms(w.error)||b.statusText,headers:b.headers,status:b.status,url:t});return w}catch(b){throw b instanceof _d||b instanceof g_?b:new _d({body:r,cause:b,url:t})}}}}class m$ extends ue{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function b$(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new m$({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[a,c,l]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],u=Math.round(+`${c}.${l}`);u>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${u}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const n5=new Map,O_=new Map;let y$=0;function C1(t,e,n){const r=++y$,s=()=>n5.get(t)||[],a=()=>{const p=s();n5.set(t,p.filter(g=>g.id!==r))},c=()=>{const p=s();if(!p.some(b=>b.id===r))return;const g=O_.get(t);p.length===1&&g&&g(),a()},l=s();if(n5.set(t,[...l,{id:r,fns:e}]),l&&l.length>0)return c;const u={};for(const p in e)u[p]=(...g)=>{var w,E;const b=s();if(b.length!==0)for(const v of b)(E=(w=v.fns)[p])==null||E.call(w,...g)};const d=n(u);return typeof d=="function"&&O_.set(t,d),c}function i9(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let l;e&&(l=await t({unpoll:a}));const u=await(n==null?void 0:n(l))??r;await E1(u);const d=async()=>{s&&(await t({unpoll:a}),await E1(r),d())};d()})(),a}function w$(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let u;return l?(()=>{const g=ms(["watchBlockNumber",t.uid,e,n,c]);return C1(g,{onBlockNumber:r,onError:s},b=>i9(async()=>{var w;try{const E=await qt(t,t$,"getBlockNumber")({cacheTime:0});if(u){if(E===u)return;if(E-u>1&&n)for(let v=u+1n;v<E;v++)b.onBlockNumber(v,u),u=v}(!u||E>u)&&(b.onBlockNumber(E,u),u=E)}catch(E){(w=b.onError)==null||w.call(b,E)}},{emitOnBegin:e,interval:c}))})():(()=>{const g=ms(["watchBlockNumber",t.uid,e,n]);return C1(g,{onBlockNumber:r,onError:s},b=>{let w=!0,E=()=>w=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const T=t.transport.transports.find(S=>S.config.type==="webSocket");return T?T.value:t.transport}return t.transport})(),{unsubscribe:_}=await v.subscribe({params:["newHeads"],onData(T){var I;if(!w)return;const S=ml((I=T.result)==null?void 0:I.number);b.onBlockNumber(S,u),u=S},onError(T){var S;(S=b.onError)==null||S.call(b,T)}});E=_,w||E()}catch(v){s==null||s(v)}})(),()=>E()})})()}async function v$(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function E$(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const d=ms(["watchPendingTransactions",t.uid,e,a]);return C1(d,{onTransactions:r,onError:n},p=>{let g;const b=i9(async()=>{var w;try{if(!g)try{g=await qt(t,YD,"createPendingTransactionFilter")({});return}catch(v){throw b(),v}const E=await qt(t,o$,"getFilterChanges")({filter:g});if(E.length===0)return;if(e)p.onTransactions(E);else for(const v of E)p.onTransactions([v])}catch(E){(w=p.onError)==null||w.call(p,E)}},{emitOnBegin:!0,interval:a});return async()=>{g&&await qt(t,v$,"uninstallFilter")({filter:g}),b()}})})():(()=>{let d=!0,p=()=>d=!1;return(async()=>{try{const{unsubscribe:g}=await t.transport.subscribe({params:["newPendingTransactions"],onData(b){if(!d)return;const w=b.result;r([w])},onError(b){n==null||n(b)}});p=g,d||p()}catch(g){n==null||n(g)}})(),()=>p()})()}async function _$(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:a=6,retryDelay:c=({count:u})=>~~(1<<u)*200,timeout:l=18e4}){const u=ms(["waitForTransactionReceipt",t.uid,n]);let d,p,g,b=!1;const{promise:w,resolve:E,reject:v}=Q4(),_=l?setTimeout(()=>v(new M7({hash:n})),l):void 0,T=C1(u,{onReplaced:r,resolve:E,reject:v},S=>{const I=qt(t,w$,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(x){const N=R=>{clearTimeout(_),I(),R(),T()};let A=x;if(!b)try{if(g){if(e>1&&(!g.blockNumber||A-g.blockNumber+1n<e))return;N(()=>S.resolve(g));return}if(d||(b=!0,await _1(async()=>{d=await qt(t,n9,"getTransaction")({hash:n}),d.blockNumber&&(A=d.blockNumber)},{delay:c,retryCount:a}),b=!1),g=await qt(t,T_,"getTransactionReceipt")({hash:n}),e>1&&(!g.blockNumber||A-g.blockNumber+1n<e))return;N(()=>S.resolve(g))}catch(R){if(R instanceof m4||R instanceof b4){if(!d){b=!1;return}try{p=d,b=!0;const k=await _1(()=>qt(t,Jd,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:H})=>H instanceof w4});b=!1;const M=k.transactions.find(({from:H,nonce:X})=>H===p.from&&X===p.nonce);if(!M||(g=await qt(t,T_,"getTransactionReceipt")({hash:M.hash}),e>1&&(!g.blockNumber||A-g.blockNumber+1n<e)))return;let z="replaced";M.to===p.to&&M.value===p.value&&M.input===p.input?z="repriced":M.from===M.to&&M.value===0n&&(z="cancelled"),N(()=>{var H;(H=S.onReplaced)==null||H.call(S,{reason:z,replacedTransaction:p,transaction:M,transactionReceipt:g}),S.resolve(g)})}catch(k){N(()=>S.reject(k))}}else N(()=>S.reject(R))}}})});return w}async function C$(t,{account:e=t.account,message:n}){if(!e)throw new tw({docsPath:"/docs/actions/wallet/signMessage"});const r=bi(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?W1(n):n.raw instanceof Uint8Array?bl(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function A$(t,e){const{abi:n,account:r=t.account,address:s,args:a,dataSuffix:c,functionName:l,...u}=e;if(typeof r>"u")throw new tw({docsPath:"/docs/contract/writeContract"});const d=r?bi(r):null,p=rg({abi:n,args:a,functionName:l});try{return await qt(t,dw,"sendTransaction")({data:`${p}${c?c.replace("0x",""):""}`,to:s,account:d,...u})}catch(g){throw v1(g,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:l,sender:d==null?void 0:d.address})}}function Kr(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}const Xp="2.17.2",S$=()=>`@wagmi/core@${Xp}`;var a9=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},A1,o9;let sa=class Vy extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return S$()}constructor(e,n={}){var a;super(),A1.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Vy?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof Vy&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return a9(this,A1,"m",o9).call(this,this,e)}};A1=new WeakSet,o9=function t(e,n){return n!=null&&n(e)?e:e.cause?a9(this,A1,"m",t).call(this,e.cause,n):e};class t0 extends sa{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class T$ extends sa{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class N$ extends sa{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class O$ extends sa{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class I$ extends sa{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class R$ extends sa{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function I_(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new T$;try{t.setState(u=>({...u,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...a}=e,c=await n.connect(a),l=c.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(u=>({...u,connections:new Map(u.connections).set(n.uid,{accounts:l,chainId:c.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:l,chainId:c.chainId}}catch(s){throw t.setState(a=>({...a,status:a.current?"connected":"disconnected"})),s}}const Gy=256;let Sp=Gy,Tp;function c9(t=11){if(!Tp||Sp+t>Gy*2){Tp="",Sp=0;for(let e=0;e<Gy;e++)Tp+=(256+Math.random()*256|0).toString(16).substring(1)}return Tp.substring(Sp,Sp+++t)}function f9(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:s="base",name:a="Base Client",pollingInterval:c=4e3,type:l="base"}=t,u=t.chain,d=t.account?bi(t.account):void 0,{config:p,request:g,value:b}=t.transport({chain:u,pollingInterval:c}),w={...p,...b},E={account:d,batch:e,cacheTime:n,ccipRead:r,chain:u,key:s,name:a,pollingInterval:c,request:g,transport:w,type:l,uid:c9()};function v(_){return T=>{const S=T(_);for(const x in E)delete S[x];const I={..._,...S};return Object.assign(I,{extend:v(I)})}}return Object.assign(E,{extend:v(E)})}function yw({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:c,type:l},u){const d=c9();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:a,timeout:c,type:l},request:d$(r,{methods:e,retryCount:s,retryDelay:a,uid:d}),value:u}}function x$(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=e;return({retryCount:c})=>yw({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??c,retryDelay:a,type:"custom"})}function R_(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=P$,retryCount:c,retryDelay:l}=e;return({chain:u,pollingInterval:d=4e3,timeout:p,...g})=>{let b=t,w=()=>{};const E=yw({key:n,name:r,async request({method:v,params:_}){let T;const S=async(I=0)=>{const x=b[I]({...g,chain:u,retryCount:0,timeout:p});try{const N=await x.request({method:v,params:_});return w({method:v,params:_,response:N,transport:x,status:"success"}),N}catch(N){if(w({error:N,method:v,params:_,transport:x,status:"error"}),a(N)||I===b.length-1||(T??(T=b.slice(I+1).some(A=>{const{include:R,exclude:k}=A({chain:u}).config.methods||{};return R?R.includes(v):k?!k.includes(v):!0})),!T))throw N;return S(I+1)}};return S()},retryCount:c,retryDelay:l,type:"fallback"},{onResponse:v=>w=v,transports:b.map(v=>v({chain:u,retryCount:0}))});if(s){const v=typeof s=="object"?s:{};D$({chain:u,interval:v.interval??d,onTransports:_=>b=_,ping:v.ping,sampleCount:v.sampleCount,timeout:v.timeout,transports:b,weights:v.weights})}return E}}function P$(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===wl.code||t.code===pn.code||Xo.nodeMessage.test(t.message)||t.code===5e3))}function D$({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:c,weights:l={}}){const{stability:u=.7,latency:d=.3}=l,p=[],g=async()=>{const b=await Promise.all(c.map(async v=>{const _=v({chain:t,retryCount:0,timeout:a}),T=Date.now();let S,I;try{await(r?r({transport:_}):_.request({method:"net_listening"})),I=1}catch{I=0}finally{S=Date.now()}return{latency:S-T,success:I}}));p.push(b),p.length>s&&p.shift();const w=Math.max(...p.map(v=>Math.max(...v.map(({latency:_})=>_)))),E=c.map((v,_)=>{const T=p.map(A=>A[_].latency),I=1-T.reduce((A,R)=>A+R,0)/T.length/w,x=p.map(A=>A[_].success),N=x.reduce((A,R)=>A+R,0)/x.length;return N===0?[0,_]:[d*I+u*N,_]}).sort((v,_)=>_[0]-v[0]);n(E.map(([,v])=>c[v])),await E1(e),g()};g()}class $$ extends ue{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Np(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:d,raw:p}=e;return({chain:g,retryCount:b,timeout:w})=>{const{batchSize:E=1e3,wait:v=0}=typeof n=="object"?n:{},_=e.retryCount??b,T=w??e.timeout??1e4,S=t||(g==null?void 0:g.rpcUrls.default.http[0]);if(!S)throw new $$;const I=g$(S,{fetchOptions:r,onRequest:l,onResponse:u,timeout:T});return yw({key:s,methods:a,name:c,async request({method:x,params:N}){const A={method:x,params:N},{schedule:R}=X4({id:S,wait:v,shouldSplitBatch(H){return H.length>E},fn:H=>I.request({body:H}),sort:(H,X)=>H.id-X.id}),k=async H=>n?R(H):[await I.request({body:H})],[{error:M,result:z}]=await k(A);if(p)return{error:M,result:z};if(M)throw new iw({body:A,error:M,url:S});return z},retryCount:_,retryDelay:d,timeout:T,type:"http"},{fetchOptions:r,url:S})}}async function L0(t,e={}){let n;if(e.connector){const{connector:d}=e;if(t.state.status==="reconnecting"&&!d.getAccounts&&!d.getChainId)throw new R$({connector:d});const[p,g]=await Promise.all([d.getAccounts().catch(b=>{if(e.account===null)return[];throw b}),d.getChainId()]);n={accounts:p,chainId:g,connector:d}}else n=t.state.connections.get(t.state.current);if(!n)throw new N$;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new I$({connectionChainId:n.chainId,connectorChainId:s});const a=n.connector;if(a.getClient)return a.getClient({chainId:r});const c=bi(e.account??n.accounts[0]);if(c&&(c.address=Qo(c.address)),e.account&&!n.accounts.some(d=>d.toLowerCase()===c.address.toLowerCase()))throw new O$({address:c.address,connector:a});const l=t.chains.find(d=>d.id===r),u=await n.connector.getProvider({chainId:r});return f9({account:c,chain:l,name:"Connector Client",transport:d=>x$(u)({...d,retryCount:0})})}async function U$(t,e){const{account:n,chainId:r,connector:s,...a}=e;let c;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?c=t.getClient({chainId:r}):c=await L0(t,{account:n??void 0,chainId:r,connector:s}),await Kr(c,yP,"deployContract")({...a,...n?{account:n}:{},chain:r?{id:r}:null})}async function M$(t,e={}){var s,a;let n;if(e.connector)n=e.connector;else{const{connections:c,current:l}=t.state,u=c.get(l);n=u==null?void 0:u.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(c=>{if(r.size===0)return{...c,connections:new Map,current:null,status:"disconnected"};const l=r.values().next().value;return{...c,connections:new Map(r),current:l.connector.uid}});{const c=t.state.current;if(!c)return;const l=(s=t.state.connections.get(c))==null?void 0:s.connector;if(!l)return;await((a=t.storage)==null?void 0:a.setItem("recentConnectorId",l.id))}}async function k$(t,e){const{chainId:n,connector:r,...s}=e;let a;e.account?a=e.account:a=(await L0(t,{account:e.account,chainId:n,connector:r})).account;const c=t.getClient({chainId:n});return Kr(c,S4,"estimateGas")({...s,account:a})}function l9(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(P7[t])}function n0(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],a=t.chains.find(l=>l.id===(n==null?void 0:n.chainId)),c=t.state.status;switch(c){case"connected":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:c};case"reconnecting":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:c};case"connecting":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:c};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:c}}}async function B$(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...a}=e,c=t.getClient({chainId:r});return Kr(c,l$,"multicall")({allowFailure:n,contracts:s,...a})}function L$(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Kr(s,e9,"readContract")(r)}async function j$(t,e){var l;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...a}=e,c=e.contracts;try{const u={};for(const[b,w]of c.entries()){const E=w.chainId??t.state.chainId;u[E]||(u[E]=[]),(l=u[E])==null||l.push({contract:w,index:b})}const d=()=>Object.entries(u).map(([b,w])=>B$(t,{...a,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(b),contracts:w.map(({contract:E})=>E)})),p=(await Promise.all(d())).flat(),g=Object.values(u).flatMap(b=>b.map(({index:w})=>w));return p.reduce((b,w,E)=>(b&&(b[g[E]]=w),b),[])}catch(u){if(u instanceof K4)throw u;const d=()=>c.map(p=>L$(t,{...p,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(d())).map(p=>p.status==="fulfilled"?{result:p.value,status:"success"}:{error:p.reason,result:void 0,status:"failure"}):await Promise.all(d())}}async function z$(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:a,token:c,unit:l="ether"}=e;if(c)try{return await x_(t,{balanceAddress:n,chainId:a,symbolType:"string",tokenAddress:c})}catch(b){if(b.name==="ContractFunctionExecutionError"){const w=await x_(t,{balanceAddress:n,chainId:a,symbolType:"bytes32",tokenAddress:c}),E=KS(M0(w.symbol,{dir:"right"}));return{...w,symbol:E}}throw b}const u=t.getClient({chainId:a}),p=await Kr(u,A4,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),g=t.chains.find(b=>b.id===a)??u.chain;return{decimals:g.nativeCurrency.decimals,formatted:Ml(p,l9(l)),symbol:g.nativeCurrency.symbol,value:p}}async function x_(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:a,unit:c}=e,l={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:a},[u,d,p]=await j$(t,{allowFailure:!1,contracts:[{...l,functionName:"balanceOf",args:[n],chainId:r},{...l,functionName:"decimals",chainId:r},{...l,functionName:"symbol",chainId:r}]}),g=Ml(u??"0",l9(c??d));return{decimals:d,formatted:g,symbol:p,value:u}}function P_(t){return t.state.chainId}function r0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!r0(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(a&&!r0(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}let Op=[];function Bo(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||r0(Op,e)?Op:(Op=e,e)}async function F$(t,e){const{account:n,chainId:r,...s}=e,a=n??n0(t).address,c=t.getClient({chainId:r});return Kr(c,uw,"prepareTransactionRequest")({...s,...a?{account:a}:{}})}let r5=!1;async function Wy(t,e={}){var d,p;if(r5)return[];r5=!0,t.setState(g=>({...g,status:g.current?"reconnecting":"connecting"}));const n=[];if((d=e.connectors)!=null&&d.length)for(const g of e.connectors){let b;typeof g=="function"?b=t._internal.connectors.setup(g):b=g,n.push(b)}else n.push(...t.connectors);let r;try{r=await((p=t.storage)==null?void 0:p.getItem("recentConnectorId"))}catch{}const s={};for(const[,g]of t.state.connections)s[g.connector.id]=1;r&&(s[r]=0);const a=Object.keys(s).length>0?[...n].sort((g,b)=>(s[g.id]??10)-(s[b.id]??10)):n;let c=!1;const l=[],u=[];for(const g of a){const b=await g.getProvider().catch(()=>{});if(!b||u.some(v=>v===b)||!await g.isAuthorized())continue;const E=await g.connect({isReconnecting:!0}).catch(()=>null);E&&(g.emitter.off("connect",t._internal.events.connect),g.emitter.on("change",t._internal.events.change),g.emitter.on("disconnect",t._internal.events.disconnect),t.setState(v=>{const _=new Map(c?v.connections:new Map).set(g.uid,{accounts:E.accounts,chainId:E.chainId,connector:g});return{...v,current:c?v.current:g.uid,connections:_}}),l.push({accounts:E.accounts,chainId:E.chainId,connector:g}),u.push(b),c=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(c?t.setState(g=>({...g,status:"connected"})):t.setState(g=>({...g,connections:new Map,current:null,status:"disconnected"}))),r5=!1,l}async function q$(t,e){const{account:n,chainId:r,connector:s,...a}=e;let c;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?c=t.getClient({chainId:r}):c=await L0(t,{account:n??void 0,chainId:r,connector:s}),await Kr(c,dw,"sendTransaction")({...a,...n?{account:n}:{},chain:r?{id:r}:null,gas:a.gas??void 0})}async function H$(t,e){const{account:n,connector:r,...s}=e;let a;return typeof n=="object"&&n.type==="local"?a=t.getClient():a=await L0(t,{account:n,connector:r}),Kr(a,C$,"signMessage")({...s,...n?{account:n}:{}})}class za extends sa{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class V$ extends sa{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function D_(t,e){var c;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((c=e.connector)==null?void 0:c.uid)??t.state.current);if(s){const l=s.connector;if(!l.switchChain)throw new V$({connector:l});return await l.switchChain({addEthereumChainParameter:n,chainId:r})}const a=t.chains.find(l=>l.id===r);if(!a)throw new t0;return t.setState(l=>({...l,chainId:r})),a}function u9(t,e){const{onChange:n}=e;return t.subscribe(()=>n0(t),n,{equalityFn(r,s){const{connector:a,...c}=r,{connector:l,...u}=s;return r0(c,u)&&(a==null?void 0:a.id)===(l==null?void 0:l.id)&&(a==null?void 0:a.uid)===(l==null?void 0:l.uid)}})}function G$(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function W$(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function K$(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const a=u=>{s&&s();const d=t.getClient({chainId:u});return s=Kr(d,E$,"watchPendingTransactions")(r),s},c=a(e.chainId);let l;return n&&!e.chainId&&(l=t.subscribe(({chainId:u})=>u,async u=>a(u))),()=>{c==null||c(),l==null||l()}}async function d9(t,e){const{chainId:n,timeout:r=0,...s}=e,a=t.getClient({chainId:n}),l=await Kr(a,_$,"waitForTransactionReceipt")({...s,timeout:r});if(l.status==="reverted"){const d=await Kr(a,n9,"getTransaction")({hash:l.transactionHash}),g=await Kr(a,J4,"call")({...d,data:d.input,gasPrice:d.type!=="eip1559"?d.gasPrice:void 0,maxFeePerGas:d.type==="eip1559"?d.maxFeePerGas:void 0,maxPriorityFeePerGas:d.type==="eip1559"?d.maxPriorityFeePerGas:void 0}),b=g!=null&&g.data?KS(`0x${g.data.substring(138)}`):"unknown reason";throw new Error(b)}return{...l,chainId:a.chain.id}}async function h9(t,e){const{account:n,chainId:r,connector:s,...a}=e;let c;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?c=t.getClient({chainId:r}):c=await L0(t,{account:n??void 0,chainId:r,connector:s}),await Kr(c,A$,"writeContract")({...a,...n?{account:n}:{},chain:r?{id:r}:null})}function hre(t){return t}sg.type="injected";function sg(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const u=t.target;if(typeof u=="function"){const d=u();if(d)return d}return typeof u=="object"?u:typeof u=="string"?{...Y$[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d==null?void 0:d.ethereum}}}let s,a,c,l;return u=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:sg.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&t.target&&(c||(c=this.onConnect.bind(this),d.on("connect",c)),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)))},async connect({chainId:d,isReconnecting:p}={}){var w,E,v,_,T,S;const g=await this.getProvider();if(!g)throw new za;let b=[];if(p)b=await this.getAccounts().catch(()=>[]);else if(e)try{b=(_=(v=(E=(w=(await g.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:w.caveats)==null?void 0:E[0])==null?void 0:v.value)==null?void 0:_.map(x=>Qo(x)),b.length>0&&(b=await this.getAccounts())}catch(I){const x=I;if(x.code===pn.code)throw new pn(x);if(x.code===oo.code)throw x}try{!(b!=null&&b.length)&&!p&&(b=(await g.request({method:"eth_requestAccounts"})).map(N=>Qo(N))),c&&(g.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),g.on("chainChanged",a)),l||(l=this.onDisconnect.bind(this),g.on("disconnect",l));let I=await this.getChainId();if(d&&I!==d){const x=await this.switchChain({chainId:d}).catch(N=>{if(N.code===pn.code)throw N;return{id:I}});I=(x==null?void 0:x.id)??I}return e&&await((T=u.storage)==null?void 0:T.removeItem(`${this.id}.disconnected`)),t.target||await((S=u.storage)==null?void 0:S.setItem("injected.connected",!0)),{accounts:b,chainId:I}}catch(I){const x=I;throw x.code===pn.code?new pn(x):x.code===oo.code?new oo(x):x}},async disconnect(){var p,g;const d=await this.getProvider();if(!d)throw new za;a&&(d.removeListener("chainChanged",a),a=void 0),l&&(d.removeListener("disconnect",l),l=void 0),c||(c=this.onConnect.bind(this),d.on("connect",c));try{await s9(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((p=u.storage)==null?void 0:p.setItem(`${this.id}.disconnected`,!0)),t.target||await((g=u.storage)==null?void 0:g.removeItem("injected.connected"))},async getAccounts(){const d=await this.getProvider();if(!d)throw new za;return(await d.request({method:"eth_accounts"})).map(g=>Qo(g))},async getChainId(){const d=await this.getProvider();if(!d)throw new za;const p=await d.request({method:"eth_chainId"});return Number(p)},async getProvider(){if(typeof window>"u")return;let d;const p=r();return typeof p.provider=="function"?d=p.provider(window):typeof p.provider=="string"?d=Jp(window,p.provider):d=p.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){var d,p;try{if(e&&await((d=u.storage)==null?void 0:d.getItem(`${this.id}.disconnected`))||!t.target&&!await((p=u.storage)==null?void 0:p.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const E=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",E),!!await this.getProvider()),v=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(T=>window.addEventListener("ethereum#initialized",()=>T(E()),{once:!0}))]:[],new Promise(T=>setTimeout(()=>T(E()),v))]))return!0}throw new za}return!!(await _1(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:p}){var E,v,_,T;const g=await this.getProvider();if(!g)throw new za;const b=u.chains.find(S=>S.id===p);if(!b)throw new hi(new t0);const w=new Promise(S=>{const I=x=>{"chainId"in x&&x.chainId===p&&(u.emitter.off("change",I),S())};u.emitter.on("change",I)});try{return await Promise.all([g.request({method:"wallet_switchEthereumChain",params:[{chainId:nt(p)}]}).then(async()=>{await this.getChainId()===p&&u.emitter.emit("change",{chainId:p})}),w]),b}catch(S){const I=S;if(I.code===4902||((v=(E=I==null?void 0:I.data)==null?void 0:E.originalError)==null?void 0:v.code)===4902)try{const{default:x,...N}=b.blockExplorers??{};let A;d!=null&&d.blockExplorerUrls?A=d.blockExplorerUrls:x&&(A=[x.url,...Object.values(N).map(M=>M.url)]);let R;(_=d==null?void 0:d.rpcUrls)!=null&&_.length?R=d.rpcUrls:R=[((T=b.rpcUrls.default)==null?void 0:T.http[0])??""];const k={blockExplorerUrls:A,chainId:nt(p),chainName:(d==null?void 0:d.chainName)??b.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??b.nativeCurrency,rpcUrls:R};return await Promise.all([g.request({method:"wallet_addEthereumChain",params:[k]}).then(async()=>{if(await this.getChainId()===p)u.emitter.emit("change",{chainId:p});else throw new pn(new Error("User rejected switch after adding network."))}),w]),b}catch(x){throw new pn(x)}throw I.code===pn.code?new pn(I):new hi(I)}},async onAccountsChanged(d){var p;if(d.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const g=(await this.getChainId()).toString();this.onConnect({chainId:g}),e&&await((p=u.storage)==null?void 0:p.removeItem(`${this.id}.disconnected`))}else u.emitter.emit("change",{accounts:d.map(g=>Qo(g))})},onChainChanged(d){const p=Number(d);u.emitter.emit("change",{chainId:p})},async onConnect(d){const p=await this.getAccounts();if(p.length===0)return;const g=Number(d.chainId);u.emitter.emit("connect",{accounts:p,chainId:g});const b=await this.getProvider();b&&(c&&(b.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),b.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),b.on("chainChanged",a)),l||(l=this.onDisconnect.bind(this),b.on("disconnect",l)))},async onDisconnect(d){const p=await this.getProvider();d&&d.code===1013&&p&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),p&&(a&&(p.removeListener("chainChanged",a),a=void 0),l&&(p.removeListener("disconnect",l),l=void 0),c||(c=this.onConnect.bind(this),p.on("connect",c))))}})}const Y$={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Jp(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Jp(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Jp(t,"isPhantom")}}};function Jp(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Z$(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Q$(){const t=new Set;let e=[];const n=()=>Z$(s=>{e.some(({info:a})=>a.uuid===s.info.uuid)||(e=[...e,s],t.forEach(a=>a(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(a=>a.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:a}={}){return t.add(s),a&&s(e,{added:e}),()=>t.delete(s)}}}const X$=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(c,l,u)=>{let d=c;if(l){const p=(u==null?void 0:u.equalityFn)||Object.is;let g=c(r.getState());d=b=>{const w=c(b);if(!p(g,w)){const E=g;l(g=w,E)}},u!=null&&u.fireImmediately&&l(g,g)}return s(d)},t(e,n,r)},J$=X$;function eU(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var a;const c=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(s))!=null?a:null;return l instanceof Promise?l.then(c):c(l)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const Ky=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Ky(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ky(r)(n)}}}},tU=(t,e)=>(n,r,s)=>{let a={storage:eU(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},c=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},r,s);const p=()=>{const v=a.partialize({...r()});return d.setItem(a.name,{state:v,version:a.version})},g=s.setState;s.setState=(v,_)=>{g(v,_),p()};const b=t((...v)=>{n(...v),p()},r,s);s.getInitialState=()=>b;let w;const E=()=>{var v,_;if(!d)return;c=!1,l.forEach(S=>{var I;return S((I=r())!=null?I:b)});const T=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(v=r())!=null?v:b))||void 0;return Ky(d.getItem.bind(d))(a.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==a.version){if(a.migrate)return[!0,a.migrate(S.state,S.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var I;const[x,N]=S;if(w=a.merge(N,(I=r())!=null?I:b),n(w,!0),x)return p()}).then(()=>{T==null||T(w,void 0),w=r(),c=!0,u.forEach(S=>S(w))}).catch(S=>{T==null||T(void 0,S)})};return s.persist={setOptions:v=>{a={...a,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>E(),hasHydrated:()=>c,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(u.add(v),()=>{u.delete(v)})},a.skipHydration||E(),w||b},nU=tU,$_=t=>{let e;const n=new Set,r=(d,p)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const b=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(w=>w(e,b))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(r,s,l);return l},s5=t=>t?$_(t):$_;var i5={exports:{}},U_;function rU(){return U_||(U_=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function a(u,d,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new s(p,g||u,b),E=n?n+d:d;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],w]:u._events[E].push(w):(u._events[E]=w,u._eventsCount++),u}function c(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,g;if(this._eventsCount===0)return d;for(g in p=this._events)e.call(p,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=n?n+d:d,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,E=new Array(w);b<w;b++)E[b]=g[b].fn;return E},l.prototype.listenerCount=function(d){var p=n?n+d:d,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,p,g,b,w,E){var v=n?n+d:d;if(!this._events[v])return!1;var _=this._events[v],T=arguments.length,S,I;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,b),!0;case 5:return _.fn.call(_.context,p,g,b,w),!0;case 6:return _.fn.call(_.context,p,g,b,w,E),!0}for(I=1,S=new Array(T-1);I<T;I++)S[I-1]=arguments[I];_.fn.apply(_.context,S)}else{var x=_.length,N;for(I=0;I<x;I++)switch(_[I].once&&this.removeListener(d,_[I].fn,void 0,!0),T){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,p);break;case 3:_[I].fn.call(_[I].context,p,g);break;case 4:_[I].fn.call(_[I].context,p,g,b);break;default:if(!S)for(N=1,S=new Array(T-1);N<T;N++)S[N-1]=arguments[N];_[I].fn.apply(_[I].context,S)}}return!0},l.prototype.on=function(d,p,g){return a(this,d,p,g,!1)},l.prototype.once=function(d,p,g){return a(this,d,p,g,!0)},l.prototype.removeListener=function(d,p,g,b){var w=n?n+d:d;if(!this._events[w])return this;if(!p)return c(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!b||E.once)&&(!g||E.context===g)&&c(this,w);else{for(var v=0,_=[],T=E.length;v<T;v++)(E[v].fn!==p||b&&!E[v].once||g&&E[v].context!==g)&&_.push(E[v]);_.length?this._events[w]=_.length===1?_[0]:_:c(this,w)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(i5)),i5.exports}var sU=rU();const iU=Dl(sU);class aU{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new iU})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function oU(t){return new aU(t)}function cU(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function M_(t,e){return t.slice(0,e).join(".")||"."}function k_(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function fU(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],a=[];return function(l,u){if(typeof u=="object")if(s.length){const d=k_(s,this);d===0?s[s.length]=this:(s.splice(d),a.splice(d)),a[a.length]=l;const p=k_(s,u);if(p!==0)return r?e.call(this,l,u,M_(a,p)):`[ref=${M_(a,p)}]`}else s[0]=u,a[0]=l;return n?t.call(this,l,u):u}}function lU(t,e,n,r){return JSON.stringify(t,fU((s,a)=>{let c=a;return typeof c=="bigint"&&(c={__type:"bigint",value:a.toString()}),c instanceof Map&&(c={__type:"Map",value:Array.from(a.entries())}),(e==null?void 0:e(s,c))??c},r),n??void 0)}function uU(t){const{deserialize:e=cU,key:n="wagmi",serialize:r=lU,storage:s=p9}=t;function a(c){return c instanceof Promise?c.then(l=>l).catch(()=>null):c}return{...s,key:n,async getItem(c,l){const u=s.getItem(`${n}.${c}`),d=await a(u);return d?e(d)??null:l??null},async setItem(c,l){const u=`${n}.${c}`;l===null?await a(s.removeItem(u)):await a(s.setItem(u,r(l)))},async removeItem(c){await a(s.removeItem(`${n}.${c}`))}}}const p9={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function dU(){const t=typeof window<"u"&&window.localStorage?window.localStorage:p9;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const Yy=256;let Ip=Yy,Rp;function hU(t=11){if(!Rp||Ip+t>Yy*2){Rp="",Ip=0;for(let e=0;e<Yy;e++)Rp+=(256+Math.random()*256|0).toString(16).substring(1)}return Rp.substring(Ip,Ip+++t)}function pU(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=uU({storage:dU()}),syncConnectedChain:r=!0,ssr:s=!1,...a}=t,c=typeof window<"u"&&e?Q$():void 0,l=s5(()=>a.chains),u=s5(()=>{const N=[],A=new Set;for(const R of a.connectors??[]){const k=d(R);if(N.push(k),!s&&k.rdns){const M=typeof k.rdns=="string"?[k.rdns]:k.rdns;for(const z of M)A.add(z)}}if(!s&&c){const R=c.getProviders();for(const k of R)A.has(k.info.rdns)||N.push(d(p(k)))}return N});function d(N){var k;const A=oU(hU()),R={...N({emitter:A,chains:l.getState(),storage:n,transports:a.transports}),emitter:A,uid:A.uid};return A.on("connect",I),(k=R.setup)==null||k.call(R),R}function p(N){const{info:A}=N,R=N.provider;return sg({target:{...A,id:A.rdns,provider:R}})}const g=new Map;function b(N={}){const A=N.chainId??_.getState().chainId,R=l.getState().find(M=>M.id===A);if(N.chainId&&!R)throw new t0;{const M=g.get(_.getState().chainId);if(M&&!R)return M;if(!R)throw new t0}{const M=g.get(A);if(M)return M}let k;if(a.client)k=a.client({chain:R});else{const M=R.id,z=l.getState().map(ie=>ie.id),H={},X=Object.entries(a);for(const[ie,W]of X)if(!(ie==="chains"||ie==="client"||ie==="connectors"||ie==="transports"))if(typeof W=="object")if(M in W)H[ie]=W[M];else{if(z.some(O=>O in W))continue;H[ie]=W}else H[ie]=W;k=f9({...H,chain:R,batch:H.batch??{multicall:!0},transport:ie=>a.transports[M]({...ie,connectors:u})})}return g.set(A,k),k}function w(){return{chainId:l.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let E;const v="0.0.0-canary-";Xp.startsWith(v)?E=Number.parseInt(Xp.replace(v,"")):E=Number.parseInt(Xp.split(".")[0]??"0");const _=s5(J$(n?nU(w,{migrate(N,A){if(A===E)return N;const R=w(),k=T(N,R.chainId);return{...R,chainId:k}},name:"store",partialize(N){return{connections:{__type:"Map",value:Array.from(N.connections.entries()).map(([A,R])=>{const{id:k,name:M,type:z,uid:H}=R.connector;return[A,{...R,connector:{id:k,name:M,type:z,uid:H}}]})},chainId:N.chainId,current:N.current}},merge(N,A){typeof N=="object"&&N&&"status"in N&&delete N.status;const R=T(N,A.chainId);return{...A,...N,chainId:R}},skipHydration:s,storage:n,version:E}):w));_.setState(w());function T(N,A){return N&&typeof N=="object"&&"chainId"in N&&typeof N.chainId=="number"&&l.getState().some(R=>R.id===N.chainId)?N.chainId:A}r&&_.subscribe(({connections:N,current:A})=>{var R;return A?(R=N.get(A))==null?void 0:R.chainId:void 0},N=>{if(l.getState().some(R=>R.id===N))return _.setState(R=>({...R,chainId:N??R.chainId}))}),c==null||c.subscribe(N=>{const A=new Set,R=new Set;for(const M of u.getState())if(A.add(M.id),M.rdns){const z=typeof M.rdns=="string"?[M.rdns]:M.rdns;for(const H of z)R.add(H)}const k=[];for(const M of N){if(R.has(M.info.rdns))continue;const z=d(p(M));A.has(z.id)||k.push(z)}n&&!_.persist.hasHydrated()||u.setState(M=>[...M,...k],!0)});function S(N){_.setState(A=>{const R=A.connections.get(N.uid);return R?{...A,connections:new Map(A.connections).set(N.uid,{accounts:N.accounts??R.accounts,chainId:N.chainId??R.chainId,connector:R.connector})}:A})}function I(N){_.getState().status==="connecting"||_.getState().status==="reconnecting"||_.setState(A=>{const R=u.getState().find(k=>k.uid===N.uid);return R?(R.emitter.listenerCount("connect")&&R.emitter.off("connect",S),R.emitter.listenerCount("change")||R.emitter.on("change",S),R.emitter.listenerCount("disconnect")||R.emitter.on("disconnect",x),{...A,connections:new Map(A.connections).set(N.uid,{accounts:N.accounts,chainId:N.chainId,connector:R}),current:N.uid,status:"connected"}):A})}function x(N){_.setState(A=>{const R=A.connections.get(N.uid);if(R){const M=R.connector;M.emitter.listenerCount("change")&&R.connector.emitter.off("change",S),M.emitter.listenerCount("disconnect")&&R.connector.emitter.off("disconnect",x),M.emitter.listenerCount("connect")||R.connector.emitter.on("connect",I)}if(A.connections.delete(N.uid),A.connections.size===0)return{...A,connections:new Map,current:null,status:"disconnected"};const k=A.connections.values().next().value;return{...A,connections:new Map(A.connections),current:k.connector.uid}})}return{get chains(){return l.getState()},get connectors(){return u.getState()},storage:n,getClient:b,get state(){return _.getState()},setState(N){let A;typeof N=="function"?A=N(_.getState()):A=N;const R=w();typeof A!="object"&&(A=R),Object.keys(R).some(M=>!(M in A))&&(A=R),_.setState(A,!0)},subscribe(N,A,R){return _.subscribe(N,A,R?{...R,fireImmediately:R.emitImmediately}:void 0)},_internal:{mipd:c,store:_,ssr:!!s,syncConnectedChain:r,transports:a.transports,chains:{setState(N){const A=typeof N=="function"?N(l.getState()):N;if(A.length!==0)return l.setState(A,!0)},subscribe(N){return l.subscribe(N)}},connectors:{providerDetailToConnector:p,setup:d,setState(N){return u.setState(typeof N=="function"?N(u.getState()):N,!0)},subscribe(N){return u.subscribe(N)}},events:{change:S,connect:I,disconnect:x}}}}function gU(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var u;const a=new Set;for(const d of s??[])if(d.rdns){const p=Array.isArray(d.rdns)?d.rdns:[d.rdns];for(const g of p)a.add(g)}const c=[],l=((u=t._internal.mipd)==null?void 0:u.getProviders())??[];for(const d of l){if(a.has(d.info.rdns))continue;const p=t._internal.connectors.providerDetailToConnector(d),g=t._internal.connectors.setup(p);c.push(g)}return[...s,...c]})),r?Wy(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function mU(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:a}=gU(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||a();const c=Qe.useRef(!0);return Qe.useEffect(()=>{if(c.current&&n._internal.ssr)return a(),()=>{c.current=!1}},[]),e}const g9=Qe.createContext(void 0);function bU(t){const{children:e,config:n}=t,r={value:n};return Qe.createElement(mU,t,Qe.createElement(g9.Provider,r,e))}const yU="2.15.3",wU=()=>`wagmi@${yU}`;let vU=class extends sa{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return wU()}};class EU extends vU{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function j0(t={}){const e=t.config??Qe.useContext(g9);if(!e)throw new EU;return e}var a5={exports:{}},o5={},c5={exports:{}},f5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function _U(){if(B_)return f5;B_=1;var t=U0();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function l(g,b){var w=b(),E=r({inst:{value:w,getSnapshot:b}}),v=E[0].inst,_=E[1];return a(function(){v.value=w,v.getSnapshot=b,u(v)&&_({inst:v})},[g,w,b]),s(function(){return u(v)&&_({inst:v}),g(function(){u(v)&&_({inst:v})})},[g]),c(w),w}function u(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!n(g,w)}catch{return!0}}function d(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return f5.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,f5}var L_;function CU(){return L_||(L_=1,c5.exports=_U()),c5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function AU(){if(j_)return o5;j_=1;var t=U0(),e=CU();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,l=t.useMemo,u=t.useDebugValue;return o5.useSyncExternalStoreWithSelector=function(d,p,g,b,w){var E=a(null);if(E.current===null){var v={hasValue:!1,value:null};E.current=v}else v=E.current;E=l(function(){function T(A){if(!S){if(S=!0,I=A,A=b(A),w!==void 0&&v.hasValue){var R=v.value;if(w(R,A))return x=R}return x=A}if(R=x,r(I,A))return R;var k=b(A);return w!==void 0&&w(R,k)?(I=A,R):(I=A,x=k)}var S=!1,I,x,N=g===void 0?null:g;return[function(){return T(p())},N===null?void 0:function(){return T(N())}]},[p,g,b,w]);var _=s(d,E[0],E[1]);return c(function(){v.hasValue=!0,v.value=_},[_]),u(_),_},o5}var z_;function SU(){return z_||(z_=1,a5.exports=AU()),a5.exports}var TU=SU();const l5=t=>typeof t=="object"&&!Array.isArray(t);function NU(t,e,n=e,r=r0){const s=Qe.useRef([]),a=TU.useSyncExternalStoreWithSelector(t,e,n,c=>c,(c,l)=>{if(l5(c)&&l5(l)&&s.current.length){for(const u of s.current)if(!r(c[u],l[u]))return!1;return!0}return r(c,l)});return Qe.useMemo(()=>{if(l5(a)){const c={...a};let l={};for(const[u,d]of Object.entries(c))l={...l,[u]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(u)||s.current.push(u),d)}};return Object.defineProperties(c,l),c}return a},[a])}function OU(t={}){const e=j0(t);return NU(n=>u9(e,{onChange:n}),()=>n0(e))}function IU(t){return JSON.stringify(t,(e,n)=>RU(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function RU(t){if(!F_(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!F_(n)||!n.hasOwnProperty("isPrototypeOf"))}function F_(t){return Object.prototype.toString.call(t)==="[object Object]"}function xU(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:a,maxPages:c,meta:l,networkMode:u,queryFn:d,queryHash:p,queryKey:g,queryKeyHashFn:b,retry:w,retryDelay:E,structuralSharing:v,getPreviousPageParam:_,getNextPageParam:T,initialPageParam:S,_optimisticResults:I,enabled:x,notifyOnChangeProps:N,placeholderData:A,refetchInterval:R,refetchIntervalInBackground:k,refetchOnMount:M,refetchOnReconnect:z,refetchOnWindowFocus:H,retryOnMount:X,select:ie,staleTime:W,suspense:U,throwOnError:O,config:B,connector:q,query:G,...D}=t;return D}function PU(t){return{mutationFn(e){return U$(t,e)},mutationKey:["deployContract"]}}function DU(t,e={}){return{async queryFn({queryKey:n}){const{hash:r,...s}=n[1];if(!r)throw new Error("hash is required");return d9(t,{...s,onReplaced:e.onReplaced,hash:r})},queryKey:$U(e)}}function $U(t={}){const{onReplaced:e,...n}=t;return["waitForTransactionReceipt",xU(n)]}function UU(t){return{mutationFn(e){return h9(t,e)},mutationKey:["writeContract"]}}function MU(t){const e=mx({...t,queryKeyHashFn:IU});return e.queryKey=t.queryKey,e}function m9(t={}){const e=j0(t);return Qe.useSyncExternalStore(n=>G$(e,{onChange:n}),()=>P_(e),()=>P_(e))}function kU(t={}){const{mutation:e}=t,n=j0(t),r=PU(n),{mutate:s,mutateAsync:a,...c}=zS({...e,...r});return{...c,deployContract:s,deployContractAsync:a}}function b9(t={}){const{hash:e,query:n={}}=t,r=j0(t),s=m9({config:r}),a=DU(r,{...t,chainId:t.chainId??s}),c=!!(e&&(n.enabled??!0));return MU({...n,...a,enabled:c})}function BU(t={}){const{mutation:e}=t,n=j0(t),r=UU(n),{mutate:s,mutateAsync:a,...c}=zS({...e,...r});return{...c,writeContract:s,writeContractAsync:a}}const LU=r9({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),jU=r9({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),zU=Symbol(),q_=Object.getPrototypeOf,Zy=new WeakMap,FU=t=>t&&(Zy.has(t)?Zy.get(t):q_(t)===Object.prototype||q_(t)===Array.prototype),qU=t=>FU(t)&&t[zU]||null,H_=(t,e=!0)=>{Zy.set(t,e)},S1={},u5=t=>typeof t=="object"&&t!==null,Fa=new WeakMap,gd=new WeakSet,HU=(t=Object.is,e=(d,p)=>new Proxy(d,p),n=d=>u5(d)&&!gd.has(d)&&(Array.isArray(d)||!(Symbol.iterator in d))&&!(d instanceof WeakMap)&&!(d instanceof WeakSet)&&!(d instanceof Error)&&!(d instanceof Number)&&!(d instanceof Date)&&!(d instanceof String)&&!(d instanceof RegExp)&&!(d instanceof ArrayBuffer),r=d=>{switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:throw d}},s=new WeakMap,a=(d,p,g=r)=>{const b=s.get(d);if((b==null?void 0:b[0])===p)return b[1];const w=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d));return H_(w,!0),s.set(d,[p,w]),Reflect.ownKeys(d).forEach(E=>{if(Object.getOwnPropertyDescriptor(w,E))return;const v=Reflect.get(d,E),{enumerable:_}=Reflect.getOwnPropertyDescriptor(d,E),T={value:v,enumerable:_,configurable:!0};if(gd.has(v))H_(v,!1);else if(v instanceof Promise)delete T.value,T.get=()=>g(v);else if(Fa.has(v)){const[S,I]=Fa.get(v);T.value=a(S,I(),g)}Object.defineProperty(w,E,T)}),Object.preventExtensions(w)},c=new WeakMap,l=[1,1],u=d=>{if(!u5(d))throw new Error("object required");const p=c.get(d);if(p)return p;let g=l[0];const b=new Set,w=(M,z=++l[0])=>{g!==z&&(g=z,b.forEach(H=>H(M,z)))};let E=l[1];const v=(M=++l[1])=>(E!==M&&!b.size&&(E=M,T.forEach(([z])=>{const H=z[1](M);H>g&&(g=H)})),g),_=M=>(z,H)=>{const X=[...z];X[1]=[M,...X[1]],w(X,H)},T=new Map,S=(M,z)=>{if((S1?"production":void 0)!=="production"&&T.has(M))throw new Error("prop listener already exists");if(b.size){const H=z[3](_(M));T.set(M,[z,H])}else T.set(M,[z])},I=M=>{var z;const H=T.get(M);H&&(T.delete(M),(z=H[1])==null||z.call(H))},x=M=>(b.add(M),b.size===1&&T.forEach(([H,X],ie)=>{if((S1?"production":void 0)!=="production"&&X)throw new Error("remove already exists");const W=H[3](_(ie));T.set(ie,[H,W])}),()=>{b.delete(M),b.size===0&&T.forEach(([H,X],ie)=>{X&&(X(),T.set(ie,[H]))})}),N=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d)),R=e(N,{deleteProperty(M,z){const H=Reflect.get(M,z);I(z);const X=Reflect.deleteProperty(M,z);return X&&w(["delete",[z],H]),X},set(M,z,H,X){const ie=Reflect.has(M,z),W=Reflect.get(M,z,X);if(ie&&(t(W,H)||c.has(H)&&t(W,c.get(H))))return!0;I(z),u5(H)&&(H=qU(H)||H);let U=H;if(H instanceof Promise)H.then(O=>{H.status="fulfilled",H.value=O,w(["resolve",[z],O])}).catch(O=>{H.status="rejected",H.reason=O,w(["reject",[z],O])});else{!Fa.has(H)&&n(H)&&(U=u(H));const O=!gd.has(U)&&Fa.get(U);O&&S(z,O)}return Reflect.set(M,z,U,X),w(["set",[z],H,W]),!0}});c.set(d,R);const k=[N,v,a,x];return Fa.set(R,k),Reflect.ownKeys(d).forEach(M=>{const z=Object.getOwnPropertyDescriptor(d,M);"value"in z&&(R[M]=d[M],delete z.value,delete z.writable),Object.defineProperty(N,M,z)}),R})=>[u,Fa,gd,t,e,n,r,s,a,c,l],[VU]=HU();function zt(t={}){return VU(t)}function fr(t,e,n){const r=Fa.get(t);(S1?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const a=[],c=r[3];let l=!1;const d=c(p=>{a.push(p),s||(s=Promise.resolve().then(()=>{s=void 0,l&&e(a.splice(0))}))});return l=!0,()=>{l=!1,d()}}function s0(t,e){const n=Fa.get(t);(S1?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,a]=n;return a(r,s(),e)}function Ec(t){return gd.add(t),t}function Qn(t,e,n,r){let s=t[e];return fr(t,()=>{const a=t[e];Object.is(s,a)||n(s=a)})}function GU(t){const e=zt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(a=>a[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const i0={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var WU=20,KU=1,Bl=1e6,YU=1e6,ZU=-7,QU=21,XU=!1,z0="[big.js] ",Pc=z0+"Invalid ",ig=Pc+"decimal places",JU=Pc+"rounding mode",y9=z0+"Division by zero",At={},fi=void 0,eM=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function w9(){function t(e){var n=this;if(!(n instanceof t))return e===fi?w9():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Pc+"value");e=e===0&&1/e<0?"-0":String(e)}tM(n,e)}n.constructor=t}return t.prototype=At,t.DP=WU,t.RM=KU,t.NE=ZU,t.PE=QU,t.strict=XU,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function tM(t,e){var n,r,s;if(!eM.test(e))throw Error(Pc+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function Dc(t,e,n,r){var s=t.c;if(n===fi&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(JU);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==fi))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==fi||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function $c(t,e,n){var r=t.e,s=t.c.join(""),a=s.length;if(e)s=s.charAt(0)+(a>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>a)for(r-=a;r--;)s+="0";else r<a&&(s=s.slice(0,r)+"."+s.slice(r));else a>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}At.abs=function(){var t=new this.constructor(this);return t.s=1,t};At.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,a=n.s,c=t.s,l=n.e,u=t.e;if(!r[0]||!s[0])return r[0]?a:s[0]?-c:0;if(a!=c)return a;if(e=a<0,l!=u)return l>u^e?1:-1;for(c=(l=r.length)<(u=s.length)?l:u,a=-1;++a<c;)if(r[a]!=s[a])return r[a]>s[a]^e?1:-1;return l==u?0:l>u^e?1:-1};At.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,a=e.s==t.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>Bl)throw Error(ig);if(!s[0])throw Error(y9);if(!r[0])return t.s=a,t.c=[t.e=0],t;var l,u,d,p,g,b=s.slice(),w=l=s.length,E=r.length,v=r.slice(0,l),_=v.length,T=t,S=T.c=[],I=0,x=c+(T.e=e.e-t.e)+1;for(T.s=a,a=x<0?0:x,b.unshift(0);_++<l;)v.push(0);do{for(d=0;d<10;d++){if(l!=(_=v.length))p=l>_?1:-1;else for(g=-1,p=0;++g<l;)if(s[g]!=v[g]){p=s[g]>v[g]?1:-1;break}if(p<0){for(u=_==l?s:b;_;){if(v[--_]<u[_]){for(g=_;g&&!v[--g];)v[g]=9;--v[g],v[_]+=10}v[_]-=u[_]}for(;!v[0];)v.shift()}else break}S[I++]=p?d:++d,v[0]&&p?v[_]=r[w]||0:v=[r[w]]}while((w++<E||v[0]!==fi)&&a--);return!S[0]&&I!=1&&(S.shift(),T.e--,x--),I>x&&Dc(T,x,n.RM,v[0]!==fi),T};At.eq=function(t){return this.cmp(t)===0};At.gt=function(t){return this.cmp(t)>0};At.gte=function(t){return this.cmp(t)>-1};At.lt=function(t){return this.cmp(t)<0};At.lte=function(t){return this.cmp(t)<1};At.minus=At.sub=function(t){var e,n,r,s,a=this,c=a.constructor,l=a.s,u=(t=new c(t)).s;if(l!=u)return t.s=-u,a.plus(t);var d=a.c.slice(),p=a.e,g=t.c,b=t.e;if(!d[0]||!g[0])return g[0]?t.s=-u:d[0]?t=new c(a):t.s=1,t;if(l=p-b){for((s=l<0)?(l=-l,r=d):(b=p,r=g),r.reverse(),u=l;u--;)r.push(0);r.reverse()}else for(n=((s=d.length<g.length)?d:g).length,l=u=0;u<n;u++)if(d[u]!=g[u]){s=d[u]<g[u];break}if(s&&(r=d,d=g,g=r,t.s=-t.s),(u=(n=g.length)-(e=d.length))>0)for(;u--;)d[e++]=0;for(u=e;n>l;){if(d[--n]<g[n]){for(e=n;e&&!d[--e];)d[e]=9;--d[e],d[n]+=10}d[n]-=g[n]}for(;d[--u]===0;)d.pop();for(;d[0]===0;)d.shift(),--b;return d[0]||(t.s=1,d=[b=0]),t.c=d,t.e=b,t};At.mod=function(t){var e,n=this,r=n.constructor,s=n.s,a=(t=new r(t)).s;if(!t.c[0])throw Error(y9);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=a,e?new r(n):(s=r.DP,a=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=a,this.minus(n.times(t)))};At.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};At.plus=At.add=function(t){var e,n,r,s=this,a=s.constructor;if(t=new a(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var c=s.e,l=s.c,u=t.e,d=t.c;if(!l[0]||!d[0])return d[0]||(l[0]?t=new a(s):t.s=s.s),t;if(l=l.slice(),e=c-u){for(e>0?(u=c,r=d):(e=-e,r=l),r.reverse();e--;)r.push(0);r.reverse()}for(l.length-d.length<0&&(r=d,d=l,l=r),e=d.length,n=0;e;l[e]%=10)n=(l[--e]=l[e]+d[e]+n)/10|0;for(n&&(l.unshift(n),++u),e=l.length;l[--e]===0;)l.pop();return t.c=l,t.e=u,t};At.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-1e6||t>YU)throw Error(Pc+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};At.prec=function(t,e){if(t!==~~t||t<1||t>Bl)throw Error(Pc+"precision");return Dc(new this.constructor(this),t,e)};At.round=function(t,e){if(t===fi)t=0;else if(t!==~~t||t<-1e6||t>Bl)throw Error(ig);return Dc(new this.constructor(this),t+this.e+1,e)};At.sqrt=function(){var t,e,n,r=this,s=r.constructor,a=r.s,c=r.e,l=new s("0.5");if(!r.c[0])return new s(r);if(a<0)throw Error(z0+"No square root");a=Math.sqrt(+$c(r,!0,!0)),a===0||a===1/0?(e=r.c.join(""),e.length+c&1||(e+="0"),a=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),t=new s((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+c)):t=new s(a+""),c=t.e+(s.DP+=4);do n=t,t=l.times(n.plus(r.div(n)));while(n.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return Dc(t,(s.DP-=4)+t.e+1,s.RM)};At.times=At.mul=function(t){var e,n=this,r=n.constructor,s=n.c,a=(t=new r(t)).c,c=s.length,l=a.length,u=n.e,d=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!a[0])return t.c=[t.e=0],t;for(t.e=u+d,c<l&&(e=s,s=a,a=e,d=c,c=l,l=d),e=new Array(d=c+l);d--;)e[d]=0;for(u=l;u--;){for(l=0,d=c+u;d>u;)l=e[d]+a[u]*s[d-u-1]+l,e[d--]=l%10,l=l/10|0;e[d]=l}for(l?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t};At.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==fi){if(t!==~~t||t<0||t>Bl)throw Error(ig);for(n=Dc(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return $c(n,!0,!!r)};At.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==fi){if(t!==~~t||t<0||t>Bl)throw Error(ig);for(n=Dc(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return $c(n,!1,!!r)};At[Symbol.for("nodejs.util.inspect.custom")]=At.toJSON=At.toString=function(){var t=this,e=t.constructor;return $c(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};At.toNumber=function(){var t=+$c(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(z0+"Imprecise conversion");return t};At.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==fi){if(t!==~~t||t<1||t>Bl)throw Error(Pc+"precision");for(n=Dc(new r(n),t,e);n.c.length<t;)n.c.push(0)}return $c(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};At.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(z0+"valueOf disallowed");return $c(t,t.e<=e.NE||t.e>=e.PE,!0)};var Qu=w9();const nM={bigNumber(t){return t?new Qu(t):new Qu(0)},multiply(t,e){if(t===void 0||e===void 0)return new Qu(0);const n=new Qu(t),r=new Qu(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},rM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],sM=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],iM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var V_={};const de={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof V_<"u"?V_.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},aM={getERC20Abi:t=>de.USDT_CONTRACT_ADDRESSES.includes(t)?iM:rM,getSwapAbi:()=>sM},Da={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},qe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function d5(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const ze={setItem(t,e){md()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(md())return localStorage.getItem(t)||void 0},removeItem(t){md()&&localStorage.removeItem(t)},clear(){md()&&localStorage.clear()}};function md(){return typeof window<"u"&&typeof localStorage<"u"}function Yi(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var G_={};const h5=(typeof process<"u"&&typeof G_<"u"?G_.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",gre=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],mre="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",cn={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SECURE_SITE:h5,SECURE_SITE_DASHBOARD:`${h5}/dashboard`,SECURE_SITE_FAVICON:`${h5}/images/favicon.png`,WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},ye={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ye.getActiveNamespace(),e=ye.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{ze.setItem(qe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=ze.getItem(qe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ze.removeItem(qe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{ze.setItem(qe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{ze.setItem(qe.ACTIVE_CAIP_NETWORK_ID,t),ye.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ze.getItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ze.removeItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=d5(t);ze.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ye.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),ze.setItem(qe.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=ze.getItem(qe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=d5(t);ze.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ze.getItem(qe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=d5(t);return ze.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{ze.setItem(qe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ze.getItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ze.removeItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ze.getItem(qe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=ze.getItem(qe.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{ze.setItem(qe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ze.getItem(qe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=ze.getItem(qe.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));ze.setItem(qe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ye.getConnectedNamespaces();e.includes(t)||(e.push(t),ye.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ye.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ye.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ze.getItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{ze.setItem(qe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ze.removeItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=ze.getItem(qe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ye.getBalanceCache();ze.setItem(qe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ye.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ye.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ye.getBalanceCache();e[t.caipAddress]=t,ze.setItem(qe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=ze.getItem(qe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ye.getBalanceCache();ze.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ye.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ye.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ye.getNativeBalanceCache();e[t.caipAddress]=t,ze.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=ze.getItem(qe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ye.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ye.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ye.getEnsCache();e[t.address]=t,ze.setItem(qe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ye.getEnsCache();ze.setItem(qe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=ze.getItem(qe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ye.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ye.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ye.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},ze.setItem(qe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ye.getIdentityCache();ze.setItem(qe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{ze.removeItem(qe.PORTFOLIO_CACHE),ze.removeItem(qe.NATIVE_BALANCE_CACHE),ze.removeItem(qe.ENS_CACHE),ze.removeItem(qe.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{ze.setItem(qe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=ze.getItem(qe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n={...ye.getConnections(),[e]:t};ze.setItem(qe.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=ze.getItem(qe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},De={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return De.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=cn.TEN_SEC_MS:!0},isAllowedRetry(t,e=cn.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+cn.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(De.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const a=encodeURIComponent(e);return{redirect:`${r}wc?uri=${a}`,redirectUniversalLink:s?`${s}wc?uri=${a}`:void 0,href:r}},formatUniversalUrl(t,e){if(!De.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ye.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r,s;if(typeof window>"u")return!1;const t=(r=(n=window.matchMedia)==null?void 0:n.call(window,"(display-mode: standalone)"))==null?void 0:r.matches,e=(s=window==null?void 0:window.navigator)==null?void 0:s.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,De.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return de.W3M_API_URL},getBlockchainApiUrl(){return de.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return de.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const a=n[r.id],c=n[s.id];return a!==void 0&&c!==void 0?a-c:a!==void 0?-1:c!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?cn.ADAPTER_TYPES.UNIVERSAL:t.map(a=>a.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in de.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",a=t.substring(t.indexOf(s)+s.length),c=this.injectIntoUrl(decodeURIComponent(a),n,e);return t.replace(a,encodeURIComponent(c))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),a=e.length,c=s!==-1?s:t.length,l=t.substring(0,r+a),u=t.substring(r+a,c),d=t.substring(s),p=u+n;return l+p+d}};async function Xu(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class F0{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const a=this.createUrl(s);return(await Xu(a,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Xu(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Xu(a,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Xu(a,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Xu(a,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,a])=>{a&&r.searchParams.append(s,a)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const oM={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?cn.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(De.isTelegram()){if(De.isIos())return t.filter(e=>e!=="google");if(De.isMac())return t.filter(e=>e!=="x");if(De.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Ue=zt({features:cn.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:cn.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1}),fe={state:Ue,subscribeKey(t,e){return Qn(Ue,t,e)},setOptions(t){Object.assign(Ue,t)},setFeatures(t){if(!t)return;Ue.features||(Ue.features=cn.DEFAULT_FEATURES);const e={...Ue.features,...t};Ue.features=e,Ue.features.socials&&(Ue.features.socials=oM.filterSocialsByPlatform(Ue.features.socials))},setProjectId(t){Ue.projectId=t},setCustomRpcUrls(t){Ue.customRpcUrls=t},setAllWallets(t){Ue.allWallets=t},setIncludeWalletIds(t){Ue.includeWalletIds=t},setExcludeWalletIds(t){Ue.excludeWalletIds=t},setFeaturedWalletIds(t){Ue.featuredWalletIds=t},setTokens(t){Ue.tokens=t},setTermsConditionsUrl(t){Ue.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Ue.privacyPolicyUrl=t},setCustomWallets(t){Ue.customWallets=t},setIsSiweEnabled(t){Ue.isSiweEnabled=t},setIsUniversalProvider(t){Ue.isUniversalProvider=t},setSdkVersion(t){Ue.sdkVersion=t},setMetadata(t){Ue.metadata=t},setDisableAppend(t){Ue.disableAppend=t},setEIP6963Enabled(t){Ue.enableEIP6963=t},setDebug(t){Ue.debug=t},setEnableWalletConnect(t){Ue.enableWalletConnect=t},setEnableWalletGuide(t){Ue.enableWalletGuide=t},setEnableAuthLogger(t){Ue.enableAuthLogger=t},setEnableWallets(t){Ue.enableWallets=t},setPreferUniversalLinks(t){Ue.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Ue.hasMultipleAddresses=t},setSIWX(t){Ue.siwx=t},setConnectMethodsOrder(t){Ue.features={...Ue.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Ue.features={...Ue.features,walletFeaturesOrder:t}},setSocialsOrder(t){Ue.features={...Ue.features,socials:t}},setCollapseWallets(t){Ue.features={...Ue.features,collapseWallets:t}},setEnableEmbedded(t){Ue.enableEmbedded=t},setAllowUnsupportedChain(t){Ue.allowUnsupportedChain=t},setManualWCControl(t){Ue.manualWCControl=t},setEnableNetworkSwitch(t){Ue.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Ue.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Ue.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Ue.universalProviderConfigOverride},getSnapshot(){return s0(Ue)}},cM=Object.freeze({enabled:!0,events:[]}),fM=new F0({baseUrl:De.getAnalyticsUrl(),clientId:null}),lM=5,uM=60*1e3,$a=zt({...cM}),dM={state:$a,subscribeKey(t,e){return Qn($a,t,e)},async sendError(t,e){if(!$a.enabled)return;const n=Date.now();if($a.events.filter(a=>{const c=new Date(a.properties.timestamp||"").getTime();return n-c<uM}).length>=lM)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};$a.events.push(s);try{if(typeof window>"u")return;const{projectId:a,sdkType:c,sdkVersion:l}=fe.state;await fM.post({path:"/e",params:{projectId:a,st:c,sv:l||"html-wagmi-4.2.2"},body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch(a){console.error("Error sending telemetry event:",a)}},enable(){$a.enabled=!0},disable(){$a.enabled=!1},clearEvents(){$a.events=[]}};class a0 extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Error.captureStackTrace&&Error.captureStackTrace(this,a0)}}function W_(t,e){const n=t instanceof a0?t:new a0(t instanceof Error?t.message:String(t),e,t);throw dM.sendError(n,n.category),n}function ys(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let a=s;s.constructor.name==="AsyncFunction"?a=async(...c)=>{try{return await s(...c)}catch(l){return W_(l,e)}}:a=(...c)=>{try{return s(...c)}catch(l){return W_(l,e)}},n[r]=a}else n[r]=s}),n}const hM={handleMobileDeeplinkRedirect(t){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",s=e.split("/")[2],a=encodeURIComponent(`${r}://${s}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${a}`}L.state.activeChain===de.CHAIN.SOLANA&&t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}},Lr=zt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),pM={state:Lr,subscribeNetworkImages(t){return fr(Lr.networkImages,()=>t(Lr.networkImages))},subscribeKey(t,e){return Qn(Lr,t,e)},subscribe(t){return fr(Lr,()=>t(Lr))},setWalletImage(t,e){Lr.walletImages[t]=e},setNetworkImage(t,e){Lr.networkImages[t]=e},setChainImage(t,e){Lr.chainImages[t]=e},setConnectorImage(t,e){Lr.connectorImages={...Lr.connectorImages,[t]:e}},setTokenImage(t,e){Lr.tokenImages[t]=e},setCurrencyImage(t,e){Lr.currencyImages[t]=e}},Ds=ys(pM),gM={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},p5=zt({networkImagePromises:{}}),v9={async fetchWalletImage(t){if(t)return await Me._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(p5.networkImagePromises[t]||(p5.networkImagePromises[t]=Me._fetchNetworkImage(t)),await p5.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Ds.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Ds.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Ds.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Ds.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Ds.state.connectorImages[t.imageId]},getChainImage(t){return Ds.state.networkImages[gM[t]]}},Ua=zt({message:"",variant:"info",open:!1}),mM={state:Ua,subscribeKey(t,e){return Qn(Ua,t,e)},open(t,e){const{debug:n}=fe.state,{shortMessage:r,longMessage:s}=t;n&&(Ua.message=r,Ua.variant=e,Ua.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){Ua.open=!1,Ua.message="",Ua.variant="info"}},or=ys(mM),bM=De.getAnalyticsUrl(),yM=new F0({baseUrl:bM,clientId:null}),wM=["MODAL_CREATED"],$i=zt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),jt={state:$i,subscribe(t){return fr($i,()=>t($i))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Te.state.address;if(wM.includes(t.data.event)||typeof window>"u")return;await yM.post({path:"/e",params:jt.getSdkProperties(),body:{eventId:De.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),$i.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===de.HTTP_STATUS_CODES.FORBIDDEN&&!$i.reportedErrors.FORBIDDEN&&(or.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${md()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),$i.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;$i.timestamp=Date.now(),$i.data=t,(e=fe.state.features)!=null&&e.analytics&&jt._sendAnalyticsEvent($i)}},g5={PHANTOM:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",COINBASE:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"},vM=De.getApiUrl(),jr=new F0({baseUrl:vM,clientId:null}),EM=40,K_=4,_M=20,He=zt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Me={state:He,subscribeKey(t,e){return Qn(He,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return fe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${jr.baseUrl}/getWalletImage/${t}`,n=await jr.getBlob({path:e,params:Me._getSdkProperties()});Ds.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${jr.baseUrl}/public/getAssetImage/${t}`,n=await jr.getBlob({path:e,params:Me._getSdkProperties()});Ds.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${jr.baseUrl}/public/getAssetImage/${t}`,n=await jr.getBlob({path:e,params:Me._getSdkProperties()});Ds.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${jr.baseUrl}/public/getCurrencyImage/${t}`,n=await jr.getBlob({path:e,params:Me._getSdkProperties()});Ds.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${jr.baseUrl}/public/getTokenImage/${t}`,n=await jr.getBlob({path:e,params:Me._getSdkProperties()});Ds.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return De.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===g5.COINBASE||n.id===g5.PHANTOM&&L.state.activeChain==="solana"):t},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await jr.get({path:"/projects/v1/origins",params:Me._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const t=L.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!v9.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Me._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ce.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Me._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Me._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Me._fetchTokenImage(e)))},async fetchWallets(t){var a;const e=t.exclude??[];Me._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(g5));const r=await jr.get({path:"/getWallets",params:{...Me._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(a=t.include)==null?void 0:a.join(","),exclude:e.join(",")}});return{data:Me._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=fe.state;if(t!=null&&t.length){const e={...Me._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??K_,include:t},{data:n}=await Me.fetchWallets(e);n.sort((s,a)=>t.indexOf(s.id)-t.indexOf(a.id));const r=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(r.map(s=>Me._fetchWalletImage(s))),He.featured=n,He.allFeatured=n}},async fetchRecommendedWallets(){try{He.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=fe.state,r=[...e??[],...n??[]].filter(Boolean),s=L.getRequestedCaipNetworkIds().join(","),a={page:1,entries:K_,include:t,exclude:r,chains:s},{data:c,count:l}=await Me.fetchWallets(a),u=ye.getRecentWallets(),d=c.map(g=>g.image_id).filter(Boolean),p=u.map(g=>g.image_id).filter(Boolean);await Promise.allSettled([...d,...p].map(g=>Me._fetchWalletImage(g))),He.recommended=c,He.allRecommended=c,He.count=l??0}catch{}finally{He.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=fe.state,s=L.getRequestedCaipNetworkIds().join(","),a=[...He.recommended.map(({id:p})=>p),...n??[],...r??[]].filter(Boolean),c={page:t,entries:EM,include:e,exclude:a,chains:s},{data:l,count:u}=await Me.fetchWallets(c),d=l.slice(0,_M).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(d.map(p=>Me._fetchWalletImage(p))),He.wallets=De.uniqueBy([...He.wallets,...Me._filterOutExtensions(l)],"id").filter(p=>{var g;return(g=p.chains)==null?void 0:g.some(b=>s.includes(b))}),He.count=u>He.count?u:He.count,He.page=t},async initializeExcludedWallets({ids:t}){const e=L.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await Me.fetchWallets(n);r&&r.forEach(s=>{He.excludedWallets.push({rdns:s.rdns,name:s.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=fe.state,s=L.getRequestedCaipNetworkIds().join(",");He.search=[];const a={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:c}=await Me.fetchWallets(a);jt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const l=c.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...l.map(u=>Me._fetchWalletImage(u)),De.wait(300)]),He.search=Me._filterOutExtensions(c)},initPromise(t,e){const n=He.promises[t];return n||(He.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Me.initPromise("connectorImages",Me.fetchConnectorImages),e&&Me.initPromise("featuredWallets",Me.fetchFeaturedWallets),n&&Me.initPromise("recommendedWallets",Me.fetchRecommendedWallets),r&&Me.initPromise("networkImages",Me.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=fe.state.features)!=null&&t.analytics&&Me.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await jr.get({path:"/getAnalyticsConfig",params:Me._getSdkProperties()});fe.setFeatures({analytics:t})}catch{fe.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=L.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.recommended=He.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.filteredWallets=He.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){He.filteredWallets=[]},setFilterByNamespace(t){if(!t){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=L.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.recommended=He.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.filteredWallets=He.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},yt=zt({view:"Connect",history:["Connect"],transactionStack:[]}),CM={state:yt,subscribeKey(t,e){return Qn(yt,t,e)},pushTransactionStack(t){yt.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=yt.transactionStack.pop();if(e)if(t)ct.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)ct.goBack();else if(e.replace){const a=yt.history.indexOf("ConnectingSiwe");a>0?ct.goBackToIndex(a-1):(tn.close(!0),yt.history=[])}else e.view&&ct.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==yt.view&&(yt.view=t,yt.history.push(t),yt.data=e)},reset(t,e){yt.view=t,yt.history=[t],yt.data=e},replace(t,e){yt.history.at(-1)===t||(yt.view=t,yt.history[yt.history.length-1]=t,yt.data=e)},goBack(){var e;const t=!L.state.activeCaipAddress&&ct.state.view==="ConnectingFarcaster";if(yt.history.length>1&&!yt.history.includes("UnsupportedChain")){yt.history.pop();const[n]=yt.history.slice(-1);n&&(yt.view=n)}else tn.close();(e=yt.data)!=null&&e.wallet&&(yt.data.wallet=void 0),setTimeout(()=>{var n,r,s;if(t){Te.setFarcasterUrl(void 0,L.state.activeChain);const a=Ce.getAuthConnector();(n=a==null?void 0:a.provider)==null||n.reload();const c=s0(fe.state);(s=(r=a==null?void 0:a.provider)==null?void 0:r.syncDappData)==null||s.call(r,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(yt.history.length>1){yt.history=yt.history.slice(0,t+1);const[e]=yt.history.slice(-1);e&&(yt.view=e)}}},ct=ys(CM),Ui=zt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Qy={state:Ui,subscribe(t){return fr(Ui,()=>t(Ui))},setThemeMode(t){Ui.themeMode=t;try{const e=Ce.getAuthConnector();if(e){const n=Qy.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Yi(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Ui.themeVariables={...Ui.themeVariables,...t};try{const e=Ce.getAuthConnector();if(e){const n=Qy.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Yi(Ui.themeVariables,Ui.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return s0(Ui)}},Sr=ys(Qy),E9={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},ut=zt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...E9},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),AM={state:ut,subscribe(t){return fr(ut,()=>{t(ut)})},subscribeKey(t,e){return Qn(ut,t,e)},initialize(t){t.forEach(e=>{const n=ye.getConnectedConnectorId(e);n&&Ce.setConnectorId(n,e)})},setActiveConnector(t){t&&(ut.activeConnector=Ec(t))},setConnectors(t){t.filter(s=>!ut.allConnectors.some(a=>a.id===s.id&&Ce.getConnectorName(a.name)===Ce.getConnectorName(s.name)&&a.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&ut.allConnectors.push(Ec(s))});const n=Ce.getEnabledNamespaces(),r=Ce.getEnabledConnectors(n);ut.connectors=Ce.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(ut.filterByNamespaceMap).forEach(e=>{ut.filterByNamespaceMap[e]=!1}),t.forEach(e=>{ut.filterByNamespaceMap[e]=!0}),Ce.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){ut.filterByNamespaceMap[t]=e,Ce.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ce.getEnabledNamespaces(),e=Ce.getEnabledConnectors(t),n=Ce.areAllNamespacesEnabled();ut.connectors=Ce.mergeMultiChainConnectors(e),n?Me.clearFilterByNamespaces():Me.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(ut.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return ut.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(ut.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ce.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],a=(s==null?void 0:s.id)===de.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=Ce.getConnectorName(r);if(!s)return;const a=e.get(s)||[];a.find(l=>l.chain===n.chain)||a.push(n),e.set(s,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===de.CONNECTOR_ID.AUTH){const s=t,a=s0(fe.state),c=Sr.getSnapshot().themeMode,l=Sr.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:c,themeVariables:l,w3mThemeVariables:Yi(l,c)}),Ce.setConnectors([t])}else Ce.setConnectors([t])},getAuthConnector(t){var r;const e=t||L.state.activeChain,n=ut.connectors.find(s=>s.id===de.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(a=>a.chain===e):n},getAnnouncedConnectorRdns(){return ut.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return ut.allConnectors.find(e=>e.id===t)},getConnector(t,e){return ut.allConnectors.filter(r=>r.chain===L.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var a,c;if(t.id!=="ID_AUTH")return;const e=t,n=s0(fe.state),r=Sr.getSnapshot().themeMode,s=Sr.getSnapshot().themeVariables;(c=(a=e==null?void 0:e.provider)==null?void 0:a.syncDappData)==null||c.call(a,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Yi(s,r)})},getConnectorsByNamespace(t){const e=ut.allConnectors.filter(n=>n.chain===t);return Ce.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Ce.getConnector(t.id,t.rdns);hM.handleMobileDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?ct.push("ConnectingExternal",{connector:e}):ct.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Ce.getConnectorsByNamespace(t):Ce.mergeMultiChainConnectors(ut.allConnectors)},setFilterByNamespace(t){ut.filterByNamespace=t,ut.connectors=Ce.getConnectors(t),Me.setFilterByNamespace(t)},setConnectorId(t,e){t&&(ut.activeConnectorIds={...ut.activeConnectorIds,[e]:t},ye.setConnectedConnectorId(e,t))},removeConnectorId(t){ut.activeConnectorIds={...ut.activeConnectorIds,[t]:void 0},ye.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return ut.activeConnectorIds[t]},isConnected(t){return t?!!ut.activeConnectorIds[t]:Object.values(ut.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){ut.activeConnectorIds={...E9}}},Ce=ys(AM);function xp(t,e){return Ce.getConnectorId(t)===e}function SM(t){const e=Array.from(L.state.chains.keys());let n=[];return t?(n.push([t,L.state.chains.get(t)]),xp(t,de.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&xp(r,de.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,L.state.chains.get(r)])}):xp(t,de.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&xp(r,de.CONNECTOR_ID.AUTH)&&n.push([r,L.state.chains.get(r)])})):n=Array.from(L.state.chains.entries()),n}var Pp={exports:{}},Y_;function TM(){if(Y_)return Pp.exports;Y_=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(N,A,R){return Function.prototype.apply.call(N,A,R)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:n=function(N){return Object.getOwnPropertyNames(N)};function r(x){console&&console.warn&&console.warn(x)}var s=Number.isNaN||function(N){return N!==N};function a(){a.init.call(this)}Pp.exports=a,Pp.exports.once=T,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(x){if(typeof x!="number"||x<0||s(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");c=x}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function u(x){return x._maxListeners===void 0?a.defaultMaxListeners:x._maxListeners}a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(N){for(var A=[],R=1;R<arguments.length;R++)A.push(arguments[R]);var k=N==="error",M=this._events;if(M!==void 0)k=k&&M.error===void 0;else if(!k)return!1;if(k){var z;if(A.length>0&&(z=A[0]),z instanceof Error)throw z;var H=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw H.context=z,H}var X=M[N];if(X===void 0)return!1;if(typeof X=="function")e(X,this,A);else for(var ie=X.length,W=E(X,ie),R=0;R<ie;++R)e(W[R],this,A);return!0};function d(x,N,A,R){var k,M,z;if(l(A),M=x._events,M===void 0?(M=x._events=Object.create(null),x._eventsCount=0):(M.newListener!==void 0&&(x.emit("newListener",N,A.listener?A.listener:A),M=x._events),z=M[N]),z===void 0)z=M[N]=A,++x._eventsCount;else if(typeof z=="function"?z=M[N]=R?[A,z]:[z,A]:R?z.unshift(A):z.push(A),k=u(x),k>0&&z.length>k&&!z.warned){z.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=x,H.type=N,H.count=z.length,r(H)}return x}a.prototype.addListener=function(N,A){return d(this,N,A,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(N,A){return d(this,N,A,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(x,N,A){var R={fired:!1,wrapFn:void 0,target:x,type:N,listener:A},k=p.bind(R);return k.listener=A,R.wrapFn=k,k}a.prototype.once=function(N,A){return l(A),this.on(N,g(this,N,A)),this},a.prototype.prependOnceListener=function(N,A){return l(A),this.prependListener(N,g(this,N,A)),this},a.prototype.removeListener=function(N,A){var R,k,M,z,H;if(l(A),k=this._events,k===void 0)return this;if(R=k[N],R===void 0)return this;if(R===A||R.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete k[N],k.removeListener&&this.emit("removeListener",N,R.listener||A));else if(typeof R!="function"){for(M=-1,z=R.length-1;z>=0;z--)if(R[z]===A||R[z].listener===A){H=R[z].listener,M=z;break}if(M<0)return this;M===0?R.shift():v(R,M),R.length===1&&(k[N]=R[0]),k.removeListener!==void 0&&this.emit("removeListener",N,H||A)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(N){var A,R,k;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[N]),this;if(arguments.length===0){var M=Object.keys(R),z;for(k=0;k<M.length;++k)z=M[k],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=R[N],typeof A=="function")this.removeListener(N,A);else if(A!==void 0)for(k=A.length-1;k>=0;k--)this.removeListener(N,A[k]);return this};function b(x,N,A){var R=x._events;if(R===void 0)return[];var k=R[N];return k===void 0?[]:typeof k=="function"?A?[k.listener||k]:[k]:A?_(k):E(k,k.length)}a.prototype.listeners=function(N){return b(this,N,!0)},a.prototype.rawListeners=function(N){return b(this,N,!1)},a.listenerCount=function(x,N){return typeof x.listenerCount=="function"?x.listenerCount(N):w.call(x,N)},a.prototype.listenerCount=w;function w(x){var N=this._events;if(N!==void 0){var A=N[x];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function E(x,N){for(var A=new Array(N),R=0;R<N;++R)A[R]=x[R];return A}function v(x,N){for(;N+1<x.length;N++)x[N]=x[N+1];x.pop()}function _(x){for(var N=new Array(x.length),A=0;A<N.length;++A)N[A]=x[A].listener||x[A];return N}function T(x,N){return new Promise(function(A,R){function k(z){x.removeListener(N,M),R(z)}function M(){typeof x.removeListener=="function"&&x.removeListener("error",k),A([].slice.call(arguments))}I(x,N,M,{once:!0}),N!=="error"&&S(x,k,{once:!0})})}function S(x,N,A){typeof x.on=="function"&&I(x,"error",N,A)}function I(x,N,A,R){if(typeof x.on=="function")R.once?x.once(N,A):x.on(N,A);else if(typeof x.addEventListener=="function")x.addEventListener(N,function k(M){R.once&&x.removeEventListener(N,k),A(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return Pp.exports}var ws=TM();const ww=Dl(ws);var m5={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xy=function(t,e){return Xy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Xy(t,e)};function NM(t,e){Xy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Jy=function(){return Jy=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jy.apply(this,arguments)};function OM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IM(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(a=(s<3?c(a):s>3?c(e,n,a):c(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function RM(t,e){return function(n,r){e(n,r,t)}}function xM(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function PM(t,e,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(p){try{d(r.next(p))}catch(g){c(g)}}function u(p){try{d(r.throw(p))}catch(g){c(g)}}function d(p){p.done?a(p.value):s(p.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}function DM(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(p){return u([d,p])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(p){d=[6,p],s=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function $M(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function UM(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function e6(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _9(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){c={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function MM(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_9(arguments[e]));return t}function kM(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],c=0,l=a.length;c<l;c++,s++)r[s]=a[c];return r}function o0(t){return this instanceof o0?(this.v=t,this):new o0(t)}function BM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(b){r[b]&&(s[b]=function(w){return new Promise(function(E,v){a.push([b,w,E,v])>1||l(b,w)})})}function l(b,w){try{u(r[b](w))}catch(E){g(a[0][3],E)}}function u(b){b.value instanceof o0?Promise.resolve(b.value.v).then(d,p):g(a[0][2],b)}function d(b){l("next",b)}function p(b){l("throw",b)}function g(b,w){b(w),a.shift(),a.length&&l(a[0][0],a[0][1])}}function LM(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(c){return(n=!n)?{value:o0(t[s](c)),done:s==="return"}:a?a(c):c}:a}}function jM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof e6=="function"?e6(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(c){return new Promise(function(l,u){c=t[a](c),s(l,u,c.done,c.value)})}}function s(a,c,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},c)}}function zM(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function FM(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function qM(t){return t&&t.__esModule?t:{default:t}}function HM(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function VM(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const GM=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Jy},__asyncDelegator:LM,__asyncGenerator:BM,__asyncValues:jM,__await:o0,__awaiter:PM,__classPrivateFieldGet:HM,__classPrivateFieldSet:VM,__createBinding:$M,__decorate:IM,__exportStar:UM,__extends:NM,__generator:DM,__importDefault:qM,__importStar:FM,__makeTemplateObject:zM,__metadata:xM,__param:RM,__read:_9,__rest:OM,__spread:MM,__spreadArrays:kM,__values:e6},Symbol.toStringTag,{value:"Module"})),ag=TS(GM);var b5={},Ju={},Z_;function WM(){if(Z_)return Ju;Z_=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Ju.delay=t,Ju}var Lo={},y5={},jo={},Q_;function KM(){return Q_||(Q_=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.ONE_THOUSAND=jo.ONE_HUNDRED=void 0,jo.ONE_HUNDRED=100,jo.ONE_THOUSAND=1e3),jo}var w5={},X_;function YM(){return X_||(X_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(w5)),w5}var J_;function C9(){return J_||(J_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ag;e.__exportStar(KM(),t),e.__exportStar(YM(),t)}(y5)),y5}var e3;function ZM(){if(e3)return Lo;e3=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.fromMiliseconds=Lo.toMiliseconds=void 0;const t=C9();function e(r){return r*t.ONE_THOUSAND}Lo.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Lo.fromMiliseconds=n,Lo}var t3;function QM(){return t3||(t3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ag;e.__exportStar(WM(),t),e.__exportStar(ZM(),t)}(b5)),b5}var Tf={},n3;function XM(){if(n3)return Tf;n3=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Tf.Watch=t,Tf.default=t,Tf}var v5={},ed={},r3;function JM(){if(r3)return ed;r3=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.IWatch=void 0;class t{}return ed.IWatch=t,ed}var s3;function ek(){return s3||(s3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),ag.__exportStar(JM(),t)}(v5)),v5}var i3;function tk(){return i3||(i3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ag;e.__exportStar(QM(),t),e.__exportStar(XM(),t),e.__exportStar(ek(),t),e.__exportStar(C9(),t)}(m5)),m5}var ge=tk();class Uc{}let nk=class extends Uc{constructor(e){super()}};const a3=ge.FIVE_SECONDS,Ll={pulse:"heartbeat_pulse"};let rk=class A9 extends nk{constructor(e){super(e),this.events=new ws.EventEmitter,this.interval=a3,this.interval=(e==null?void 0:e.interval)||a3}static async init(e){const n=new A9(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ge.toMiliseconds(this.interval))}pulse(){this.events.emit(Ll.pulse)}};const sk=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ik=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ak=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ok(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ck(t);return}return e}function ck(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Dp(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ak.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(sk.test(t)||ik.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,ok)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function fk(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function An(t,...e){try{return fk(t(...e))}catch(n){return Promise.reject(n)}}function lk(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function uk(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function e1(t){if(lk(t))return String(t);if(uk(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return e1(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const t6="base64:";function dk(t){return typeof t=="string"?t:t6+gk(t)}function hk(t){return typeof t!="string"||!t.startsWith(t6)?t:pk(t.slice(t6.length))}function pk(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function gk(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Er(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function mk(...t){return Er(t.join(":"))}function $p(t){return t=Er(t),t?t+":":""}function bk(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function yk(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const wk="memory",vk=()=>{const t=new Map;return{name:wk,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Ek(t={}){const e={mounts:{"":t.driver||vk()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=d=>{for(const p of e.mountpoints)if(d.startsWith(p))return{base:p,relativeKey:d.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:d,driver:e.mounts[""]}},r=(d,p)=>e.mountpoints.filter(g=>g.startsWith(d)||p&&d.startsWith(g)).map(g=>({relativeBase:d.length>g.length?d.slice(g.length):void 0,mountpoint:g,driver:e.mounts[g]})),s=(d,p)=>{if(e.watching){p=Er(p);for(const g of e.watchListeners)g(d,p)}},a=async()=>{if(!e.watching){e.watching=!0;for(const d in e.mounts)e.unwatch[d]=await o3(e.mounts[d],s,d)}},c=async()=>{if(e.watching){for(const d in e.unwatch)await e.unwatch[d]();e.unwatch={},e.watching=!1}},l=(d,p,g)=>{const b=new Map,w=E=>{let v=b.get(E.base);return v||(v={driver:E.driver,base:E.base,items:[]},b.set(E.base,v)),v};for(const E of d){const v=typeof E=="string",_=Er(v?E:E.key),T=v?void 0:E.value,S=v||!E.options?p:{...p,...E.options},I=n(_);w(I).items.push({key:_,value:T,relativeKey:I.relativeKey,options:S})}return Promise.all([...b.values()].map(E=>g(E))).then(E=>E.flat())},u={hasItem(d,p={}){d=Er(d);const{relativeKey:g,driver:b}=n(d);return An(b.hasItem,g,p)},getItem(d,p={}){d=Er(d);const{relativeKey:g,driver:b}=n(d);return An(b.getItem,g,p).then(w=>Dp(w))},getItems(d,p={}){return l(d,p,g=>g.driver.getItems?An(g.driver.getItems,g.items.map(b=>({key:b.relativeKey,options:b.options})),p).then(b=>b.map(w=>({key:mk(g.base,w.key),value:Dp(w.value)}))):Promise.all(g.items.map(b=>An(g.driver.getItem,b.relativeKey,b.options).then(w=>({key:b.key,value:Dp(w)})))))},getItemRaw(d,p={}){d=Er(d);const{relativeKey:g,driver:b}=n(d);return b.getItemRaw?An(b.getItemRaw,g,p):An(b.getItem,g,p).then(w=>hk(w))},async setItem(d,p,g={}){if(p===void 0)return u.removeItem(d);d=Er(d);const{relativeKey:b,driver:w}=n(d);w.setItem&&(await An(w.setItem,b,e1(p),g),w.watch||s("update",d))},async setItems(d,p){await l(d,p,async g=>{if(g.driver.setItems)return An(g.driver.setItems,g.items.map(b=>({key:b.relativeKey,value:e1(b.value),options:b.options})),p);g.driver.setItem&&await Promise.all(g.items.map(b=>An(g.driver.setItem,b.relativeKey,e1(b.value),b.options)))})},async setItemRaw(d,p,g={}){if(p===void 0)return u.removeItem(d,g);d=Er(d);const{relativeKey:b,driver:w}=n(d);if(w.setItemRaw)await An(w.setItemRaw,b,p,g);else if(w.setItem)await An(w.setItem,b,dk(p),g);else return;w.watch||s("update",d)},async removeItem(d,p={}){typeof p=="boolean"&&(p={removeMeta:p}),d=Er(d);const{relativeKey:g,driver:b}=n(d);b.removeItem&&(await An(b.removeItem,g,p),(p.removeMeta||p.removeMata)&&await An(b.removeItem,g+"$",p),b.watch||s("remove",d))},async getMeta(d,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),d=Er(d);const{relativeKey:g,driver:b}=n(d),w=Object.create(null);if(b.getMeta&&Object.assign(w,await An(b.getMeta,g,p)),!p.nativeOnly){const E=await An(b.getItem,g+"$",p).then(v=>Dp(v));E&&typeof E=="object"&&(typeof E.atime=="string"&&(E.atime=new Date(E.atime)),typeof E.mtime=="string"&&(E.mtime=new Date(E.mtime)),Object.assign(w,E))}return w},setMeta(d,p,g={}){return this.setItem(d+"$",p,g)},removeMeta(d,p={}){return this.removeItem(d+"$",p)},async getKeys(d,p={}){var _;d=$p(d);const g=r(d,!0);let b=[];const w=[];let E=!0;for(const T of g){(_=T.driver.flags)!=null&&_.maxDepth||(E=!1);const S=await An(T.driver.getKeys,T.relativeBase,p);for(const I of S){const x=T.mountpoint+Er(I);b.some(N=>x.startsWith(N))||w.push(x)}b=[T.mountpoint,...b.filter(I=>!I.startsWith(T.mountpoint))]}const v=p.maxDepth!==void 0&&!E;return w.filter(T=>(!v||bk(T,p.maxDepth))&&yk(T,d))},async clear(d,p={}){d=$p(d),await Promise.all(r(d,!1).map(async g=>{if(g.driver.clear)return An(g.driver.clear,g.relativeBase,p);if(g.driver.removeItem){const b=await g.driver.getKeys(g.relativeBase||"",p);return Promise.all(b.map(w=>g.driver.removeItem(w,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(d=>c3(d)))},async watch(d){return await a(),e.watchListeners.push(d),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==d),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(d,p){if(d=$p(d),d&&e.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(e.mountpoints.push(d),e.mountpoints.sort((g,b)=>b.length-g.length)),e.mounts[d]=p,e.watching&&Promise.resolve(o3(p,s,d)).then(g=>{e.unwatch[d]=g}).catch(console.error),u},async unmount(d,p=!0){var g,b;d=$p(d),!(!d||!e.mounts[d])&&(e.watching&&d in e.unwatch&&((b=(g=e.unwatch)[d])==null||b.call(g),delete e.unwatch[d]),p&&await c3(e.mounts[d]),e.mountpoints=e.mountpoints.filter(w=>w!==d),delete e.mounts[d])},getMount(d=""){d=Er(d)+":";const p=n(d);return{driver:p.driver,base:p.base}},getMounts(d="",p={}){return d=Er(d),r(d,p.parents).map(b=>({driver:b.driver,base:b.mountpoint}))},keys:(d,p={})=>u.getKeys(d,p),get:(d,p={})=>u.getItem(d,p),set:(d,p,g={})=>u.setItem(d,p,g),has:(d,p={})=>u.hasItem(d,p),del:(d,p={})=>u.removeItem(d,p),remove:(d,p={})=>u.removeItem(d,p)};return u}function o3(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function c3(t){typeof t.dispose=="function"&&await An(t.dispose)}function Mc(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function S9(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=Mc(s),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(s,a)=>r().then(c=>a(c.transaction(e,s).objectStore(e)))}let E5;function q0(){return E5||(E5=S9("keyval-store","keyval")),E5}function f3(t,e=q0()){return e("readonly",n=>Mc(n.get(t)))}function _k(t,e,n=q0()){return n("readwrite",r=>(r.put(e,t),Mc(r.transaction)))}function Ck(t,e=q0()){return e("readwrite",n=>(n.delete(t),Mc(n.transaction)))}function Ak(t=q0()){return t("readwrite",e=>(e.clear(),Mc(e.transaction)))}function Sk(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Mc(t.transaction)}function Tk(t=q0()){return t("readonly",e=>{if(e.getAllKeys)return Mc(e.getAllKeys());const n=[];return Sk(e,r=>n.push(r.key)).then(()=>n)})}const Nk=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Ok=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function _c(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Ok(t)}catch{return t}}function ta(t){return typeof t=="string"?t:Nk(t)||""}const Ik="idb-keyval";var Rk=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=S9(t.dbName,t.storeName)),{name:Ik,options:t,async hasItem(s){return!(typeof await f3(n(s),r)>"u")},async getItem(s){return await f3(n(s),r)??null},setItem(s,a){return _k(n(s),a,r)},removeItem(s){return Ck(n(s),r)},getKeys(){return Tk(r)},clear(){return Ak(r)}}};const xk="WALLET_CONNECT_V2_INDEXED_DB",Pk="keyvaluestorage";let Dk=class{constructor(){this.indexedDb=Ek({driver:Rk({dbName:xk,storeName:Pk})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,ta(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var _5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t1={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof _5<"u"&&_5.localStorage?t1.exports=_5.localStorage:typeof window<"u"&&window.localStorage?t1.exports=window.localStorage:t1.exports=new e})();function $k(t){var e;return[t[0],_c((e=t[1])!=null?e:"")]}let Uk=class{constructor(){this.localStorage=t1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map($k)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return _c(n)}async setItem(e,n){this.localStorage.setItem(e,ta(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Mk="wc_storage_version",l3=1,kk=async(t,e,n)=>{const r=Mk,s=await e.getItem(r);if(s&&s>=l3){n(e);return}const a=await t.getKeys();if(!a.length){n(e);return}const c=[];for(;a.length;){const l=a.shift();if(!l)continue;const u=l.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const d=await t.getItem(l);await e.setItem(l,d),c.push(l)}}await e.setItem(r,l3),n(e),Bk(t,c)},Bk=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Lk=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Uk;this.storage=e;try{const n=new Dk;kk(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var C5,u3;function jk(){if(u3)return C5;u3=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}C5=e;function e(n,r,s){var a=s&&s.stringify||t,c=1;if(typeof n=="object"&&n!==null){var l=r.length+c;if(l===1)return n;var u=new Array(l);u[0]=a(n);for(var d=1;d<l;d++)u[d]=a(r[d]);return u.join(" ")}if(typeof n!="string")return n;var p=r.length;if(p===0)return n;for(var g="",b=1-c,w=-1,E=n&&n.length||0,v=0;v<E;){if(n.charCodeAt(v)===37&&v+1<E){switch(w=w>-1?w:0,n.charCodeAt(v+1)){case 100:case 102:if(b>=p||r[b]==null)break;w<v&&(g+=n.slice(w,v)),g+=Number(r[b]),w=v+2,v++;break;case 105:if(b>=p||r[b]==null)break;w<v&&(g+=n.slice(w,v)),g+=Math.floor(Number(r[b])),w=v+2,v++;break;case 79:case 111:case 106:if(b>=p||r[b]===void 0)break;w<v&&(g+=n.slice(w,v));var _=typeof r[b];if(_==="string"){g+="'"+r[b]+"'",w=v+2,v++;break}if(_==="function"){g+=r[b].name||"<anonymous>",w=v+2,v++;break}g+=a(r[b]),w=v+2,v++;break;case 115:if(b>=p)break;w<v&&(g+=n.slice(w,v)),g+=String(r[b]),w=v+2,v++;break;case 37:w<v&&(g+=n.slice(w,v)),g+="%",w=v+2,v++,b--;break}++b}++v}return w===-1?n:(w<E&&(g+=n.slice(w)),g)}return C5}var A5,d3;function zk(){if(d3)return A5;d3=1;const t=jk();A5=s;const e=N().console||{},n={mapHttpRequest:E,mapHttpResponse:E,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:E,res:E,err:b};function r(A,R){return Array.isArray(A)?A.filter(function(M){return M!=="!stdSerializers.err"}):A===!0?Object.keys(R):!1}function s(A){A=A||{},A.browser=A.browser||{};const R=A.browser.transmit;if(R&&typeof R.send!="function")throw Error("pino: transmit option must have a send function");const k=A.browser.write||e;A.browser.write&&(A.browser.asObject=!0);const M=A.serializers||{},z=r(A.browser.serialize,M);let H=A.browser.serialize;Array.isArray(A.browser.serialize)&&A.browser.serialize.indexOf("!stdSerializers.err")>-1&&(H=!1);const X=["error","fatal","warn","info","debug","trace"];typeof k=="function"&&(k.error=k.fatal=k.warn=k.info=k.debug=k.trace=k),A.enabled===!1&&(A.level="silent");const ie=A.level||"info",W=Object.create(k);W.log||(W.log=_),Object.defineProperty(W,"levelVal",{get:O}),Object.defineProperty(W,"level",{get:B,set:q});const U={transmit:R,serialize:z,asObject:A.browser.asObject,levels:X,timestamp:w(A)};W.levels=s.levels,W.level=ie,W.setMaxListeners=W.getMaxListeners=W.emit=W.addListener=W.on=W.prependListener=W.once=W.prependOnceListener=W.removeListener=W.removeAllListeners=W.listeners=W.listenerCount=W.eventNames=W.write=W.flush=_,W.serializers=M,W._serialize=z,W._stdErrSerialize=H,W.child=G,R&&(W._logEvent=g());function O(){return this.level==="silent"?1/0:this.levels.values[this.level]}function B(){return this._level}function q(D){if(D!=="silent"&&!this.levels.values[D])throw Error("unknown level "+D);this._level=D,a(U,W,"error","log"),a(U,W,"fatal","error"),a(U,W,"warn","error"),a(U,W,"info","log"),a(U,W,"debug","log"),a(U,W,"trace","log")}function G(D,K){if(!D)throw new Error("missing bindings for child Pino");K=K||{},z&&D.serializers&&(K.serializers=D.serializers);const te=K.serializers;if(z&&te){var ne=Object.assign({},M,te),re=A.browser.serialize===!0?Object.keys(ne):z;delete D.serializers,u([D],re,ne,this._stdErrSerialize)}function le(he){this._childLevel=(he._childLevel|0)+1,this.error=d(he,D,"error"),this.fatal=d(he,D,"fatal"),this.warn=d(he,D,"warn"),this.info=d(he,D,"info"),this.debug=d(he,D,"debug"),this.trace=d(he,D,"trace"),ne&&(this.serializers=ne,this._serialize=re),R&&(this._logEvent=g([].concat(he._logEvent.bindings,D)))}return le.prototype=this,new le(this)}return W}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:T,epochTime:S,unixTime:I,isoTime:x});function a(A,R,k,M){const z=Object.getPrototypeOf(R);R[k]=R.levelVal>R.levels.values[k]?_:z[k]?z[k]:e[k]||e[M]||_,c(A,R,k)}function c(A,R,k){!A.transmit&&R[k]===_||(R[k]=function(M){return function(){const H=A.timestamp(),X=new Array(arguments.length),ie=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var W=0;W<X.length;W++)X[W]=arguments[W];if(A.serialize&&!A.asObject&&u(X,this._serialize,this.serializers,this._stdErrSerialize),A.asObject?M.call(ie,l(this,k,X,H)):M.apply(ie,X),A.transmit){const U=A.transmit.level||R.level,O=s.levels.values[U],B=s.levels.values[k];if(B<O)return;p(this,{ts:H,methodLevel:k,methodValue:B,transmitValue:s.levels.values[A.transmit.level||R.level],send:A.transmit.send,val:R.levelVal},X)}}}(R[k]))}function l(A,R,k,M){A._serialize&&u(k,A._serialize,A.serializers,A._stdErrSerialize);const z=k.slice();let H=z[0];const X={};M&&(X.time=M),X.level=s.levels.values[R];let ie=(A._childLevel|0)+1;if(ie<1&&(ie=1),H!==null&&typeof H=="object"){for(;ie--&&typeof z[0]=="object";)Object.assign(X,z.shift());H=z.length?t(z.shift(),z):void 0}else typeof H=="string"&&(H=t(z.shift(),z));return H!==void 0&&(X.msg=H),X}function u(A,R,k,M){for(const z in A)if(M&&A[z]instanceof Error)A[z]=s.stdSerializers.err(A[z]);else if(typeof A[z]=="object"&&!Array.isArray(A[z]))for(const H in A[z])R&&R.indexOf(H)>-1&&H in k&&(A[z][H]=k[H](A[z][H]))}function d(A,R,k){return function(){const M=new Array(1+arguments.length);M[0]=R;for(var z=1;z<M.length;z++)M[z]=arguments[z-1];return A[k].apply(this,M)}}function p(A,R,k){const M=R.send,z=R.ts,H=R.methodLevel,X=R.methodValue,ie=R.val,W=A._logEvent.bindings;u(k,A._serialize||Object.keys(A.serializers),A.serializers,A._stdErrSerialize===void 0?!0:A._stdErrSerialize),A._logEvent.ts=z,A._logEvent.messages=k.filter(function(U){return W.indexOf(U)===-1}),A._logEvent.level.label=H,A._logEvent.level.value=X,M(H,A._logEvent,ie),A._logEvent=g(W)}function g(A){return{ts:0,messages:[],bindings:A||[],level:{label:"",value:0}}}function b(A){const R={type:A.constructor.name,msg:A.message,stack:A.stack};for(const k in A)R[k]===void 0&&(R[k]=A[k]);return R}function w(A){return typeof A.timestamp=="function"?A.timestamp:A.timestamp===!1?T:S}function E(){return{}}function v(A){return A}function _(){}function T(){return!1}function S(){return Date.now()}function I(){return Math.round(Date.now()/1e3)}function x(){return new Date(Date.now()).toISOString()}function N(){function A(R){return typeof R<"u"&&R}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return A(self)||A(window)||A(this)||{}}}return A5}var Vf=zk();const H0=Dl(Vf),Fk={level:"info"},V0="custom_context",vw=1e3*1024;let qk=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},h3=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new qk(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},T9=class{constructor(e,n=vw){this.level=e??"error",this.levelValue=Vf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new h3(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Vf.levels.values.error?console.error(e):n===Vf.levels.values.warn?console.warn(e):n===Vf.levels.values.debug?console.debug(e):n===Vf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(ta({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new h3(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(ta({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Hk=class{constructor(e,n=vw){this.baseChunkLogger=new T9(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Vk=class{constructor(e,n=vw){this.baseChunkLogger=new T9(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Gk=Object.defineProperty,Wk=Object.defineProperties,Kk=Object.getOwnPropertyDescriptors,p3=Object.getOwnPropertySymbols,Yk=Object.prototype.hasOwnProperty,Zk=Object.prototype.propertyIsEnumerable,g3=(t,e,n)=>e in t?Gk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T1=(t,e)=>{for(var n in e||(e={}))Yk.call(e,n)&&g3(t,n,e[n]);if(p3)for(var n of p3(e))Zk.call(e,n)&&g3(t,n,e[n]);return t},N1=(t,e)=>Wk(t,Kk(e));function jl(t){return N1(T1({},t),{level:(t==null?void 0:t.level)||Fk.level})}function Qk(t,e=V0){return t[e]||""}function Xk(t,e,n=V0){return t[n]=e,t}function xr(t,e=V0){let n="";return typeof t.bindings>"u"?n=Qk(t,e):n=t.bindings().context||"",n}function Jk(t,e,n=V0){const r=xr(t,n);return r.trim()?`${r}/${e}`:e}function Xn(t,e,n=V0){const r=Jk(t,e,n),s=t.child({context:r});return Xk(s,r,n)}function eB(t){var e,n;const r=new Hk((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:H0(N1(T1({},t.opts),{level:"trace",browser:N1(T1({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function tB(t){var e;const n=new Vk((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:H0(N1(T1({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function Ew(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?eB(t):tB(t)}var nB=Object.defineProperty,rB=(t,e,n)=>e in t?nB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m3=(t,e,n)=>rB(t,typeof e!="symbol"?e+"":e,n);let sB=class extends Uc{constructor(e){super(),this.opts=e,m3(this,"protocol","wc"),m3(this,"version",2)}};var iB=Object.defineProperty,aB=(t,e,n)=>e in t?iB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oB=(t,e,n)=>aB(t,e+"",n);let cB=class extends Uc{constructor(e,n){super(),this.core=e,this.logger=n,oB(this,"records",new Map)}},fB=class{constructor(e,n){this.logger=e,this.core=n}},lB=class extends Uc{constructor(e,n){super(),this.relayer=e,this.logger=n}},uB=class extends Uc{constructor(e){super()}},dB=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},hB=class extends Uc{constructor(e,n){super(),this.relayer=e,this.logger=n}},pB=class extends Uc{constructor(e,n){super(),this.core=e,this.logger=n}},gB=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},mB=class{constructor(e,n){this.projectId=e,this.logger=n}},bB=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var yB=Object.defineProperty,wB=(t,e,n)=>e in t?yB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b3=(t,e,n)=>wB(t,typeof e!="symbol"?e+"":e,n);let vB=class{constructor(e){this.opts=e,b3(this,"protocol","wc"),b3(this,"version",2)}},EB=class{constructor(e){this.client=e}};function _B(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function N9(t,...e){if(!_B(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function y3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function CB(t,e){N9(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Nf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function AB(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function O9(t){return typeof t=="string"&&(t=AB(t)),N9(t),t}let SB=class{clone(){return this._cloneInto()}};function TB(t){const e=r=>t().update(O9(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function I9(t=32){if(Nf&&typeof Nf.getRandomValues=="function")return Nf.getRandomValues(new Uint8Array(t));if(Nf&&typeof Nf.randomBytes=="function")return Nf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function NB(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),l=Number(n&a),u=r?4:0,d=r?0:4;t.setUint32(e+u,c,r),t.setUint32(e+d,l,r)}let OB=class extends SB{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=S5(this.buffer)}update(e){y3(this);const{view:n,buffer:r,blockLen:s}=this;e=O9(e);const a=e.length;for(let c=0;c<a;){const l=Math.min(s-this.pos,a-c);if(l===s){const u=S5(e);for(;s<=a-c;c+=s)this.process(u,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){y3(this),CB(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;NB(r,s-8,BigInt(this.length*8),a),this.process(r,0);const l=S5(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<d;g++)l.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:l}=this;return e.length=s,e.pos=l,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}};const Up=BigInt(2**32-1),n6=BigInt(32);function R9(t,e=!1){return e?{h:Number(t&Up),l:Number(t>>n6&Up)}:{h:Number(t>>n6&Up)|0,l:Number(t&Up)|0}}function IB(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=R9(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const RB=(t,e)=>BigInt(t>>>0)<<n6|BigInt(e>>>0),xB=(t,e,n)=>t>>>n,PB=(t,e,n)=>t<<32-n|e>>>n,DB=(t,e,n)=>t>>>n|e<<32-n,$B=(t,e,n)=>t<<32-n|e>>>n,UB=(t,e,n)=>t<<64-n|e>>>n-32,MB=(t,e,n)=>t>>>n-32|e<<64-n,kB=(t,e)=>e,BB=(t,e)=>t,LB=(t,e,n)=>t<<n|e>>>32-n,jB=(t,e,n)=>e<<n|t>>>32-n,zB=(t,e,n)=>e<<n-32|t>>>64-n,FB=(t,e,n)=>t<<n-32|e>>>64-n;function qB(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const HB=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),VB=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,GB=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),WB=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,KB=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),YB=(t,e,n,r,s,a)=>e+n+r+s+a+(t/2**32|0)|0,Ze={fromBig:R9,split:IB,toBig:RB,shrSH:xB,shrSL:PB,rotrSH:DB,rotrSL:$B,rotrBH:UB,rotrBL:MB,rotr32H:kB,rotr32L:BB,rotlSH:LB,rotlSL:jB,rotlBH:zB,rotlBL:FB,add:qB,add3L:HB,add3H:VB,add4L:GB,add4H:WB,add5H:YB,add5L:KB},[ZB,QB]=Ze.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ma=new Uint32Array(80),ka=new Uint32Array(80);let XB=class extends OB{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:g,Fl:b,Gh:w,Gl:E,Hh:v,Hl:_}=this;return[e,n,r,s,a,c,l,u,d,p,g,b,w,E,v,_]}set(e,n,r,s,a,c,l,u,d,p,g,b,w,E,v,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=a|0,this.Cl=c|0,this.Dh=l|0,this.Dl=u|0,this.Eh=d|0,this.El=p|0,this.Fh=g|0,this.Fl=b|0,this.Gh=w|0,this.Gl=E|0,this.Hh=v|0,this.Hl=_|0}process(e,n){for(let I=0;I<16;I++,n+=4)Ma[I]=e.getUint32(n),ka[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const x=Ma[I-15]|0,N=ka[I-15]|0,A=Ze.rotrSH(x,N,1)^Ze.rotrSH(x,N,8)^Ze.shrSH(x,N,7),R=Ze.rotrSL(x,N,1)^Ze.rotrSL(x,N,8)^Ze.shrSL(x,N,7),k=Ma[I-2]|0,M=ka[I-2]|0,z=Ze.rotrSH(k,M,19)^Ze.rotrBH(k,M,61)^Ze.shrSH(k,M,6),H=Ze.rotrSL(k,M,19)^Ze.rotrBL(k,M,61)^Ze.shrSL(k,M,6),X=Ze.add4L(R,H,ka[I-7],ka[I-16]),ie=Ze.add4H(X,A,z,Ma[I-7],Ma[I-16]);Ma[I]=ie|0,ka[I]=X|0}let{Ah:r,Al:s,Bh:a,Bl:c,Ch:l,Cl:u,Dh:d,Dl:p,Eh:g,El:b,Fh:w,Fl:E,Gh:v,Gl:_,Hh:T,Hl:S}=this;for(let I=0;I<80;I++){const x=Ze.rotrSH(g,b,14)^Ze.rotrSH(g,b,18)^Ze.rotrBH(g,b,41),N=Ze.rotrSL(g,b,14)^Ze.rotrSL(g,b,18)^Ze.rotrBL(g,b,41),A=g&w^~g&v,R=b&E^~b&_,k=Ze.add5L(S,N,R,QB[I],ka[I]),M=Ze.add5H(k,T,x,A,ZB[I],Ma[I]),z=k|0,H=Ze.rotrSH(r,s,28)^Ze.rotrBH(r,s,34)^Ze.rotrBH(r,s,39),X=Ze.rotrSL(r,s,28)^Ze.rotrBL(r,s,34)^Ze.rotrBL(r,s,39),ie=r&a^r&l^a&l,W=s&c^s&u^c&u;T=v|0,S=_|0,v=w|0,_=E|0,w=g|0,E=b|0,{h:g,l:b}=Ze.add(d|0,p|0,M|0,z|0),d=l|0,p=u|0,l=a|0,u=c|0,a=r|0,c=s|0;const U=Ze.add3L(z,X,W);r=Ze.add3H(U,M,H,ie),s=U|0}({h:r,l:s}=Ze.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:a,l:c}=Ze.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:l,l:u}=Ze.add(this.Ch|0,this.Cl|0,l|0,u|0),{h:d,l:p}=Ze.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:g,l:b}=Ze.add(this.Eh|0,this.El|0,g|0,b|0),{h:w,l:E}=Ze.add(this.Fh|0,this.Fl|0,w|0,E|0),{h:v,l:_}=Ze.add(this.Gh|0,this.Gl|0,v|0,_|0),{h:T,l:S}=Ze.add(this.Hh|0,this.Hl|0,T|0,S|0),this.set(r,s,a,c,l,u,d,p,g,b,w,E,v,_,T,S)}roundClean(){Ma.fill(0),ka.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const JB=TB(()=>new XB);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _w=BigInt(0),x9=BigInt(1),eL=BigInt(2);function Cw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Aw(t){if(!Cw(t))throw new Error("Uint8Array expected")}function T5(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const tL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sw(t){Aw(t);let e="";for(let n=0;n<t.length;n++)e+=tL[t[n]];return e}function P9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_w:BigInt("0x"+t)}const Mi={_0:48,_9:57,A:65,F:70,a:97,f:102};function w3(t){if(t>=Mi._0&&t<=Mi._9)return t-Mi._0;if(t>=Mi.A&&t<=Mi.F)return t-(Mi.A-10);if(t>=Mi.a&&t<=Mi.f)return t-(Mi.a-10)}function D9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const c=w3(t.charCodeAt(a)),l=w3(t.charCodeAt(a+1));if(c===void 0||l===void 0){const u=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}r[s]=c*16+l}return r}function nL(t){return P9(Sw(t))}function n1(t){return Aw(t),P9(Sw(Uint8Array.from(t).reverse()))}function $9(t,e){return D9(t.toString(16).padStart(e*2,"0"))}function r6(t,e){return $9(t,e).reverse()}function ki(t,e,n){let r;if(typeof e=="string")try{r=D9(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(Cw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function v3(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Aw(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}const N5=t=>typeof t=="bigint"&&_w<=t;function rL(t,e,n){return N5(t)&&N5(e)&&N5(n)&&e<=t&&t<n}function td(t,e,n,r){if(!rL(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function sL(t){let e;for(e=0;t>_w;t>>=x9,e+=1);return e}const iL=t=>(eL<<BigInt(t-1))-x9,aL={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Cw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Tw(t,e,n={}){const r=(s,a,c)=>{const l=aL[a];if(typeof l!="function")throw new Error("invalid validator function");const u=t[s];if(!(c&&u===void 0)&&!l(u,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+u)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}function E3(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}const In=BigInt(0),Jt=BigInt(1),Wo=BigInt(2),oL=BigInt(3),s6=BigInt(4),_3=BigInt(5),C3=BigInt(8);function gn(t,e){const n=t%e;return n>=In?n:e+n}function cL(t,e,n){if(e<In)throw new Error("invalid exponent, negatives unsupported");if(n<=In)throw new Error("invalid modulus");if(n===Jt)return In;let r=Jt;for(;e>In;)e&Jt&&(r=r*t%n),t=t*t%n,e>>=Jt;return r}function Zs(t,e,n){let r=t;for(;e-- >In;)r*=r,r%=n;return r}function A3(t,e){if(t===In)throw new Error("invert: expected non-zero number");if(e<=In)throw new Error("invert: expected positive modulus, got "+e);let n=gn(t,e),r=e,s=In,a=Jt;for(;n!==In;){const c=r/n,l=r%n,u=s-a*c;r=n,n=l,s=a,a=u}if(r!==Jt)throw new Error("invert: does not exist");return gn(s,e)}function fL(t){const e=(t-Jt)/Wo;let n,r,s;for(n=t-Jt,r=0;n%Wo===In;n/=Wo,r++);for(s=Wo;s<t&&cL(s,e,t)!==t-Jt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(t+Jt)/s6;return function(l,u){const d=l.pow(u,c);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const a=(n+Jt)/Wo;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,d=c.pow(c.mul(c.ONE,s),n),p=c.pow(l,a),g=c.pow(l,n);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let b=1;for(let E=c.sqr(g);b<u&&!c.eql(E,c.ONE);b++)E=c.sqr(E);const w=c.pow(d,Jt<<BigInt(u-b-1));d=c.sqr(w),p=c.mul(p,w),g=c.mul(g,d),u=b}return p}}function lL(t){if(t%s6===oL){const e=(t+Jt)/s6;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%C3===_3){const e=(t-_3)/C3;return function(n,r){const s=n.mul(r,Wo),a=n.pow(s,e),c=n.mul(r,a),l=n.mul(n.mul(c,Wo),a),u=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return fL(t)}const uL=(t,e)=>(gn(t,e)&Jt)===Jt,dL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hL(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=dL.reduce((r,s)=>(r[s]="function",r),e);return Tw(t,n)}function pL(t,e,n){if(n<In)throw new Error("invalid exponent, negatives unsupported");if(n===In)return t.ONE;if(n===Jt)return e;let r=t.ONE,s=e;for(;n>In;)n&Jt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Jt;return r}function gL(t,e){const n=new Array(e.length),r=e.reduce((a,c,l)=>t.is0(c)?a:(n[l]=a,t.mul(a,c)),t.ONE),s=t.inv(r);return e.reduceRight((a,c,l)=>t.is0(c)?a:(n[l]=t.mul(a,n[l]),t.mul(a,c)),s),n}function U9(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function M9(t,e,n=!1,r={}){if(t<=In)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=U9(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:iL(s),ZERO:In,ONE:Jt,create:u=>gn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return In<=u&&u<t},is0:u=>u===In,isOdd:u=>(u&Jt)===Jt,neg:u=>gn(-u,t),eql:(u,d)=>u===d,sqr:u=>gn(u*u,t),add:(u,d)=>gn(u+d,t),sub:(u,d)=>gn(u-d,t),mul:(u,d)=>gn(u*d,t),pow:(u,d)=>pL(l,u,d),div:(u,d)=>gn(u*A3(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>A3(u,t),sqrt:r.sqrt||(u=>(c||(c=lL(t)),c(l,u))),invertBatch:u=>gL(l,u),cmov:(u,d,p)=>p?d:u,toBytes:u=>n?r6(u,a):$9(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?n1(u):nL(u)}});return Object.freeze(l)}const S3=BigInt(0),Mp=BigInt(1);function O5(t,e){const n=e.negate();return t?n:e}function k9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function I5(t,e){k9(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function mL(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function bL(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const R5=new WeakMap,B9=new WeakMap;function x5(t){return B9.get(t)||1}function yL(t,e){return{constTimeNegate:O5,hasPrecomputes(n){return x5(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>S3;)r&Mp&&(s=s.add(a)),a=a.double(),r>>=Mp;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=I5(r,e),c=[];let l=n,u=l;for(let d=0;d<s;d++){u=l,c.push(u);for(let p=1;p<a;p++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(n,r,s){const{windows:a,windowSize:c}=I5(n,e);let l=t.ZERO,u=t.BASE;const d=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let b=0;b<a;b++){const w=b*c;let E=Number(s&d);s>>=g,E>c&&(E-=p,s+=Mp);const v=w,_=w+Math.abs(E)-1,T=b%2!==0,S=E<0;E===0?u=u.add(O5(T,r[v])):l=l.add(O5(S,r[_]))}return{p:l,f:u}},wNAFUnsafe(n,r,s,a=t.ZERO){const{windows:c,windowSize:l}=I5(n,e),u=BigInt(2**n-1),d=2**n,p=BigInt(n);for(let g=0;g<c;g++){const b=g*l;if(s===S3)break;let w=Number(s&u);if(s>>=p,w>l&&(w-=d,s+=Mp),w===0)continue;let E=r[b+Math.abs(w)-1];w<0&&(E=E.negate()),a=a.add(E)}return a},getPrecomputes(n,r,s){let a=R5.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&R5.set(r,s(a))),a},wNAFCached(n,r,s){const a=x5(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const c=x5(n);return c===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,a)},setWindowSize(n,r){k9(r,e),B9.set(n,r),R5.delete(n)}}}function wL(t,e,n,r){if(mL(n,t),bL(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=sL(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,l=(1<<c)-1,u=new Array(l+1).fill(s),d=Math.floor((e.BITS-1)/c)*c;let p=s;for(let g=d;g>=0;g-=c){u.fill(s);for(let w=0;w<r.length;w++){const E=r[w],v=Number(E>>BigInt(g)&BigInt(l));u[v]=u[v].add(n[w])}let b=s;for(let w=u.length-1,E=s;w>0;w--)E=E.add(u[w]),b=b.add(E);if(p=p.add(b),g!==0)for(let w=0;w<c;w++)p=p.double()}return p}function vL(t){return hL(t.Fp),Tw(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...U9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ss=BigInt(0),mr=BigInt(1),kp=BigInt(2),EL=BigInt(8),_L={zip215:!0};function CL(t){const e=vL(t);return Tw(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function AL(t){const e=CL(t),{Fp:n,n:r,prehash:s,hash:a,randomBytes:c,nByteLength:l,h:u}=e,d=kp<<BigInt(l*8)-mr,p=n.create,g=M9(e.n,e.nBitLength),b=e.uvRatio||((U,O)=>{try{return{isValid:!0,value:n.sqrt(U*n.inv(O))}}catch{return{isValid:!1,value:Ss}}}),w=e.adjustScalarBytes||(U=>U),E=e.domain||((U,O,B)=>{if(T5("phflag",B),O.length||B)throw new Error("Contexts/pre-hash are not supported");return U});function v(U,O){td("coordinate "+U,O,Ss,d)}function _(U){if(!(U instanceof I))throw new Error("ExtendedPoint expected")}const T=E3((U,O)=>{const{ex:B,ey:q,ez:G}=U,D=U.is0();O==null&&(O=D?EL:n.inv(G));const K=p(B*O),te=p(q*O),ne=p(G*O);if(D)return{x:Ss,y:mr};if(ne!==mr)throw new Error("invZ was invalid");return{x:K,y:te}}),S=E3(U=>{const{a:O,d:B}=e;if(U.is0())throw new Error("bad point: ZERO");const{ex:q,ey:G,ez:D,et:K}=U,te=p(q*q),ne=p(G*G),re=p(D*D),le=p(re*re),he=p(te*O),Ke=p(re*p(he+ne)),Ie=p(le+p(B*p(te*ne)));if(Ke!==Ie)throw new Error("bad point: equation left != right (1)");const Ge=p(q*G),nn=p(D*K);if(Ge!==nn)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(O,B,q,G){this.ex=O,this.ey=B,this.ez=q,this.et=G,v("x",O),v("y",B),v("z",q),v("t",G),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(O){if(O instanceof I)throw new Error("extended point not allowed");const{x:B,y:q}=O||{};return v("x",B),v("y",q),new I(B,q,mr,p(B*q))}static normalizeZ(O){const B=n.invertBatch(O.map(q=>q.ez));return O.map((q,G)=>q.toAffine(B[G])).map(I.fromAffine)}static msm(O,B){return wL(I,g,O,B)}_setWindowSize(O){A.setWindowSize(this,O)}assertValidity(){S(this)}equals(O){_(O);const{ex:B,ey:q,ez:G}=this,{ex:D,ey:K,ez:te}=O,ne=p(B*te),re=p(D*G),le=p(q*te),he=p(K*G);return ne===re&&le===he}is0(){return this.equals(I.ZERO)}negate(){return new I(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:O}=e,{ex:B,ey:q,ez:G}=this,D=p(B*B),K=p(q*q),te=p(kp*p(G*G)),ne=p(O*D),re=B+q,le=p(p(re*re)-D-K),he=ne+K,Ke=he-te,Ie=ne-K,Ge=p(le*Ke),nn=p(he*Ie),Gt=p(le*Ie),fn=p(Ke*he);return new I(Ge,nn,fn,Gt)}add(O){_(O);const{a:B,d:q}=e,{ex:G,ey:D,ez:K,et:te}=this,{ex:ne,ey:re,ez:le,et:he}=O;if(B===BigInt(-1)){const Wl=p((D-G)*(re+ne)),Kl=p((D+G)*(re-ne)),aa=p(Kl-Wl);if(aa===Ss)return this.double();const ih=p(K*kp*he),Yl=p(te*kp*le),ah=Yl+ih,oh=Kl+Wl,oa=Yl-ih,Jn=p(ah*aa),qs=p(oh*oa),er=p(ah*oa),Ng=p(aa*oh);return new I(Jn,qs,Ng,er)}const Ke=p(G*ne),Ie=p(D*re),Ge=p(te*q*he),nn=p(K*le),Gt=p((G+D)*(ne+re)-Ke-Ie),fn=nn-Ge,qn=nn+Ge,Hn=p(Ie-B*Ke),ia=p(Gt*fn),Sg=p(qn*Hn),Qr=p(Gt*Hn),Tg=p(fn*qn);return new I(ia,Sg,Tg,Qr)}subtract(O){return this.add(O.negate())}wNAF(O){return A.wNAFCached(this,O,I.normalizeZ)}multiply(O){const B=O;td("scalar",B,mr,r);const{p:q,f:G}=this.wNAF(B);return I.normalizeZ([q,G])[0]}multiplyUnsafe(O,B=I.ZERO){const q=O;return td("scalar",q,Ss,r),q===Ss?N:this.is0()||q===mr?this:A.wNAFCachedUnsafe(this,q,I.normalizeZ,B)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(O){return T(this,O)}clearCofactor(){const{h:O}=e;return O===mr?this:this.multiplyUnsafe(O)}static fromHex(O,B=!1){const{d:q,a:G}=e,D=n.BYTES;O=ki("pointHex",O,D),T5("zip215",B);const K=O.slice(),te=O[D-1];K[D-1]=te&-129;const ne=n1(K),re=B?d:n.ORDER;td("pointHex.y",ne,Ss,re);const le=p(ne*ne),he=p(le-mr),Ke=p(q*le-G);let{isValid:Ie,value:Ge}=b(he,Ke);if(!Ie)throw new Error("Point.fromHex: invalid y coordinate");const nn=(Ge&mr)===mr,Gt=(te&128)!==0;if(!B&&Ge===Ss&&Gt)throw new Error("Point.fromHex: x=0 and x_0=1");return Gt!==nn&&(Ge=p(-Ge)),I.fromAffine({x:Ge,y:ne})}static fromPrivateKey(O){return M(O).point}toRawBytes(){const{x:O,y:B}=this.toAffine(),q=r6(B,n.BYTES);return q[q.length-1]|=O&mr?128:0,q}toHex(){return Sw(this.toRawBytes())}}I.BASE=new I(e.Gx,e.Gy,mr,p(e.Gx*e.Gy)),I.ZERO=new I(Ss,mr,mr,Ss);const{BASE:x,ZERO:N}=I,A=yL(I,l*8);function R(U){return gn(U,r)}function k(U){return R(n1(U))}function M(U){const O=n.BYTES;U=ki("private key",U,O);const B=ki("hashed private key",a(U),2*O),q=w(B.slice(0,O)),G=B.slice(O,2*O),D=k(q),K=x.multiply(D),te=K.toRawBytes();return{head:q,prefix:G,scalar:D,point:K,pointBytes:te}}function z(U){return M(U).pointBytes}function H(U=new Uint8Array,...O){const B=v3(...O);return k(a(E(B,ki("context",U),!!s)))}function X(U,O,B={}){U=ki("message",U),s&&(U=s(U));const{prefix:q,scalar:G,pointBytes:D}=M(O),K=H(B.context,q,U),te=x.multiply(K).toRawBytes(),ne=H(B.context,te,D,U),re=R(K+ne*G);td("signature.s",re,Ss,r);const le=v3(te,r6(re,n.BYTES));return ki("result",le,n.BYTES*2)}const ie=_L;function W(U,O,B,q=ie){const{context:G,zip215:D}=q,K=n.BYTES;U=ki("signature",U,2*K),O=ki("message",O),B=ki("publicKey",B,K),D!==void 0&&T5("zip215",D),s&&(O=s(O));const te=n1(U.slice(K,2*K));let ne,re,le;try{ne=I.fromHex(B,D),re=I.fromHex(U.slice(0,K),D),le=x.multiplyUnsafe(te)}catch{return!1}if(!D&&ne.isSmallOrder())return!1;const he=H(G,re.toRawBytes(),ne.toRawBytes(),O);return re.add(ne.multiplyUnsafe(he)).subtract(le).clearCofactor().equals(I.ZERO)}return x._setWindowSize(8),{CURVE:e,getPublicKey:z,sign:X,verify:W,ExtendedPoint:I,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>c(n.BYTES),precompute(U=8,O=I.BASE){return O._setWindowSize(U),O.multiply(BigInt(3)),O}}}}BigInt(0),BigInt(1);const Nw=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),T3=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const SL=BigInt(1),N3=BigInt(2);BigInt(3);const TL=BigInt(5),NL=BigInt(8);function OL(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),a=Nw,c=t*t%a*t%a,l=Zs(c,N3,a)*c%a,u=Zs(l,SL,a)*t%a,d=Zs(u,TL,a)*u%a,p=Zs(d,e,a)*d%a,g=Zs(p,n,a)*p%a,b=Zs(g,r,a)*g%a,w=Zs(b,s,a)*b%a,E=Zs(w,s,a)*b%a,v=Zs(E,e,a)*d%a;return{pow_p_5_8:Zs(v,N3,a)*t%a,b2:c}}function IL(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function RL(t,e){const n=Nw,r=gn(e*e*e,n),s=gn(r*r*e,n),a=OL(t*s).pow_p_5_8;let c=gn(t*r*a,n);const l=gn(e*c*c,n),u=c,d=gn(c*T3,n),p=l===t,g=l===gn(-t,n),b=l===gn(-t*T3,n);return p&&(c=u),(g||b)&&(c=d),uL(c,n)&&(c=gn(-c,n)),{isValid:p||g,value:c}}const xL=M9(Nw,void 0,!0),PL={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:xL,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:NL,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:JB,randomBytes:I9,adjustScalarBytes:IL,uvRatio:RL},L9=AL(PL),DL="EdDSA",$L="JWT",O1=".",og="base64url",j9="utf8",z9="utf8",UL=":",ML="did",kL="key",O3="base58btc",BL="z",LL="K36",jL=32;function Ow(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function F9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ow(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function q9(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const n=F9(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return Ow(n)}function zL(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var l=t.length,u=t.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,_=0,T=0,S=E.length;T!==S&&E[T]===0;)T++,v++;for(var I=(S-T)*p+1>>>0,x=new Uint8Array(I);T!==S;){for(var N=E[T],A=0,R=I-1;(N!==0||A<_)&&R!==-1;R--,A++)N+=256*x[R]>>>0,x[R]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");_=A,T++}for(var k=I-_;k!==I&&x[k]===0;)k++;for(var M=u.repeat(v);k<I;++k)M+=t.charAt(x[k]);return M}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var _=0,T=0;E[v]===u;)_++,v++;for(var S=(E.length-v)*d+1>>>0,I=new Uint8Array(S);E[v];){var x=n[E.charCodeAt(v)];if(x===255)return;for(var N=0,A=S-1;(x!==0||N<T)&&A!==-1;A--,N++)x+=l*I[A]>>>0,I[A]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");T=N,v++}if(E[v]!==" "){for(var R=S-T;R!==S&&I[R]===0;)R++;for(var k=new Uint8Array(_+(S-R)),M=_;R!==S;)k[M++]=I[R++];return k}}}function w(E){var v=b(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:b,decode:w}}var FL=zL,qL=FL;const H9=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},HL=t=>new TextEncoder().encode(t),VL=t=>new TextDecoder().decode(t);let GL=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},WL=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return V9(this,e)}},KL=class{constructor(e){this.decoders=e}or(e){return V9(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const V9=(t,e)=>new KL({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let YL=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new GL(e,n,r),this.decoder=new WL(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const cg=({name:t,prefix:e,encode:n,decode:r})=>new YL(t,e,n,r),G0=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=qL(n,e);return cg({prefix:t,name:e,encode:r,decode:a=>H9(s(a))})},ZL=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let l=0,u=0,d=0;for(let p=0;p<a;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|g,l+=n,l>=8&&(l-=8,c[d++]=255&u>>l)}if(l>=n||255&u<<8-l)throw new SyntaxError("Unexpected end of data");return c},QL=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,l=0;for(let u=0;u<t.length;++u)for(l=l<<8|t[u],c+=8;c>n;)c-=n,a+=e[s&l>>c];if(c&&(a+=e[s&l<<n-c]),r)for(;a.length*n&7;)a+="=";return a},jn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>cg({prefix:e,name:t,encode(s){return QL(s,r,n)},decode(s){return ZL(s,r,n,t)}}),XL=cg({prefix:"\0",name:"identity",encode:t=>VL(t),decode:t=>HL(t)});var JL=Object.freeze({__proto__:null,identity:XL});const ej=jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var tj=Object.freeze({__proto__:null,base2:ej});const nj=jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var rj=Object.freeze({__proto__:null,base8:nj});const sj=G0({prefix:"9",name:"base10",alphabet:"0123456789"});var ij=Object.freeze({__proto__:null,base10:sj});const aj=jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oj=jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var cj=Object.freeze({__proto__:null,base16:aj,base16upper:oj});const fj=jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lj=jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uj=jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dj=jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hj=jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pj=jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gj=jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mj=jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bj=jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var yj=Object.freeze({__proto__:null,base32:fj,base32upper:lj,base32pad:uj,base32padupper:dj,base32hex:hj,base32hexupper:pj,base32hexpad:gj,base32hexpadupper:mj,base32z:bj});const wj=G0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vj=G0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ej=Object.freeze({__proto__:null,base36:wj,base36upper:vj});const _j=G0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Cj=G0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Aj=Object.freeze({__proto__:null,base58btc:_j,base58flickr:Cj});const Sj=jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Tj=jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nj=jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Oj=jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ij=Object.freeze({__proto__:null,base64:Sj,base64pad:Tj,base64url:Nj,base64urlpad:Oj});const G9=Array.from(""),Rj=G9.reduce((t,e,n)=>(t[n]=e,t),[]),xj=G9.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Pj(t){return t.reduce((e,n)=>(e+=Rj[n],e),"")}function Dj(t){const e=[];for(const n of t){const r=xj[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const $j=cg({prefix:"",name:"base256emoji",encode:Pj,decode:Dj});var Uj=Object.freeze({__proto__:null,base256emoji:$j}),Mj=W9,I3=128,kj=-128,Bj=Math.pow(2,31);function W9(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Bj;)e[n++]=t&255|I3,t/=128;for(;t&kj;)e[n++]=t&255|I3,t>>>=7;return e[n]=t|0,W9.bytes=n-r+1,e}var Lj=i6,jj=128,R3=127;function i6(t,r){var n=0,r=r||0,s=0,a=r,c,l=t.length;do{if(a>=l)throw i6.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&R3)<<s:(c&R3)*Math.pow(2,s),s+=7}while(c>=jj);return i6.bytes=a-r,n}var zj=Math.pow(2,7),Fj=Math.pow(2,14),qj=Math.pow(2,21),Hj=Math.pow(2,28),Vj=Math.pow(2,35),Gj=Math.pow(2,42),Wj=Math.pow(2,49),Kj=Math.pow(2,56),Yj=Math.pow(2,63),Zj=function(t){return t<zj?1:t<Fj?2:t<qj?3:t<Hj?4:t<Vj?5:t<Gj?6:t<Wj?7:t<Kj?8:t<Yj?9:10},Qj={encode:Mj,decode:Lj,encodingLength:Zj},K9=Qj;const x3=(t,e,n=0)=>(K9.encode(t,e,n),e),P3=t=>K9.encodingLength(t),a6=(t,e)=>{const n=e.byteLength,r=P3(t),s=r+P3(n),a=new Uint8Array(s+n);return x3(t,a,0),x3(n,a,r),a.set(e,s),new Xj(t,n,e,a)};let Xj=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const Y9=({name:t,code:e,encode:n})=>new Jj(t,e,n);let Jj=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?a6(this.code,n):n.then(r=>a6(this.code,r))}else throw Error("Unknown type, must be binary type")}};const Z9=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ez=Y9({name:"sha2-256",code:18,encode:Z9("SHA-256")}),tz=Y9({name:"sha2-512",code:19,encode:Z9("SHA-512")});var nz=Object.freeze({__proto__:null,sha256:ez,sha512:tz});const Q9=0,rz="identity",X9=H9,sz=t=>a6(Q9,X9(t)),iz={code:Q9,name:rz,encode:X9,digest:sz};var az=Object.freeze({__proto__:null,identity:iz});new TextEncoder,new TextDecoder;const D3={...JL,...tj,...rj,...ij,...cj,...yj,...Ej,...Aj,...Ij,...Uj};({...nz,...az});function J9(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const $3=J9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),P5=J9("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=F9(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),eT={utf8:$3,"utf-8":$3,hex:D3.base16,latin1:P5,ascii:P5,binary:P5,...D3};function fg(t,e="utf8"){const n=eT[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function zl(t,e="utf8"){const n=eT[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ow(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function U3(t){return _c(fg(zl(t,og),j9))}function I1(t){return fg(zl(ta(t),j9),og)}function tT(t){const e=zl(LL,O3),n=BL+fg(q9([e,t]),O3);return[ML,kL,n].join(UL)}function oz(t){return fg(t,og)}function cz(t){return zl(t,og)}function fz(t){return zl([I1(t.header),I1(t.payload)].join(O1),z9)}function lz(t){return[I1(t.header),I1(t.payload),oz(t.signature)].join(O1)}function o6(t){const e=t.split(O1),n=U3(e[0]),r=U3(e[1]),s=cz(e[2]),a=zl(e.slice(0,2).join(O1),z9);return{header:n,payload:r,signature:s,data:a}}function M3(t=I9(jL)){const e=L9.getPublicKey(t);return{secretKey:q9([t,e]),publicKey:e}}async function uz(t,e,n,r,s=ge.fromMiliseconds(Date.now())){const a={alg:DL,typ:$L},c=tT(r.publicKey),l=s+n,u={iss:c,sub:t,aud:e,iat:s,exp:l},d=fz({header:a,payload:u}),p=L9.sign(d,r.secretKey.slice(0,32));return lz({header:a,payload:u,signature:p})}var k3=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},dz=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),hz=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),pz=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),gz=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),mz=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),bz=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,yz=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,B3=3,wz=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",bz]],L3=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vz(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new mz:typeof navigator<"u"?_z(navigator.userAgent):Az()}function Ez(t){return t!==""&&wz.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var a=s.exec(t);return!!a&&[r,a]},!1)}function _z(t){var e=Ez(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new gz;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<B3&&(s=k3(k3([],s,!0),Sz(B3-s.length),!0)):s=[];var a=s.join("."),c=Cz(t),l=yz.exec(t);return l&&l[1]?new pz(n,a,c,l[1]):new dz(n,a,c)}function Cz(t){for(var e=0,n=L3.length;e<n;e++){var r=L3[e],s=r[0],a=r[1],c=a.exec(t);if(c)return s}return null}function Az(){var t=typeof process<"u"&&process.version;return t?new hz(process.version.slice(1)):null}function Sz(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var xt={},j3;function nT(){if(j3)return xt;j3=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.getLocalStorage=xt.getLocalStorageOrThrow=xt.getCrypto=xt.getCryptoOrThrow=xt.getLocation=xt.getLocationOrThrow=xt.getNavigator=xt.getNavigatorOrThrow=xt.getDocument=xt.getDocumentOrThrow=xt.getFromWindowOrThrow=xt.getFromWindow=void 0;function t(b){let w;return typeof window<"u"&&typeof window[b]<"u"&&(w=window[b]),w}xt.getFromWindow=t;function e(b){const w=t(b);if(!w)throw new Error(`${b} is not defined in Window`);return w}xt.getFromWindowOrThrow=e;function n(){return e("document")}xt.getDocumentOrThrow=n;function r(){return t("document")}xt.getDocument=r;function s(){return e("navigator")}xt.getNavigatorOrThrow=s;function a(){return t("navigator")}xt.getNavigator=a;function c(){return e("location")}xt.getLocationOrThrow=c;function l(){return t("location")}xt.getLocation=l;function u(){return e("crypto")}xt.getCryptoOrThrow=u;function d(){return t("crypto")}xt.getCrypto=d;function p(){return e("localStorage")}xt.getLocalStorageOrThrow=p;function g(){return t("localStorage")}return xt.getLocalStorage=g,xt}var Cc=nT(),nd={},z3;function Tz(){if(z3)return nd;z3=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.getWindowMetadata=void 0;const t=nT();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const w=n.getElementsByTagName("link"),E=[];for(let v=0;v<w.length;v++){const _=w[v],T=_.getAttribute("rel");if(T&&T.toLowerCase().indexOf("icon")>-1){const S=_.getAttribute("href");if(S)if(S.toLowerCase().indexOf("https:")===-1&&S.toLowerCase().indexOf("http:")===-1&&S.indexOf("//")!==0){let I=r.protocol+"//"+r.host;if(S.indexOf("/")===0)I+=S;else{const x=r.pathname.split("/");x.pop();const N=x.join("/");I+=N+"/"+S}E.push(I)}else if(S.indexOf("//")===0){const I=r.protocol+S;E.push(I)}else E.push(S)}}return E}function a(...w){const E=n.getElementsByTagName("meta");for(let v=0;v<E.length;v++){const _=E[v],T=["itemprop","property","name"].map(S=>_.getAttribute(S)).filter(S=>S?w.includes(S):!1);if(T.length&&T){const S=_.getAttribute("content");if(S)return S}}return""}function c(){let w=a("name","og:site_name","og:title","twitter:title");return w||(w=n.title),w}function l(){return a("description","og:description","twitter:description","keywords")}const u=c(),d=l(),p=r.origin,g=s();return{description:d,url:p,icons:g,name:u}}return nd.getWindowMetadata=e,nd}var Nz=Tz();function c0(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function F3(t){return c0(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const rT="2.23.2";let rd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${rT}`};class Ac extends Error{constructor(e,n={}){var l;const r=(()=>{var u;return n.cause instanceof Ac?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),s=n.cause instanceof Ac&&n.cause.docsPath||n.docsPath,a=(l=rd.getDocsUrl)==null?void 0:l.call(rd,{...n,docsPath:s}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...rd.version?[`Version: ${rd.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=rT}walk(e){return sT(this,e)}}function sT(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?sT(t.cause,e):e?null:t}class iT extends Ac{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Fl(t,{dir:e,size:n=32}={}){return typeof t=="string"?Oz(t,{dir:e,size:n}):Iz(t,{dir:e,size:n})}function Oz(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new iT({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Iz(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new iT({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}class Rz extends Ac{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class xz extends Ac{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function ql(t,{size:e}){if(F3(t)>e)throw new xz({givenSize:F3(t),maxSize:e})}function c6(t,e={}){const{signed:n}=e;e.size&&ql(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Pz(t,e={}){return Number(c6(t,e))}const Dz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function f6(t,e={}){return typeof t=="number"||typeof t=="bigint"?oT(t,e):typeof t=="string"?Mz(t,e):typeof t=="boolean"?$z(t,e):aT(t,e)}function $z(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ql(n,{size:e.size}),Fl(n,{size:e.size})):n}function aT(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Dz[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(ql(r,{size:e.size}),Fl(r,{dir:"right",size:e.size})):r}function oT(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const u=typeof t=="bigint"?"n":"";throw new Rz({max:a?`${a}${u}`:void 0,min:`${c}${u}`,signed:n,size:r,value:`${t}${u}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Fl(l,{size:r}):l}const Uz=new TextEncoder;function Mz(t,e={}){const n=Uz.encode(t);return aT(n,e)}const kz=new TextEncoder;function Bz(t,e={}){return typeof t=="number"||typeof t=="bigint"?jz(t,e):typeof t=="boolean"?Lz(t,e):c0(t)?cT(t,e):fT(t,e)}function Lz(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(ql(n,{size:e.size}),Fl(n,{size:e.size})):n}const Bi={zero:48,nine:57,A:65,F:70,a:97,f:102};function q3(t){if(t>=Bi.zero&&t<=Bi.nine)return t-Bi.zero;if(t>=Bi.A&&t<=Bi.F)return t-(Bi.A-10);if(t>=Bi.a&&t<=Bi.f)return t-(Bi.a-10)}function cT(t,e={}){let n=t;e.size&&(ql(n,{size:e.size}),n=Fl(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let c=0,l=0;c<s;c++){const u=q3(r.charCodeAt(l++)),d=q3(r.charCodeAt(l++));if(u===void 0||d===void 0)throw new Ac(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);a[c]=u*16+d}return a}function jz(t,e){const n=oT(t,e);return cT(n)}function fT(t,e={}){const n=kz.encode(t);return typeof e.size=="number"?(ql(n,{size:e.size}),Fl(n,{dir:"right",size:e.size})):n}function R1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function zz(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lg(t,...e){if(!zz(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Kre(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");R1(t.outputLen),R1(t.blockLen)}function H3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Fz(t,e){lg(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Bp=BigInt(2**32-1),V3=BigInt(32);function qz(t,e=!1){return e?{h:Number(t&Bp),l:Number(t>>V3&Bp)}:{h:Number(t>>V3&Bp)|0,l:Number(t&Bp)|0}}function Hz(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=qz(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const Vz=(t,e,n)=>t<<n|e>>>32-n,Gz=(t,e,n)=>e<<n|t>>>32-n,Wz=(t,e,n)=>e<<n-32|t>>>64-n,Kz=(t,e,n)=>t<<n-32|e>>>64-n,Of=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yz(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yre(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Zre(t,e){return t<<32-e|t>>>e}const G3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Zz(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function W3(t){for(let e=0;e<t.length;e++)t[e]=Zz(t[e])}function Qz(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function lT(t){return typeof t=="string"&&(t=Qz(t)),lg(t),t}function Qre(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];lg(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}class Xz{clone(){return this._cloneInto()}}function Jz(t){const e=r=>t().update(lT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Xre(t=32){if(Of&&typeof Of.getRandomValues=="function")return Of.getRandomValues(new Uint8Array(t));if(Of&&typeof Of.randomBytes=="function")return Of.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const uT=[],dT=[],hT=[],eF=BigInt(0),sd=BigInt(1),tF=BigInt(2),nF=BigInt(7),rF=BigInt(256),sF=BigInt(113);for(let t=0,e=sd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],uT.push(2*(5*r+n)),dT.push((t+1)*(t+2)/2%64);let s=eF;for(let a=0;a<7;a++)e=(e<<sd^(e>>nF)*sF)%rF,e&tF&&(s^=sd<<(sd<<BigInt(a))-sd);hT.push(s)}const[iF,aF]=Hz(hT,!0),K3=(t,e,n)=>n>32?Wz(t,e,n):Vz(t,e,n),Y3=(t,e,n)=>n>32?Kz(t,e,n):Gz(t,e,n);function oF(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,u=(c+2)%10,d=n[u],p=n[u+1],g=K3(d,p,1)^n[l],b=Y3(d,p,1)^n[l+1];for(let w=0;w<50;w+=10)t[c+w]^=g,t[c+w+1]^=b}let s=t[2],a=t[3];for(let c=0;c<24;c++){const l=dT[c],u=K3(s,a,l),d=Y3(s,a,l),p=uT[c];s=t[p],a=t[p+1],t[p]=u,t[p+1]=d}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)n[l]=t[c+l];for(let l=0;l<10;l++)t[c+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=iF[r],t[1]^=aF[r]}n.fill(0)}class Iw extends Xz{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,R1(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Yz(this.state)}keccak(){G3||W3(this.state32),oF(this.state32,this.rounds),G3||W3(this.state32),this.posOut=0,this.pos=0}update(e){H3(this);const{blockLen:n,state:r}=this;e=lT(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let l=0;l<c;l++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){H3(this,!1),lg(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return R1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Fz(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new Iw(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const cF=(t,e,n)=>Jz(()=>new Iw(e,t,n)),fF=cF(1,136,256/8);function pT(t,e){const n=e||"hex",r=fF(c0(t,{strict:!1})?Bz(t):t);return n==="bytes"?r:f6(r)}class lF extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const D5=new lF(8192);function uF(t,e){if(D5.has(`${t}.${e}`))return D5.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=pT(fT(n),"bytes"),s=n.split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const a=`0x${s.join("")}`;return D5.set(`${t}.${e}`,a),a}function dF(t){const e=pT(`0x${t.substring(4)}`).substring(26);return uF(`0x${e}`)}async function hF({hash:t,signature:e}){const n=c0(t)?t:f6(t),{secp256k1:r}=await ir(async()=>{const{secp256k1:c}=await import("./secp256k1-BtDSuGBJ.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:p,v:g,yParity:b}=e,w=Number(b??g),E=Z3(w);return new r.Signature(c6(d),c6(p)).addRecoveryBit(E)}const c=c0(e)?e:f6(e),l=Pz(`0x${c.slice(130)}`),u=Z3(l);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Z3(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function pF({hash:t,signature:e}){return dF(await hF({hash:t,signature:e}))}function gF(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){const p=t.charAt(d),g=p.charCodeAt(0);if(e[g]!==255)throw new TypeError(p+" is ambiguous");e[g]=d}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function c(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let p=0,g=0,b=0;const w=d.length;for(;b!==w&&d[b]===0;)b++,p++;const E=(w-b)*a+1>>>0,v=new Uint8Array(E);for(;b!==w;){let S=d[b],I=0;for(let x=E-1;(S!==0||I<g)&&x!==-1;x--,I++)S+=256*v[x]>>>0,v[x]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");g=I,b++}let _=E-g;for(;_!==E&&v[_]===0;)_++;let T=r.repeat(p);for(;_<E;++_)T+=t.charAt(v[_]);return T}function l(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let p=0,g=0,b=0;for(;d[p]===r;)g++,p++;const w=(d.length-p)*s+1>>>0,E=new Uint8Array(w);for(;p<d.length;){const S=d.charCodeAt(p);if(S>255)return;let I=e[S];if(I===255)return;let x=0;for(let N=w-1;(I!==0||x<b)&&N!==-1;N--,x++)I+=n*E[N]>>>0,E[N]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");b=x,p++}let v=w-b;for(;v!==w&&E[v]===0;)v++;const _=new Uint8Array(g+(w-v));let T=g;for(;v!==w;)_[T++]=E[v++];return _}function u(d){const p=l(d);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:l,decode:u}}var mF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const gT=gF(mF);function mT(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Cd(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const n=mT(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function bF(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var l=t.length,u=t.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,_=0,T=0,S=E.length;T!==S&&E[T]===0;)T++,v++;for(var I=(S-T)*p+1>>>0,x=new Uint8Array(I);T!==S;){for(var N=E[T],A=0,R=I-1;(N!==0||A<_)&&R!==-1;R--,A++)N+=256*x[R]>>>0,x[R]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");_=A,T++}for(var k=I-_;k!==I&&x[k]===0;)k++;for(var M=u.repeat(v);k<I;++k)M+=t.charAt(x[k]);return M}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var _=0,T=0;E[v]===u;)_++,v++;for(var S=(E.length-v)*d+1>>>0,I=new Uint8Array(S);E[v];){var x=n[E.charCodeAt(v)];if(x===255)return;for(var N=0,A=S-1;(x!==0||N<T)&&A!==-1;A--,N++)x+=l*I[A]>>>0,I[A]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");T=N,v++}if(E[v]!==" "){for(var R=S-T;R!==S&&I[R]===0;)R++;for(var k=new Uint8Array(_+(S-R)),M=_;R!==S;)k[M++]=I[R++];return k}}}function w(E){var v=b(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:b,decode:w}}var yF=bF,wF=yF;const vF=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},EF=t=>new TextEncoder().encode(t),_F=t=>new TextDecoder().decode(t);class CF{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class AF{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return bT(this,e)}}class SF{constructor(e){this.decoders=e}or(e){return bT(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const bT=(t,e)=>new SF({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class TF{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new CF(e,n,r),this.decoder=new AF(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ug=({name:t,prefix:e,encode:n,decode:r})=>new TF(t,e,n,r),W0=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=wF(n,e);return ug({prefix:t,name:e,encode:r,decode:a=>vF(s(a))})},NF=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let l=0,u=0,d=0;for(let p=0;p<a;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|g,l+=n,l>=8&&(l-=8,c[d++]=255&u>>l)}if(l>=n||255&u<<8-l)throw new SyntaxError("Unexpected end of data");return c},OF=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,l=0;for(let u=0;u<t.length;++u)for(l=l<<8|t[u],c+=8;c>n;)c-=n,a+=e[s&l>>c];if(c&&(a+=e[s&l<<n-c]),r)for(;a.length*n&7;)a+="=";return a},zn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>ug({prefix:e,name:t,encode(s){return OF(s,r,n)},decode(s){return NF(s,r,n,t)}}),IF=ug({prefix:"\0",name:"identity",encode:t=>_F(t),decode:t=>EF(t)}),RF=Object.freeze(Object.defineProperty({__proto__:null,identity:IF},Symbol.toStringTag,{value:"Module"})),xF=zn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),PF=Object.freeze(Object.defineProperty({__proto__:null,base2:xF},Symbol.toStringTag,{value:"Module"})),DF=zn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),$F=Object.freeze(Object.defineProperty({__proto__:null,base8:DF},Symbol.toStringTag,{value:"Module"})),UF=W0({prefix:"9",name:"base10",alphabet:"0123456789"}),MF=Object.freeze(Object.defineProperty({__proto__:null,base10:UF},Symbol.toStringTag,{value:"Module"})),kF=zn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),BF=zn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),LF=Object.freeze(Object.defineProperty({__proto__:null,base16:kF,base16upper:BF},Symbol.toStringTag,{value:"Module"})),jF=zn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),zF=zn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),FF=zn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),qF=zn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),HF=zn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),VF=zn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),GF=zn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),WF=zn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),KF=zn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),YF=Object.freeze(Object.defineProperty({__proto__:null,base32:jF,base32hex:HF,base32hexpad:GF,base32hexpadupper:WF,base32hexupper:VF,base32pad:FF,base32padupper:qF,base32upper:zF,base32z:KF},Symbol.toStringTag,{value:"Module"})),ZF=W0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),QF=W0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),XF=Object.freeze(Object.defineProperty({__proto__:null,base36:ZF,base36upper:QF},Symbol.toStringTag,{value:"Module"})),JF=W0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eq=W0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),tq=Object.freeze(Object.defineProperty({__proto__:null,base58btc:JF,base58flickr:eq},Symbol.toStringTag,{value:"Module"})),nq=zn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rq=zn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),sq=zn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),iq=zn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),aq=Object.freeze(Object.defineProperty({__proto__:null,base64:nq,base64pad:rq,base64url:sq,base64urlpad:iq},Symbol.toStringTag,{value:"Module"})),yT=Array.from(""),oq=yT.reduce((t,e,n)=>(t[n]=e,t),[]),cq=yT.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function fq(t){return t.reduce((e,n)=>(e+=oq[n],e),"")}function lq(t){const e=[];for(const n of t){const r=cq[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const uq=ug({prefix:"",name:"base256emoji",encode:fq,decode:lq}),dq=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:uq},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Q3={...RF,...PF,...$F,...MF,...LF,...YF,...XF,...tq,...aq,...dq};function wT(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const X3=wT("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),$5=wT("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=mT(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),vT={utf8:X3,"utf-8":X3,hex:Q3.base16,latin1:$5,ascii:$5,binary:$5,...Q3};function gs(t,e="utf8"){const n=vT[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Or(t,e="utf8"){const n=vT[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const hq={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var pq={};const gq=":";function Jf(t){const[e,n]=t.split(gq);return{namespace:e,reference:n}}function ET(t,e){return t.includes(":")?[t]:e.chains||[]}var mq=Object.defineProperty,bq=Object.defineProperties,yq=Object.getOwnPropertyDescriptors,J3=Object.getOwnPropertySymbols,wq=Object.prototype.hasOwnProperty,vq=Object.prototype.propertyIsEnumerable,eC=(t,e,n)=>e in t?mq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tC=(t,e)=>{for(var n in e||(e={}))wq.call(e,n)&&eC(t,n,e[n]);if(J3)for(var n of J3(e))vq.call(e,n)&&eC(t,n,e[n]);return t},Eq=(t,e)=>bq(t,yq(e));const _q="ReactNative",Wr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Cq="js";function x1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function wo(){return!Cc.getDocument()&&!!Cc.getNavigator()&&navigator.product===_q}function Aq(){return wo()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Sq(){return wo()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function K0(){return!x1()&&!!Cc.getNavigator()&&!!Cc.getDocument()}function Y0(){return wo()?Wr.reactNative:x1()?Wr.node:K0()?Wr.browser:Wr.unknown}function nC(){var t;try{return wo()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Tq(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function Nq(t){var e,n;const r=_T();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),Eq(tC(tC({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function _T(){return Nz.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Oq(){if(Y0()===Wr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=vz();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Iq(){var t;const e=Y0();return e===Wr.browser?[e,((t=Cc.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function CT(t,e,n){const r=Oq(),s=Iq();return[[t,e].join("-"),[Cq,n].join("-"),r,s].join("/")}function Rq({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:a,useOnCloseEvent:c,bundleId:l,packageName:u}){const d=n.split("?"),p=CT(t,e,r),g={auth:s,ua:p,projectId:a,useOnCloseEvent:c,packageName:u||void 0,bundleId:l||void 0},b=Tq(d[1]||"",g);return d[0]+"?"+b}function ec(t,e){return t.filter(n=>e.includes(n)).length===t.length}function l6(t){return Object.fromEntries(t.entries())}function u6(t){return new Map(Object.entries(t))}function Vo(t=ge.FIVE_MINUTES,e){const n=ge.toMiliseconds(t||ge.FIVE_MINUTES);let r,s,a,c;return{resolve:l=>{a&&r&&(clearTimeout(a),r(l),c=Promise.resolve(l))},reject:l=>{a&&s&&(clearTimeout(a),s(l))},done:()=>new Promise((l,u)=>{if(c)return l(c);a=setTimeout(()=>{const d=new Error(e);c=Promise.reject(d),u(d)},n),r=l,s=u})}}function ro(t,e,n){return new Promise(async(r,s)=>{const a=setTimeout(()=>s(new Error(n)),e);try{const c=await t;r(c)}catch(c){s(c)}clearTimeout(a)})}function AT(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function xq(t){return AT("topic",t)}function Pq(t){return AT("id",t)}function ST(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function hn(t,e){return ge.fromMiliseconds(Date.now()+ge.toMiliseconds(t))}function qa(t){return Date.now()>=ge.toMiliseconds(t)}function wt(t,e){return`${t}${e?`:${e}`:""}`}function r1(t=[],e=[]){return[...new Set([...t,...e])]}async function Dq({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,a=s==null?void 0:s.href;if(typeof a!="string")return;const c=$q(a,t,e),l=Y0();if(l===Wr.browser){if(!((r=Cc.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Uq(c)}else l===Wr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(s){console.error(s)}}function $q(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const a=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${a}${Lq(r,!0)}`}else s=`${s}/wc?${r}`;return s}function Uq(t){let e="_self";Bq()?e="_top":(kq()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Mq(t,e){let n="";try{if(K0()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function rC(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function sC(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Rw(){return typeof process<"u"&&pq.IS_VITEST==="true"}function kq(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Bq(){try{return window.self!==window.top}catch{return!1}}function Lq(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function TT(t){return Buffer.from(t,"base64").toString("utf-8")}function jq(t){return new Promise(e=>setTimeout(e,t))}function f0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function zq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Z0(t,...e){if(!zq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function xw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");f0(t.outputLen),f0(t.blockLen)}function El(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function NT(t,e){Z0(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Lp=BigInt(2**32-1),iC=BigInt(32);function Fq(t,e=!1){return e?{h:Number(t&Lp),l:Number(t>>iC&Lp)}:{h:Number(t>>iC&Lp)|0,l:Number(t&Lp)|0}}function qq(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=Fq(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const Hq=(t,e,n)=>t<<n|e>>>32-n,Vq=(t,e,n)=>e<<n|t>>>32-n,Gq=(t,e,n)=>e<<n-32|t>>>64-n,Wq=(t,e,n)=>t<<n-32|e>>>64-n,If=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Kq(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function U5(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Qs(t,e){return t<<32-e|t>>>e}const aC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Yq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function oC(t){for(let e=0;e<t.length;e++)t[e]=Yq(t[e])}function Zq(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function _l(t){return typeof t=="string"&&(t=Zq(t)),Z0(t),t}function Qq(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Z0(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}let Pw=class{clone(){return this._cloneInto()}};function OT(t){const e=r=>t().update(_l(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Hl(t=32){if(If&&typeof If.getRandomValues=="function")return If.getRandomValues(new Uint8Array(t));if(If&&typeof If.randomBytes=="function")return If.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const IT=[],RT=[],xT=[],Xq=BigInt(0),id=BigInt(1),Jq=BigInt(2),eH=BigInt(7),tH=BigInt(256),nH=BigInt(113);for(let t=0,e=id,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],IT.push(2*(5*r+n)),RT.push((t+1)*(t+2)/2%64);let s=Xq;for(let a=0;a<7;a++)e=(e<<id^(e>>eH)*nH)%tH,e&Jq&&(s^=id<<(id<<BigInt(a))-id);xT.push(s)}const[rH,sH]=qq(xT,!0),cC=(t,e,n)=>n>32?Gq(t,e,n):Hq(t,e,n),fC=(t,e,n)=>n>32?Wq(t,e,n):Vq(t,e,n);function iH(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,u=(c+2)%10,d=n[u],p=n[u+1],g=cC(d,p,1)^n[l],b=fC(d,p,1)^n[l+1];for(let w=0;w<50;w+=10)t[c+w]^=g,t[c+w+1]^=b}let s=t[2],a=t[3];for(let c=0;c<24;c++){const l=RT[c],u=cC(s,a,l),d=fC(s,a,l),p=IT[c];s=t[p],a=t[p+1],t[p]=u,t[p+1]=d}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)n[l]=t[c+l];for(let l=0;l<10;l++)t[c+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=rH[r],t[1]^=sH[r]}n.fill(0)}let aH=class PT extends Pw{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,f0(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Kq(this.state)}keccak(){aC||oC(this.state32),iH(this.state32,this.rounds),aC||oC(this.state32),this.posOut=0,this.pos=0}update(e){El(this);const{blockLen:n,state:r}=this;e=_l(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let l=0;l<c;l++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){El(this,!1),Z0(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return f0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(NT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new PT(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const oH=(t,e,n)=>OT(()=>new aH(e,t,n)),cH=oH(1,136,256/8),fH="https://rpc.walletconnect.org/v1";function DT(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(cH(n)).toString("hex")}async function lH(t,e,n,r,s,a){switch(n.t){case"eip191":return await uH(t,e,n.s);case"eip1271":return await dH(t,e,n.s,r,s,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function uH(t,e,n){return(await pF({hash:DT(e),signature:n})).toLowerCase()===t.toLowerCase()}async function dH(t,e,n,r,s,a){const c=Jf(r);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const l="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",d="0000000000000000000000000000000000000000000000000000000000000041",p=n.substring(2),g=DT(e).substring(2),b=l+g+u+d+p,w=await fetch(`${a||fH}/?chainId=${r}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:hH(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:b},"latest"]})}),{result:E}=await w.json();return E?E.slice(0,l.length).toLowerCase()===l.toLowerCase():!1}catch(l){return console.error("isValidEip1271Signature: ",l),!1}}function hH(){return Date.now()+Math.floor(Math.random()*1e3)}function pH(t){const e=atob(t),n=new Uint8Array(e.length);for(let c=0;c<e.length;c++)n[c]=e.charCodeAt(c);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const a=Buffer.from(t,"base64").slice(1,65);return gT.encode(a)}var gH=Object.defineProperty,mH=Object.defineProperties,bH=Object.getOwnPropertyDescriptors,lC=Object.getOwnPropertySymbols,yH=Object.prototype.hasOwnProperty,wH=Object.prototype.propertyIsEnumerable,uC=(t,e,n)=>e in t?gH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vH=(t,e)=>{for(var n in e||(e={}))yH.call(e,n)&&uC(t,n,e[n]);if(lC)for(var n of lC(e))wH.call(e,n)&&uC(t,n,e[n]);return t},EH=(t,e)=>mH(t,bH(e));const _H="did:pkh:",Dw=t=>t==null?void 0:t.split(":"),CH=t=>{const e=t&&Dw(t);if(e)return t.includes(_H)?e[3]:e[1]},d6=t=>{const e=t&&Dw(t);if(e)return e[2]+":"+e[3]},P1=t=>{const e=t&&Dw(t);if(e)return e.pop()};async function dC(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,a=$T(s,s.iss),c=P1(s.iss);return await lH(c,a,r,d6(s.iss),n)}const $T=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=P1(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const a=`URI: ${t.aud||t.uri}`,c=`Version: ${t.version}`,l=`Chain ID: ${CH(e)}`,u=`Nonce: ${t.nonce}`,d=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,g=t.nbf?`Not Before: ${t.nbf}`:void 0,b=t.requestId?`Request ID: ${t.requestId}`:void 0,w=t.resources?`Resources:${t.resources.map(v=>`
- ${v}`).join("")}`:void 0,E=s1(t.resources);if(E){const v=l0(E);s=PH(s,v)}return[n,r,"",s,"",a,c,l,u,d,p,g,b,w].filter(v=>v!=null).join(`
`)};function AH(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function SH(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Sc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const a=r[s];if(!Array.isArray(a))throw new Error(`Ability limits ${s} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);a.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${c}`)})})})}function TH(t,e,n,r={}){return n==null||n.sort((s,a)=>s.localeCompare(a)),{att:{[t]:NH(e,n,r)}}}function NH(t,e,n={}){e=e==null?void 0:e.sort((s,a)=>s.localeCompare(a));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function UT(t){return Sc(t),`urn:recap:${AH(t).replace(/=/g,"")}`}function l0(t){const e=SH(t.replace("urn:recap:",""));return Sc(e),e}function OH(t,e,n){const r=TH(t,e,n);return UT(r)}function IH(t){return t&&t.includes("urn:recap:")}function RH(t,e){const n=l0(t),r=l0(e),s=xH(n,r);return UT(s)}function xH(t,e){Sc(t),Sc(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,a)=>s.localeCompare(a)),r={att:{}};return n.forEach(s=>{var a,c;Object.keys(((a=t.att)==null?void 0:a[s])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[s])||{})).sort((l,u)=>l.localeCompare(u)).forEach(l=>{var u,d;r.att[s]=EH(vH({},r.att[s]),{[l]:((u=t.att[s])==null?void 0:u[l])||((d=e.att[s])==null?void 0:d[l])})})}),r}function PH(t="",e){Sc(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(l=>{const u=Object.keys(e.att[l]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));u.sort((g,b)=>g.action.localeCompare(b.action));const d={};u.forEach(g=>{d[g.ability]||(d[g.ability]=[]),d[g.ability].push(g.action)});const p=Object.keys(d).map(g=>(s++,`(${s}) '${g}': '${d[g].join("', '")}' for '${l}'.`));r.push(p.join(", ").replace(".,","."))});const a=r.join(" "),c=`${n}${a}`;return`${t?t+" ":""}${c}`}function hC(t){var e;const n=l0(t);Sc(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function pC(t){const e=l0(t);Sc(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var a;(a=s==null?void 0:s[0])!=null&&a.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function s1(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return IH(e)?e:void 0}function M5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function MT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Vr(t,...e){if(!MT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function gC(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function DH(t,e){Vr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mC(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const co=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),$H=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),UH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!UH)throw new Error("Non little-endian hardware is not supported");function MH(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function h6(t){if(typeof t=="string")t=MH(t);else if(MT(t))t=p6(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function kH(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function BH(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const LH=(t,e)=>{function n(r,...s){if(Vr(r),t.nonceLength!==void 0){const d=s[0];if(!d)throw new Error("nonce / iv required");t.varSizeNonce?Vr(d):Vr(d,t.nonceLength)}const a=t.tagLength;a&&s[1]!==void 0&&Vr(s[1]);const c=e(r,...s),l=(d,p)=>{if(p!==void 0){if(d!==2)throw new Error("cipher output not supported");Vr(p)}};let u=!1;return{encrypt(d,p){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,Vr(d),l(c.encrypt.length,p),c.encrypt(d,p)},decrypt(d,p){if(Vr(d),a&&d.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return l(c.decrypt.length,p),c.decrypt(d,p)}}}return Object.assign(n,t),n};function bC(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!jH(e))throw new Error("invalid output, must be aligned");return e}function yC(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),l=Number(n&a);t.setUint32(e+4,c,r),t.setUint32(e+0,l,r)}function jH(t){return t.byteOffset%4===0}function p6(t){return Uint8Array.from(t)}function Cl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const kT=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),zH=kT("expand 16-byte k"),FH=kT("expand 32-byte k"),qH=co(zH),HH=co(FH);function dt(t,e){return t<<e|t>>>32-e}function g6(t){return t.byteOffset%4===0}const jp=64,VH=16,BT=2**32-1,wC=new Uint32Array;function GH(t,e,n,r,s,a,c,l){const u=s.length,d=new Uint8Array(jp),p=co(d),g=g6(s)&&g6(a),b=g?co(s):wC,w=g?co(a):wC;for(let E=0;E<u;c++){if(t(e,n,r,p,c,l),c>=BT)throw new Error("arx: counter overflow");const v=Math.min(jp,u-E);if(g&&v===jp){const _=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let T=0,S;T<VH;T++)S=_+T,w[S]=b[S]^p[T];E+=jp;continue}for(let _=0,T;_<v;_++)T=E+_,a[T]=s[T]^d[_];E+=v}}function WH(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:a,rounds:c}=kH({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return M5(s),M5(c),mC(a),mC(n),(l,u,d,p,g=0)=>{Vr(l),Vr(u),Vr(d);const b=d.length;if(p===void 0&&(p=new Uint8Array(b)),Vr(p),M5(g),g<0||g>=BT)throw new Error("arx: counter overflow");if(p.length<b)throw new Error(`arx: output (${p.length}) is shorter than data (${b})`);const w=[];let E=l.length,v,_;if(E===32)w.push(v=p6(l)),_=HH;else if(E===16&&n)v=new Uint8Array(32),v.set(l),v.set(l,16),_=qH,w.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);g6(u)||w.push(u=p6(u));const T=co(v);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(_,T,co(u.subarray(0,16)),T),u=u.subarray(16)}const S=16-s;if(S!==u.length)throw new Error(`arx: nonce must be ${S} or 16 bytes`);if(S!==12){const x=new Uint8Array(12);x.set(u,a?0:12-u.length),u=x,w.push(u)}const I=co(u);return GH(t,_,T,I,d,p,g,c),Cl(...w),p}}const $n=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class KH{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=h6(e),Vr(e,32);const n=$n(e,0),r=$n(e,2),s=$n(e,4),a=$n(e,6),c=$n(e,8),l=$n(e,10),u=$n(e,12),d=$n(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|a<<9)&8191,this.r[4]=(a>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|l<<2)&8191,this.r[7]=(l>>>11|u<<5)&8065,this.r[8]=(u>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let p=0;p<8;p++)this.pad[p]=$n(e,16+2*p)}process(e,n,r=!1){const s=r?0:2048,{h:a,r:c}=this,l=c[0],u=c[1],d=c[2],p=c[3],g=c[4],b=c[5],w=c[6],E=c[7],v=c[8],_=c[9],T=$n(e,n+0),S=$n(e,n+2),I=$n(e,n+4),x=$n(e,n+6),N=$n(e,n+8),A=$n(e,n+10),R=$n(e,n+12),k=$n(e,n+14);let M=a[0]+(T&8191),z=a[1]+((T>>>13|S<<3)&8191),H=a[2]+((S>>>10|I<<6)&8191),X=a[3]+((I>>>7|x<<9)&8191),ie=a[4]+((x>>>4|N<<12)&8191),W=a[5]+(N>>>1&8191),U=a[6]+((N>>>14|A<<2)&8191),O=a[7]+((A>>>11|R<<5)&8191),B=a[8]+((R>>>8|k<<8)&8191),q=a[9]+(k>>>5|s),G=0,D=G+M*l+z*(5*_)+H*(5*v)+X*(5*E)+ie*(5*w);G=D>>>13,D&=8191,D+=W*(5*b)+U*(5*g)+O*(5*p)+B*(5*d)+q*(5*u),G+=D>>>13,D&=8191;let K=G+M*u+z*l+H*(5*_)+X*(5*v)+ie*(5*E);G=K>>>13,K&=8191,K+=W*(5*w)+U*(5*b)+O*(5*g)+B*(5*p)+q*(5*d),G+=K>>>13,K&=8191;let te=G+M*d+z*u+H*l+X*(5*_)+ie*(5*v);G=te>>>13,te&=8191,te+=W*(5*E)+U*(5*w)+O*(5*b)+B*(5*g)+q*(5*p),G+=te>>>13,te&=8191;let ne=G+M*p+z*d+H*u+X*l+ie*(5*_);G=ne>>>13,ne&=8191,ne+=W*(5*v)+U*(5*E)+O*(5*w)+B*(5*b)+q*(5*g),G+=ne>>>13,ne&=8191;let re=G+M*g+z*p+H*d+X*u+ie*l;G=re>>>13,re&=8191,re+=W*(5*_)+U*(5*v)+O*(5*E)+B*(5*w)+q*(5*b),G+=re>>>13,re&=8191;let le=G+M*b+z*g+H*p+X*d+ie*u;G=le>>>13,le&=8191,le+=W*l+U*(5*_)+O*(5*v)+B*(5*E)+q*(5*w),G+=le>>>13,le&=8191;let he=G+M*w+z*b+H*g+X*p+ie*d;G=he>>>13,he&=8191,he+=W*u+U*l+O*(5*_)+B*(5*v)+q*(5*E),G+=he>>>13,he&=8191;let Ke=G+M*E+z*w+H*b+X*g+ie*p;G=Ke>>>13,Ke&=8191,Ke+=W*d+U*u+O*l+B*(5*_)+q*(5*v),G+=Ke>>>13,Ke&=8191;let Ie=G+M*v+z*E+H*w+X*b+ie*g;G=Ie>>>13,Ie&=8191,Ie+=W*p+U*d+O*u+B*l+q*(5*_),G+=Ie>>>13,Ie&=8191;let Ge=G+M*_+z*v+H*E+X*w+ie*b;G=Ge>>>13,Ge&=8191,Ge+=W*g+U*p+O*d+B*u+q*l,G+=Ge>>>13,Ge&=8191,G=(G<<2)+G|0,G=G+D|0,D=G&8191,G=G>>>13,K+=G,a[0]=D,a[1]=K,a[2]=te,a[3]=ne,a[4]=re,a[5]=le,a[6]=he,a[7]=Ke,a[8]=Ie,a[9]=Ge}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let l=2;l<10;l++)e[l]+=s,s=e[l]>>>13,e[l]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let l=1;l<10;l++)r[l]=e[l]+s,s=r[l]>>>13,r[l]&=8191;r[9]-=8192;let a=(s^1)-1;for(let l=0;l<10;l++)r[l]&=a;a=~a;for(let l=0;l<10;l++)e[l]=e[l]&a|r[l];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+n[0];e[0]=c&65535;for(let l=1;l<8;l++)c=(e[l]+n[l]|0)+(c>>>16)|0,e[l]=c&65535;Cl(r)}update(e){gC(this);const{buffer:n,blockLen:r}=this;e=h6(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(r-this.pos,s-a);if(c===r){for(;r<=s-a;a+=r)this.process(e,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Cl(this.h,this.r,this.buffer,this.pad)}digestInto(e){gC(this),DH(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let c=0;c<8;c++)e[a++]=r[c]>>>0,e[a++]=r[c]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function YH(t){const e=(r,s)=>t(s).update(h6(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const ZH=YH(t=>new KH(t));function QH(t,e,n,r,s,a=20){let c=t[0],l=t[1],u=t[2],d=t[3],p=e[0],g=e[1],b=e[2],w=e[3],E=e[4],v=e[5],_=e[6],T=e[7],S=s,I=n[0],x=n[1],N=n[2],A=c,R=l,k=u,M=d,z=p,H=g,X=b,ie=w,W=E,U=v,O=_,B=T,q=S,G=I,D=x,K=N;for(let ne=0;ne<a;ne+=2)A=A+z|0,q=dt(q^A,16),W=W+q|0,z=dt(z^W,12),A=A+z|0,q=dt(q^A,8),W=W+q|0,z=dt(z^W,7),R=R+H|0,G=dt(G^R,16),U=U+G|0,H=dt(H^U,12),R=R+H|0,G=dt(G^R,8),U=U+G|0,H=dt(H^U,7),k=k+X|0,D=dt(D^k,16),O=O+D|0,X=dt(X^O,12),k=k+X|0,D=dt(D^k,8),O=O+D|0,X=dt(X^O,7),M=M+ie|0,K=dt(K^M,16),B=B+K|0,ie=dt(ie^B,12),M=M+ie|0,K=dt(K^M,8),B=B+K|0,ie=dt(ie^B,7),A=A+H|0,K=dt(K^A,16),O=O+K|0,H=dt(H^O,12),A=A+H|0,K=dt(K^A,8),O=O+K|0,H=dt(H^O,7),R=R+X|0,q=dt(q^R,16),B=B+q|0,X=dt(X^B,12),R=R+X|0,q=dt(q^R,8),B=B+q|0,X=dt(X^B,7),k=k+ie|0,G=dt(G^k,16),W=W+G|0,ie=dt(ie^W,12),k=k+ie|0,G=dt(G^k,8),W=W+G|0,ie=dt(ie^W,7),M=M+z|0,D=dt(D^M,16),U=U+D|0,z=dt(z^U,12),M=M+z|0,D=dt(D^M,8),U=U+D|0,z=dt(z^U,7);let te=0;r[te++]=c+A|0,r[te++]=l+R|0,r[te++]=u+k|0,r[te++]=d+M|0,r[te++]=p+z|0,r[te++]=g+H|0,r[te++]=b+X|0,r[te++]=w+ie|0,r[te++]=E+W|0,r[te++]=v+U|0,r[te++]=_+O|0,r[te++]=T+B|0,r[te++]=S+q|0,r[te++]=I+G|0,r[te++]=x+D|0,r[te++]=N+K|0}const XH=WH(QH,{counterRight:!1,counterLength:4,allowShortKeys:!1}),JH=new Uint8Array(16),vC=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(JH.subarray(n))},eV=new Uint8Array(32);function EC(t,e,n,r,s){const a=t(e,n,eV),c=ZH.create(a);s&&vC(c,s),vC(c,r);const l=new Uint8Array(16),u=$H(l);yC(u,0,BigInt(s?s.length:0),!0),yC(u,8,BigInt(r.length),!0),c.update(l);const d=c.digest();return Cl(a,l),d}const tV=t=>(e,n,r)=>({encrypt(s,a){const c=s.length;a=bC(c+16,a,!1),a.set(s);const l=a.subarray(0,-16);t(e,n,l,l,1);const u=EC(t,e,n,l,r);return a.set(u,c),Cl(u),a},decrypt(s,a){a=bC(s.length-16,a,!1);const c=s.subarray(0,-16),l=s.subarray(-16),u=EC(t,e,n,c,r);if(!BH(l,u))throw new Error("invalid tag");return a.set(s.subarray(0,-16)),t(e,n,a,a,1),Cl(u),a}}),LT=LH({blockSize:64,nonceLength:12,tagLength:16},tV(XH));let jT=class extends Pw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,xw(e);const r=_l(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return El(this),this.iHash.update(e),this}digestInto(e){El(this),Z0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:c,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=c,e.outputLen=l,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const dg=(t,e,n)=>new jT(t,e).update(n).digest();dg.create=(t,e)=>new jT(t,e);function nV(t,e,n){return xw(t),n===void 0&&(n=new Uint8Array(t.outputLen)),dg(t,_l(n),_l(e))}const k5=new Uint8Array([0]),_C=new Uint8Array;function rV(t,e,n,r=32){if(xw(t),f0(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/t.outputLen);n===void 0&&(n=_C);const a=new Uint8Array(s*t.outputLen),c=dg.create(t,e),l=c._cloneInto(),u=new Uint8Array(c.outputLen);for(let d=0;d<s;d++)k5[0]=d+1,l.update(d===0?_C:u).update(n).update(k5).digestInto(u),a.set(u,t.outputLen*d),c._cloneInto(l);return c.destroy(),l.destroy(),u.fill(0),k5.fill(0),a.slice(0,r)}const sV=(t,e,n,r,s)=>rV(t,nV(t,e,n),r,s);function iV(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),l=Number(n&a),u=r?4:0,d=r?0:4;t.setUint32(e+u,c,r),t.setUint32(e+d,l,r)}function aV(t,e,n){return t&e^~t&n}function oV(t,e,n){return t&e^t&n^e&n}let cV=class extends Pw{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=U5(this.buffer)}update(e){El(this);const{view:n,buffer:r,blockLen:s}=this;e=_l(e);const a=e.length;for(let c=0;c<a;){const l=Math.min(s-this.pos,a-c);if(l===s){const u=U5(e);for(;s<=a-c;c+=s)this.process(u,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){El(this),NT(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;iV(r,s-8,BigInt(this.length*8),a),this.process(r,0);const l=U5(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<d;g++)l.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:l}=this;return e.length=s,e.pos=l,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}};const fV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ba=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),La=new Uint32Array(64);class lV extends cV{constructor(){super(64,32,8,!1),this.A=Ba[0]|0,this.B=Ba[1]|0,this.C=Ba[2]|0,this.D=Ba[3]|0,this.E=Ba[4]|0,this.F=Ba[5]|0,this.G=Ba[6]|0,this.H=Ba[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:c,G:l,H:u}=this;return[e,n,r,s,a,c,l,u]}set(e,n,r,s,a,c,l,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=l|0,this.H=u|0}process(e,n){for(let g=0;g<16;g++,n+=4)La[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const b=La[g-15],w=La[g-2],E=Qs(b,7)^Qs(b,18)^b>>>3,v=Qs(w,17)^Qs(w,19)^w>>>10;La[g]=v+La[g-7]+E+La[g-16]|0}let{A:r,B:s,C:a,D:c,E:l,F:u,G:d,H:p}=this;for(let g=0;g<64;g++){const b=Qs(l,6)^Qs(l,11)^Qs(l,25),w=p+b+aV(l,u,d)+fV[g]+La[g]|0,E=(Qs(r,2)^Qs(r,13)^Qs(r,22))+oV(r,s,a)|0;p=d,d=u,u=l,l=c+w|0,c=a,a=s,s=r,r=w+E|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,a,c,l,u,d,p)}roundClean(){La.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Q0=OT(()=>new lV);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hg=BigInt(0),pg=BigInt(1),uV=BigInt(2);function Tc(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function X0(t){if(!Tc(t))throw new Error("Uint8Array expected")}function Al(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const dV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sl(t){X0(t);let e="";for(let n=0;n<t.length;n++)e+=dV[t[n]];return e}function Yf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $w(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?hg:BigInt("0x"+t)}const Li={_0:48,_9:57,A:65,F:70,a:97,f:102};function CC(t){if(t>=Li._0&&t<=Li._9)return t-Li._0;if(t>=Li.A&&t<=Li.F)return t-(Li.A-10);if(t>=Li.a&&t<=Li.f)return t-(Li.a-10)}function Tl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const c=CC(t.charCodeAt(a)),l=CC(t.charCodeAt(a+1));if(c===void 0||l===void 0){const u=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}r[s]=c*16+l}return r}function uc(t){return $w(Sl(t))}function u0(t){return X0(t),$w(Sl(Uint8Array.from(t).reverse()))}function Nl(t,e){return Tl(t.toString(16).padStart(e*2,"0"))}function gg(t,e){return Nl(t,e).reverse()}function hV(t){return Tl(Yf(t))}function Hr(t,e,n){let r;if(typeof e=="string")try{r=Tl(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(Tc(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function d0(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];X0(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}function pV(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function gV(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const B5=t=>typeof t=="bigint"&&hg<=t;function mg(t,e,n){return B5(t)&&B5(e)&&B5(n)&&e<=t&&t<n}function Qi(t,e,n,r){if(!mg(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function zT(t){let e;for(e=0;t>hg;t>>=pg,e+=1);return e}function mV(t,e){return t>>BigInt(e)&pg}function bV(t,e,n){return t|(n?pg:hg)<<BigInt(e)}const Uw=t=>(uV<<BigInt(t-1))-pg,L5=t=>new Uint8Array(t),AC=t=>Uint8Array.from(t);function FT(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=L5(t),s=L5(t),a=0;const c=()=>{r.fill(1),s.fill(0),a=0},l=(...p)=>n(s,r,...p),u=(p=L5())=>{s=l(AC([0]),p),r=l(),p.length!==0&&(s=l(AC([1]),p),r=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const g=[];for(;p<e;){r=l();const b=r.slice();g.push(b),p+=r.length}return d0(...g)};return(p,g)=>{c(),u(p);let b;for(;!(b=g(d()));)u();return c(),b}}const yV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Tc(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Vl(t,e,n={}){const r=(s,a,c)=>{const l=yV[a];if(typeof l!="function")throw new Error("invalid validator function");const u=t[s];if(!(c&&u===void 0)&&!l(u,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+u)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}const wV=()=>{throw new Error("not implemented")};function m6(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}var vV=Object.freeze({__proto__:null,isBytes:Tc,abytes:X0,abool:Al,bytesToHex:Sl,numberToHexUnpadded:Yf,hexToNumber:$w,hexToBytes:Tl,bytesToNumberBE:uc,bytesToNumberLE:u0,numberToBytesBE:Nl,numberToBytesLE:gg,numberToVarBytesBE:hV,ensureBytes:Hr,concatBytes:d0,equalBytes:pV,utf8ToBytes:gV,inRange:mg,aInRange:Qi,bitLen:zT,bitGet:mV,bitSet:bV,bitMask:Uw,createHmacDrbg:FT,validateObject:Vl,notImplemented:wV,memoized:m6});const Rn=BigInt(0),en=BigInt(1),Ko=BigInt(2),EV=BigInt(3),b6=BigInt(4),SC=BigInt(5),TC=BigInt(8);function Tr(t,e){const n=t%e;return n>=Rn?n:e+n}function qT(t,e,n){if(e<Rn)throw new Error("invalid exponent, negatives unsupported");if(n<=Rn)throw new Error("invalid modulus");if(n===en)return Rn;let r=en;for(;e>Rn;)e&en&&(r=r*t%n),t=t*t%n,e>>=en;return r}function Is(t,e,n){let r=t;for(;e-- >Rn;)r*=r,r%=n;return r}function y6(t,e){if(t===Rn)throw new Error("invert: expected non-zero number");if(e<=Rn)throw new Error("invert: expected positive modulus, got "+e);let n=Tr(t,e),r=e,s=Rn,a=en;for(;n!==Rn;){const c=r/n,l=r%n,u=s-a*c;r=n,n=l,s=a,a=u}if(r!==en)throw new Error("invert: does not exist");return Tr(s,e)}function _V(t){const e=(t-en)/Ko;let n,r,s;for(n=t-en,r=0;n%Ko===Rn;n/=Ko,r++);for(s=Ko;s<t&&qT(s,e,t)!==t-en;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(t+en)/b6;return function(l,u){const d=l.pow(u,c);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const a=(n+en)/Ko;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,d=c.pow(c.mul(c.ONE,s),n),p=c.pow(l,a),g=c.pow(l,n);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let b=1;for(let E=c.sqr(g);b<u&&!c.eql(E,c.ONE);b++)E=c.sqr(E);const w=c.pow(d,en<<BigInt(u-b-1));d=c.sqr(w),p=c.mul(p,w),g=c.mul(g,d),u=b}return p}}function CV(t){if(t%b6===EV){const e=(t+en)/b6;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%TC===SC){const e=(t-SC)/TC;return function(n,r){const s=n.mul(r,Ko),a=n.pow(s,e),c=n.mul(r,a),l=n.mul(n.mul(c,Ko),a),u=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return _V(t)}const AV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function SV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=AV.reduce((r,s)=>(r[s]="function",r),e);return Vl(t,n)}function TV(t,e,n){if(n<Rn)throw new Error("invalid exponent, negatives unsupported");if(n===Rn)return t.ONE;if(n===en)return e;let r=t.ONE,s=e;for(;n>Rn;)n&en&&(r=t.mul(r,s)),s=t.sqr(s),n>>=en;return r}function NV(t,e){const n=new Array(e.length),r=e.reduce((a,c,l)=>t.is0(c)?a:(n[l]=a,t.mul(a,c)),t.ONE),s=t.inv(r);return e.reduceRight((a,c,l)=>t.is0(c)?a:(n[l]=t.mul(a,n[l]),t.mul(a,c)),s),n}function HT(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function VT(t,e,n=!1,r={}){if(t<=Rn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=HT(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:Uw(s),ZERO:Rn,ONE:en,create:u=>Tr(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Rn<=u&&u<t},is0:u=>u===Rn,isOdd:u=>(u&en)===en,neg:u=>Tr(-u,t),eql:(u,d)=>u===d,sqr:u=>Tr(u*u,t),add:(u,d)=>Tr(u+d,t),sub:(u,d)=>Tr(u-d,t),mul:(u,d)=>Tr(u*d,t),pow:(u,d)=>TV(l,u,d),div:(u,d)=>Tr(u*y6(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>y6(u,t),sqrt:r.sqrt||(u=>(c||(c=CV(t)),c(l,u))),invertBatch:u=>NV(l,u),cmov:(u,d,p)=>p?d:u,toBytes:u=>n?gg(u,a):Nl(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?u0(u):uc(u)}});return Object.freeze(l)}function GT(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function WT(t){const e=GT(t);return e+Math.ceil(e/2)}function OV(t,e,n=!1){const r=t.length,s=GT(e),a=WT(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const c=n?u0(t):uc(t),l=Tr(c,e-en)+en;return n?gg(l,s):Nl(l,s)}const NC=BigInt(0),zp=BigInt(1);function j5(t,e){const n=e.negate();return t?n:e}function KT(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function z5(t,e){KT(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function IV(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function RV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const F5=new WeakMap,YT=new WeakMap;function q5(t){return YT.get(t)||1}function xV(t,e){return{constTimeNegate:j5,hasPrecomputes(n){return q5(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>NC;)r&zp&&(s=s.add(a)),a=a.double(),r>>=zp;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=z5(r,e),c=[];let l=n,u=l;for(let d=0;d<s;d++){u=l,c.push(u);for(let p=1;p<a;p++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(n,r,s){const{windows:a,windowSize:c}=z5(n,e);let l=t.ZERO,u=t.BASE;const d=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let b=0;b<a;b++){const w=b*c;let E=Number(s&d);s>>=g,E>c&&(E-=p,s+=zp);const v=w,_=w+Math.abs(E)-1,T=b%2!==0,S=E<0;E===0?u=u.add(j5(T,r[v])):l=l.add(j5(S,r[_]))}return{p:l,f:u}},wNAFUnsafe(n,r,s,a=t.ZERO){const{windows:c,windowSize:l}=z5(n,e),u=BigInt(2**n-1),d=2**n,p=BigInt(n);for(let g=0;g<c;g++){const b=g*l;if(s===NC)break;let w=Number(s&u);if(s>>=p,w>l&&(w-=d,s+=zp),w===0)continue;let E=r[b+Math.abs(w)-1];w<0&&(E=E.negate()),a=a.add(E)}return a},getPrecomputes(n,r,s){let a=F5.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&F5.set(r,s(a))),a},wNAFCached(n,r,s){const a=q5(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const c=q5(n);return c===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,a)},setWindowSize(n,r){KT(r,e),YT.set(n,r),F5.delete(n)}}}function PV(t,e,n,r){if(IV(n,t),RV(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=zT(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,l=(1<<c)-1,u=new Array(l+1).fill(s),d=Math.floor((e.BITS-1)/c)*c;let p=s;for(let g=d;g>=0;g-=c){u.fill(s);for(let w=0;w<r.length;w++){const E=r[w],v=Number(E>>BigInt(g)&BigInt(l));u[v]=u[v].add(n[w])}let b=s;for(let w=u.length-1,E=s;w>0;w--)E=E.add(u[w]),b=b.add(E);if(p=p.add(b),g!==0)for(let w=0;w<c;w++)p=p.double()}return p}function ZT(t){return SV(t.Fp),Vl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...HT(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Rf=BigInt(0),H5=BigInt(1);function DV(t){return Vl(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function $V(t){const e=DV(t),{P:n}=e,r=S=>Tr(S,n),s=e.montgomeryBits,a=Math.ceil(s/8),c=e.nByteLength,l=e.adjustScalarBytes||(S=>S),u=e.powPminus2||(S=>qT(S,n-BigInt(2),n));function d(S,I,x){const N=r(S*(I-x));return I=r(I-N),x=r(x+N),[I,x]}const p=(e.a-BigInt(2))/BigInt(4);function g(S,I){Qi("u",S,Rf,n),Qi("scalar",I,Rf,n);const x=I,N=S;let A=H5,R=Rf,k=S,M=H5,z=Rf,H;for(let ie=BigInt(s-1);ie>=Rf;ie--){const W=x>>ie&H5;z^=W,H=d(z,A,k),A=H[0],k=H[1],H=d(z,R,M),R=H[0],M=H[1],z=W;const U=A+R,O=r(U*U),B=A-R,q=r(B*B),G=O-q,D=k+M,K=k-M,te=r(K*U),ne=r(D*B),re=te+ne,le=te-ne;k=r(re*re),M=r(N*r(le*le)),A=r(O*q),R=r(G*(O+r(p*G)))}H=d(z,A,k),A=H[0],k=H[1],H=d(z,R,M),R=H[0],M=H[1];const X=u(R);return r(A*X)}function b(S){return gg(r(S),a)}function w(S){const I=Hr("u coordinate",S,a);return c===32&&(I[31]&=127),u0(I)}function E(S){const I=Hr("scalar",S),x=I.length;if(x!==a&&x!==c){let N=""+a+" or "+c;throw new Error("invalid scalar, expected "+N+" bytes, got "+x)}return u0(l(I))}function v(S,I){const x=w(I),N=E(S),A=g(x,N);if(A===Rf)throw new Error("invalid private or public key received");return b(A)}const _=b(e.Gu);function T(S){return v(S,_)}return{scalarMult:v,scalarMultBase:T,getSharedSecret:(S,I)=>v(S,I),getPublicKey:S=>T(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:_}}const w6=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const UV=BigInt(1),OC=BigInt(2),MV=BigInt(3),kV=BigInt(5);BigInt(8);function BV(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),a=w6,c=t*t%a*t%a,l=Is(c,OC,a)*c%a,u=Is(l,UV,a)*t%a,d=Is(u,kV,a)*u%a,p=Is(d,e,a)*d%a,g=Is(p,n,a)*p%a,b=Is(g,r,a)*g%a,w=Is(b,s,a)*b%a,E=Is(w,s,a)*b%a,v=Is(E,e,a)*d%a;return{pow_p_5_8:Is(v,OC,a)*t%a,b2:c}}function LV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const v6=$V({P:w6,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=w6,{pow_p_5_8:n,b2:r}=BV(t);return Tr(Is(n,MV,e)*r,e)},adjustScalarBytes:LV,randomBytes:Hl});function IC(t){t.lowS!==void 0&&Al("lowS",t.lowS),t.prehash!==void 0&&Al("prehash",t.prehash)}function jV(t){const e=ZT(t);Vl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:zV,hexToBytes:FV}=vV;class qV extends Error{constructor(e=""){super(e)}}const Vi={Err:qV,_tlv:{encode:(t,e)=>{const{Err:n}=Vi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Yf(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Yf(s.length/2|128):"";return Yf(t)+a+s+e},decode(t,e){const{Err:n}=Vi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let c=0;if(!a)c=s;else{const u=s&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of d)c=c<<8|p;if(r+=u,c<128)throw new n("tlv.decode(long): not minimal encoding")}const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: wrong value length");return{v:l,l:e.subarray(r+c)}}},_int:{encode(t){const{Err:e}=Vi;if(t<Ki)throw new e("integer: negative integers are not allowed");let n=Yf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Vi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return zV(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Vi,s=typeof t=="string"?FV(t):t;X0(s);const{v:a,l:c}=r.decode(48,s);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:u}=r.decode(2,a),{v:d,l:p}=r.decode(2,u);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(l),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=Vi,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),a=r+s;return e.encode(48,a)}},Ki=BigInt(0),Sn=BigInt(1);BigInt(2);const RC=BigInt(3);BigInt(4);function HV(t){const e=jV(t),{Fp:n}=e,r=VT(e.n,e.nBitLength),s=e.toBytes||((v,_,T)=>{const S=_.toAffine();return d0(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),a=e.fromBytes||(v=>{const _=v.subarray(1),T=n.fromBytes(_.subarray(0,n.BYTES)),S=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:T,y:S}});function c(v){const{a:_,b:T}=e,S=n.sqr(v),I=n.mul(S,v);return n.add(n.add(I,n.mul(v,_)),T)}if(!n.eql(n.sqr(e.Gy),c(e.Gx)))throw new Error("bad generator point: equation left != right");function l(v){return mg(v,Sn,e.n)}function u(v){const{allowedPrivateKeyLengths:_,nByteLength:T,wrapPrivateKey:S,n:I}=e;if(_&&typeof v!="bigint"){if(Tc(v)&&(v=Sl(v)),typeof v!="string"||!_.includes(v.length))throw new Error("invalid private key");v=v.padStart(T*2,"0")}let x;try{x=typeof v=="bigint"?v:uc(Hr("private key",v,T))}catch{throw new Error("invalid private key, expected hex or "+T+" bytes, got "+typeof v)}return S&&(x=Tr(x,I)),Qi("private key",x,Sn,I),x}function d(v){if(!(v instanceof b))throw new Error("ProjectivePoint expected")}const p=m6((v,_)=>{const{px:T,py:S,pz:I}=v;if(n.eql(I,n.ONE))return{x:T,y:S};const x=v.is0();_==null&&(_=x?n.ONE:n.inv(I));const N=n.mul(T,_),A=n.mul(S,_),R=n.mul(I,_);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(R,n.ONE))throw new Error("invZ was invalid");return{x:N,y:A}}),g=m6(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:_,y:T}=v.toAffine();if(!n.isValid(_)||!n.isValid(T))throw new Error("bad point: x or y not FE");const S=n.sqr(T),I=c(_);if(!n.eql(S,I))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(_,T,S){if(this.px=_,this.py=T,this.pz=S,_==null||!n.isValid(_))throw new Error("x required");if(T==null||!n.isValid(T))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");Object.freeze(this)}static fromAffine(_){const{x:T,y:S}=_||{};if(!_||!n.isValid(T)||!n.isValid(S))throw new Error("invalid affine point");if(_ instanceof b)throw new Error("projective point not allowed");const I=x=>n.eql(x,n.ZERO);return I(T)&&I(S)?b.ZERO:new b(T,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const T=n.invertBatch(_.map(S=>S.pz));return _.map((S,I)=>S.toAffine(T[I])).map(b.fromAffine)}static fromHex(_){const T=b.fromAffine(a(Hr("pointHex",_)));return T.assertValidity(),T}static fromPrivateKey(_){return b.BASE.multiply(u(_))}static msm(_,T){return PV(b,r,_,T)}_setWindowSize(_){E.setWindowSize(this,_)}assertValidity(){g(this)}hasEvenY(){const{y:_}=this.toAffine();if(n.isOdd)return!n.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){d(_);const{px:T,py:S,pz:I}=this,{px:x,py:N,pz:A}=_,R=n.eql(n.mul(T,A),n.mul(x,I)),k=n.eql(n.mul(S,A),n.mul(N,I));return R&&k}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:_,b:T}=e,S=n.mul(T,RC),{px:I,py:x,pz:N}=this;let A=n.ZERO,R=n.ZERO,k=n.ZERO,M=n.mul(I,I),z=n.mul(x,x),H=n.mul(N,N),X=n.mul(I,x);return X=n.add(X,X),k=n.mul(I,N),k=n.add(k,k),A=n.mul(_,k),R=n.mul(S,H),R=n.add(A,R),A=n.sub(z,R),R=n.add(z,R),R=n.mul(A,R),A=n.mul(X,A),k=n.mul(S,k),H=n.mul(_,H),X=n.sub(M,H),X=n.mul(_,X),X=n.add(X,k),k=n.add(M,M),M=n.add(k,M),M=n.add(M,H),M=n.mul(M,X),R=n.add(R,M),H=n.mul(x,N),H=n.add(H,H),M=n.mul(H,X),A=n.sub(A,M),k=n.mul(H,z),k=n.add(k,k),k=n.add(k,k),new b(A,R,k)}add(_){d(_);const{px:T,py:S,pz:I}=this,{px:x,py:N,pz:A}=_;let R=n.ZERO,k=n.ZERO,M=n.ZERO;const z=e.a,H=n.mul(e.b,RC);let X=n.mul(T,x),ie=n.mul(S,N),W=n.mul(I,A),U=n.add(T,S),O=n.add(x,N);U=n.mul(U,O),O=n.add(X,ie),U=n.sub(U,O),O=n.add(T,I);let B=n.add(x,A);return O=n.mul(O,B),B=n.add(X,W),O=n.sub(O,B),B=n.add(S,I),R=n.add(N,A),B=n.mul(B,R),R=n.add(ie,W),B=n.sub(B,R),M=n.mul(z,O),R=n.mul(H,W),M=n.add(R,M),R=n.sub(ie,M),M=n.add(ie,M),k=n.mul(R,M),ie=n.add(X,X),ie=n.add(ie,X),W=n.mul(z,W),O=n.mul(H,O),ie=n.add(ie,W),W=n.sub(X,W),W=n.mul(z,W),O=n.add(O,W),X=n.mul(ie,O),k=n.add(k,X),X=n.mul(B,O),R=n.mul(U,R),R=n.sub(R,X),X=n.mul(U,ie),M=n.mul(B,M),M=n.add(M,X),new b(R,k,M)}subtract(_){return this.add(_.negate())}is0(){return this.equals(b.ZERO)}wNAF(_){return E.wNAFCached(this,_,b.normalizeZ)}multiplyUnsafe(_){const{endo:T,n:S}=e;Qi("scalar",_,Ki,S);const I=b.ZERO;if(_===Ki)return I;if(this.is0()||_===Sn)return this;if(!T||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,_,b.normalizeZ);let{k1neg:x,k1:N,k2neg:A,k2:R}=T.splitScalar(_),k=I,M=I,z=this;for(;N>Ki||R>Ki;)N&Sn&&(k=k.add(z)),R&Sn&&(M=M.add(z)),z=z.double(),N>>=Sn,R>>=Sn;return x&&(k=k.negate()),A&&(M=M.negate()),M=new b(n.mul(M.px,T.beta),M.py,M.pz),k.add(M)}multiply(_){const{endo:T,n:S}=e;Qi("scalar",_,Sn,S);let I,x;if(T){const{k1neg:N,k1:A,k2neg:R,k2:k}=T.splitScalar(_);let{p:M,f:z}=this.wNAF(A),{p:H,f:X}=this.wNAF(k);M=E.constTimeNegate(N,M),H=E.constTimeNegate(R,H),H=new b(n.mul(H.px,T.beta),H.py,H.pz),I=M.add(H),x=z.add(X)}else{const{p:N,f:A}=this.wNAF(_);I=N,x=A}return b.normalizeZ([I,x])[0]}multiplyAndAddUnsafe(_,T,S){const I=b.BASE,x=(A,R)=>R===Ki||R===Sn||!A.equals(I)?A.multiplyUnsafe(R):A.multiply(R),N=x(this,T).add(x(_,S));return N.is0()?void 0:N}toAffine(_){return p(this,_)}isTorsionFree(){const{h:_,isTorsionFree:T}=e;if(_===Sn)return!0;if(T)return T(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:T}=e;return _===Sn?this:T?T(b,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return Al("isCompressed",_),this.assertValidity(),s(b,this,_)}toHex(_=!0){return Al("isCompressed",_),Sl(this.toRawBytes(_))}}b.BASE=new b(e.Gx,e.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,E=xV(b,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:l}}function VV(t){const e=ZT(t);return Vl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function GV(t){const e=VV(t),{Fp:n,n:r}=e,s=n.BYTES+1,a=2*n.BYTES+1;function c(W){return Tr(W,r)}function l(W){return y6(W,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:g}=HV({...e,toBytes(W,U,O){const B=U.toAffine(),q=n.toBytes(B.x),G=d0;return Al("isCompressed",O),O?G(Uint8Array.from([U.hasEvenY()?2:3]),q):G(Uint8Array.from([4]),q,n.toBytes(B.y))},fromBytes(W){const U=W.length,O=W[0],B=W.subarray(1);if(U===s&&(O===2||O===3)){const q=uc(B);if(!mg(q,Sn,n.ORDER))throw new Error("Point is not on curve");const G=p(q);let D;try{D=n.sqrt(G)}catch(te){const ne=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+ne)}const K=(D&Sn)===Sn;return(O&1)===1!==K&&(D=n.neg(D)),{x:q,y:D}}else if(U===a&&O===4){const q=n.fromBytes(B.subarray(0,n.BYTES)),G=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:q,y:G}}else{const q=s,G=a;throw new Error("invalid Point, expected length of "+q+", or uncompressed "+G+", got "+U)}}}),b=W=>Sl(Nl(W,e.nByteLength));function w(W){const U=r>>Sn;return W>U}function E(W){return w(W)?c(-W):W}const v=(W,U,O)=>uc(W.slice(U,O));class _{constructor(U,O,B){this.r=U,this.s=O,this.recovery=B,this.assertValidity()}static fromCompact(U){const O=e.nByteLength;return U=Hr("compactSignature",U,O*2),new _(v(U,0,O),v(U,O,2*O))}static fromDER(U){const{r:O,s:B}=Vi.toSig(Hr("DER",U));return new _(O,B)}assertValidity(){Qi("r",this.r,Sn,r),Qi("s",this.s,Sn,r)}addRecoveryBit(U){return new _(this.r,this.s,U)}recoverPublicKey(U){const{r:O,s:B,recovery:q}=this,G=A(Hr("msgHash",U));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const D=q===2||q===3?O+e.n:O;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(q&1)===0?"02":"03",te=u.fromHex(K+b(D)),ne=l(D),re=c(-G*ne),le=c(B*ne),he=u.BASE.multiplyAndAddUnsafe(te,re,le);if(!he)throw new Error("point at infinify");return he.assertValidity(),he}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Tl(this.toDERHex())}toDERHex(){return Vi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Tl(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const T={isValidPrivateKey(W){try{return d(W),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const W=WT(e.n);return OV(e.randomBytes(W),e.n)},precompute(W=8,U=u.BASE){return U._setWindowSize(W),U.multiply(BigInt(3)),U}};function S(W,U=!0){return u.fromPrivateKey(W).toRawBytes(U)}function I(W){const U=Tc(W),O=typeof W=="string",B=(U||O)&&W.length;return U?B===s||B===a:O?B===2*s||B===2*a:W instanceof u}function x(W,U,O=!0){if(I(W))throw new Error("first arg must be private key");if(!I(U))throw new Error("second arg must be public key");return u.fromHex(U).multiply(d(W)).toRawBytes(O)}const N=e.bits2int||function(W){if(W.length>8192)throw new Error("input is too large");const U=uc(W),O=W.length*8-e.nBitLength;return O>0?U>>BigInt(O):U},A=e.bits2int_modN||function(W){return c(N(W))},R=Uw(e.nBitLength);function k(W){return Qi("num < 2^"+e.nBitLength,W,Ki,R),Nl(W,e.nByteLength)}function M(W,U,O=z){if(["recovered","canonical"].some(Ie=>Ie in O))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:q}=e;let{lowS:G,prehash:D,extraEntropy:K}=O;G==null&&(G=!0),W=Hr("msgHash",W),IC(O),D&&(W=Hr("prehashed msgHash",B(W)));const te=A(W),ne=d(U),re=[k(ne),k(te)];if(K!=null&&K!==!1){const Ie=K===!0?q(n.BYTES):K;re.push(Hr("extraEntropy",Ie))}const le=d0(...re),he=te;function Ke(Ie){const Ge=N(Ie);if(!g(Ge))return;const nn=l(Ge),Gt=u.BASE.multiply(Ge).toAffine(),fn=c(Gt.x);if(fn===Ki)return;const qn=c(nn*c(he+fn*ne));if(qn===Ki)return;let Hn=(Gt.x===fn?0:2)|Number(Gt.y&Sn),ia=qn;return G&&w(qn)&&(ia=E(qn),Hn^=1),new _(fn,ia,Hn)}return{seed:le,k2sig:Ke}}const z={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function X(W,U,O=z){const{seed:B,k2sig:q}=M(W,U,O),G=e;return FT(G.hash.outputLen,G.nByteLength,G.hmac)(B,q)}u.BASE._setWindowSize(8);function ie(W,U,O,B=H){var qn;const q=W;U=Hr("msgHash",U),O=Hr("publicKey",O);const{lowS:G,prehash:D,format:K}=B;if(IC(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");const te=typeof q=="string"||Tc(q),ne=!te&&!K&&typeof q=="object"&&q!==null&&typeof q.r=="bigint"&&typeof q.s=="bigint";if(!te&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,le;try{if(ne&&(re=new _(q.r,q.s)),te){try{K!=="compact"&&(re=_.fromDER(q))}catch(Hn){if(!(Hn instanceof Vi.Err))throw Hn}!re&&K!=="der"&&(re=_.fromCompact(q))}le=u.fromHex(O)}catch{return!1}if(!re||G&&re.hasHighS())return!1;D&&(U=e.hash(U));const{r:he,s:Ke}=re,Ie=A(U),Ge=l(Ke),nn=c(Ie*Ge),Gt=c(he*Ge),fn=(qn=u.BASE.multiplyAndAddUnsafe(le,nn,Gt))==null?void 0:qn.toAffine();return fn?c(fn.x)===he:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:x,sign:X,verify:ie,ProjectivePoint:u,Signature:_,utils:T}}function WV(t){return{hash:t,hmac:(e,...n)=>dg(t,e,Qq(...n)),randomBytes:Hl}}function KV(t,e){const n=r=>GV({...t,...WV(r)});return{...n(e),create:n}}const QT=VT(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),YV=QT.create(BigInt("-3")),ZV=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),QV=KV({a:YV,b:ZV,Fp:QT,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Q0),XT="base10",cr="base16",Ms="base64pad",Ha="base64url",J0="utf8",JT=0,Xi=1,eh=2,XV=0,xC=1,Ad=12,Mw=32;function JV(){const t=v6.utils.randomPrivateKey(),e=v6.getPublicKey(t);return{privateKey:Or(t,cr),publicKey:Or(e,cr)}}function E6(){const t=Hl(Mw);return Or(t,cr)}function eG(t,e){const n=v6.getSharedSecret(gs(t,cr),gs(e,cr)),r=sV(Q0,n,void 0,void 0,Mw);return Or(r,cr)}function i1(t){const e=Q0(gs(t,cr));return Or(e,cr)}function oi(t){const e=Q0(gs(t,J0));return Or(e,cr)}function eN(t){return gs(`${t}`,XT)}function Nc(t){return Number(Or(t,XT))}function tN(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function nN(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function tG(t){const e=eN(typeof t.type<"u"?t.type:JT);if(Nc(e)===Xi&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?gs(t.senderPublicKey,cr):void 0,r=typeof t.iv<"u"?gs(t.iv,cr):Hl(Ad),s=gs(t.symKey,cr),a=LT(s,r).encrypt(gs(t.message,J0)),c=rN({type:e,sealed:a,iv:r,senderPublicKey:n});return t.encoding===Ha?tN(c):c}function nG(t){const e=gs(t.symKey,cr),{sealed:n,iv:r}=h0({encoded:t.encoded,encoding:t.encoding}),s=LT(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Or(s,J0)}function rG(t,e){const n=eN(eh),r=Hl(Ad),s=gs(t,J0),a=rN({type:n,sealed:s,iv:r});return e===Ha?tN(a):a}function sG(t,e){const{sealed:n}=h0({encoded:t,encoding:e});return Or(n,J0)}function rN(t){if(Nc(t.type)===eh)return Or(Cd([t.type,t.sealed]),Ms);if(Nc(t.type)===Xi){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Or(Cd([t.type,t.senderPublicKey,t.iv,t.sealed]),Ms)}return Or(Cd([t.type,t.iv,t.sealed]),Ms)}function h0(t){const e=(t.encoding||Ms)===Ha?nN(t.encoded):t.encoded,n=gs(e,Ms),r=n.slice(XV,xC),s=xC;if(Nc(r)===Xi){const u=s+Mw,d=u+Ad,p=n.slice(s,u),g=n.slice(u,d),b=n.slice(d);return{type:r,sealed:b,iv:g,senderPublicKey:p}}if(Nc(r)===eh){const u=n.slice(s),d=Hl(Ad);return{type:r,sealed:u,iv:d}}const a=s+Ad,c=n.slice(s,a),l=n.slice(a);return{type:r,sealed:l,iv:c}}function iG(t,e){const n=h0({encoded:t,encoding:e==null?void 0:e.encoding});return sN({type:Nc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Or(n.senderPublicKey,cr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function sN(t){const e=(t==null?void 0:t.type)||JT;if(e===Xi){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function PC(t){return t.type===Xi&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function DC(t){return t.type===eh}function aG(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Cd([new Uint8Array([4]),e,n])}function oG(t,e){const[n,r,s]=t.split("."),a=Buffer.from(nN(s),"base64");if(a.length!==64)throw new Error("Invalid signature length");const c=a.slice(0,32),l=a.slice(32,64),u=`${n}.${r}`,d=Q0(u),p=aG(e);if(!QV.verify(Cd([c,l]),d,p))throw new Error("Invalid signature");return o6(t).payload}const cG="irn";function D1(t){return(t==null?void 0:t.relay)||{protocol:cG}}function bd(t){const e=hq[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function fG(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const a=s.replace(r,""),c=t[s];n[a]=c}}),n}function $C(t){if(!t.includes("wc:")){const d=TT(t);d!=null&&d.includes("wc:")&&(t=d)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),a=typeof n<"u"?t.substring(n):"",c=new URLSearchParams(a),l={};c.forEach((d,p)=>{l[p]=d});const u=typeof l.methods=="string"?l.methods.split(","):void 0;return{protocol:r,topic:lG(s[0]),version:parseInt(s[1],10),symKey:l.symKey,relay:fG(l),methods:u,expiryTimestamp:l.expiryTimestamp?parseInt(l.expiryTimestamp,10):void 0}}function lG(t){return t.startsWith("//")?t.substring(2):t}function uG(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const a=s,c=n+e+a;t[a]&&(r[c]=t[a])}),r}function UC(t){const e=new URLSearchParams,n=uG(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Fp(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function Gl(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function dG(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Gl(n.accounts))}),e}function hG(t,e){const n=[];return Object.values(t).forEach(r=>{Gl(r.accounts).includes(e)&&n.push(...r.methods)}),n}function pG(t,e){const n=[];return Object.values(t).forEach(r=>{Gl(r.accounts).includes(e)&&n.push(...r.events)}),n}function kw(t){return t.includes(":")}function yd(t){return kw(t)?t.split(":")[0]:t}function gG(t){const e={};return t==null||t.forEach(n=>{var r;const[s,a]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${a}`)}),e}function MC(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=gG(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=r1(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}const mG={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},bG={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function me(t,e){const{message:n,code:r}=bG[t];return{message:e?`${n} ${e}`:n,code:r}}function It(t,e){const{message:n,code:r}=mG[t];return{message:e?`${n} ${e}`:n,code:r}}function fo(t,e){return!!Array.isArray(t)}function p0(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Bn(t){return typeof t>"u"}function on(t,e){return e&&Bn(t)?!0:typeof t=="string"&&!!t.trim().length}function Bw(t,e){return e&&Bn(t)?!0:typeof t=="number"&&!isNaN(t)}function yG(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let a=!0;return ec(s,r)?(r.forEach(c=>{const{accounts:l,methods:u,events:d}=t.namespaces[c],p=Gl(l),g=n[c];(!ec(ET(c,g),p)||!ec(g.methods,u)||!ec(g.events,d))&&(a=!1)}),a):!1}function $1(t){return on(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function wG(t){if(on(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&$1(n)}}return!1}function vG(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(on(t,!1)){if(e(t))return!0;const n=TT(t);return e(n)}}catch{}return!1}function EG(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function _G(t){return t==null?void 0:t.topic}function CG(t,e){let n=null;return on(t==null?void 0:t.publicKey,!1)||(n=me("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function kC(t){let e=!0;return fo(t)?t.length&&(e=t.every(n=>on(n,!1))):e=!1,e}function AG(t,e,n){let r=null;return fo(e)&&e.length?e.forEach(s=>{r||$1(s)||(r=It("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):$1(t)||(r=It("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function SG(t,e,n){let r=null;return Object.entries(t).forEach(([s,a])=>{if(r)return;const c=AG(s,ET(s,a),`${e} ${n}`);c&&(r=c)}),r}function TG(t,e){let n=null;return fo(t)?t.forEach(r=>{n||wG(r)||(n=It("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=It("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function NG(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=TG(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function OG(t,e){let n=null;return kC(t==null?void 0:t.methods)?kC(t==null?void 0:t.events)||(n=It("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=It("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function iN(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=OG(r,`${e}, namespace`);s&&(n=s)}),n}function IG(t,e,n){let r=null;if(t&&p0(t)){const s=iN(t,e);s&&(r=s);const a=SG(t,e,n);a&&(r=a)}else r=me("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function V5(t,e){let n=null;if(t&&p0(t)){const r=iN(t,e);r&&(n=r);const s=NG(t,e);s&&(n=s)}else n=me("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function aN(t){return on(t.protocol,!0)}function RG(t,e){let n=!1;return t?t&&fo(t)&&t.length&&t.forEach(r=>{n=aN(r)}):n=!0,n}function xG(t){return typeof t=="number"}function _r(t){return typeof t<"u"&&typeof t!==null}function PG(t){return!(!t||typeof t!="object"||!t.code||!Bw(t.code,!1)||!t.message||!on(t.message,!1))}function DG(t){return!(Bn(t)||!on(t.method,!1))}function $G(t){return!(Bn(t)||Bn(t.result)&&Bn(t.error)||!Bw(t.id,!1)||!on(t.jsonrpc,!1))}function UG(t){return!(Bn(t)||!on(t.name,!1))}function BC(t,e){return!(!$1(e)||!dG(t).includes(e))}function MG(t,e,n){return on(n,!1)?hG(t,e).includes(n):!1}function kG(t,e,n){return on(n,!1)?pG(t,e).includes(n):!1}function LC(t,e,n){let r=null;const s=BG(t),a=LG(e),c=Object.keys(s),l=Object.keys(a),u=jC(Object.keys(t)),d=jC(Object.keys(e)),p=u.filter(g=>!d.includes(g));return p.length&&(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),ec(c,l)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${l.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||r)return;const b=Gl(e[g].accounts);b.includes(g)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${b.toString()}`))}),c.forEach(g=>{r||(ec(s[g].methods,a[g].methods)?ec(s[g].events,a[g].events)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${g}`)):r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${g}`))}),r}function BG(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function jC(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function LG(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Gl(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(a=>a.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function jG(t,e){return Bw(t,!1)&&t<=e.max&&t>=e.min}function zC(){const t=Y0();return new Promise(e=>{switch(t){case Wr.browser:e(zG());break;case Wr.reactNative:e(FG());break;case Wr.node:e(qG());break;default:e(!0)}})}function zG(){return K0()&&(navigator==null?void 0:navigator.onLine)}async function FG(){if(wo()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function qG(){return!0}function HG(t){switch(Y0()){case Wr.browser:VG(t);break;case Wr.reactNative:GG(t);break}}function VG(t){!wo()&&K0()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function GG(t){wo()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const G5={};class ad{static get(e){return G5[e]}static set(e,n){G5[e]=n}static delete(e){delete G5[e]}}const WG="PARSE_ERROR",KG="INVALID_REQUEST",YG="METHOD_NOT_FOUND",ZG="INVALID_PARAMS",oN="INTERNAL_ERROR",Lw="SERVER_ERROR",QG=[-32700,-32600,-32601,-32602,-32603],Sd={[WG]:{code:-32700,message:"Parse error"},[KG]:{code:-32600,message:"Invalid Request"},[YG]:{code:-32601,message:"Method not found"},[ZG]:{code:-32602,message:"Invalid params"},[oN]:{code:-32603,message:"Internal error"},[Lw]:{code:-32e3,message:"Server error"}},cN=Lw;function XG(t){return QG.includes(t)}function FC(t){return Object.keys(Sd).includes(t)?Sd[t]:Sd[cN]}function JG(t){const e=Object.values(Sd).find(n=>n.code===t);return e||Sd[cN]}function fN(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var W5={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _6=function(t,e){return _6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},_6(t,e)};function eW(t,e){_6(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var C6=function(){return C6=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C6.apply(this,arguments)};function tW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nW(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(a=(s<3?c(a):s>3?c(e,n,a):c(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function rW(t,e){return function(n,r){e(n,r,t)}}function sW(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function iW(t,e,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function l(p){try{d(r.next(p))}catch(g){c(g)}}function u(p){try{d(r.throw(p))}catch(g){c(g)}}function d(p){p.done?a(p.value):s(p.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}function aW(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(p){return u([d,p])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(p){d=[6,p],s=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function oW(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function cW(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function A6(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lN(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){c={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function fW(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lN(arguments[e]));return t}function lW(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],c=0,l=a.length;c<l;c++,s++)r[s]=a[c];return r}function g0(t){return this instanceof g0?(this.v=t,this):new g0(t)}function uW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(b){r[b]&&(s[b]=function(w){return new Promise(function(E,v){a.push([b,w,E,v])>1||l(b,w)})})}function l(b,w){try{u(r[b](w))}catch(E){g(a[0][3],E)}}function u(b){b.value instanceof g0?Promise.resolve(b.value.v).then(d,p):g(a[0][2],b)}function d(b){l("next",b)}function p(b){l("throw",b)}function g(b,w){b(w),a.shift(),a.length&&l(a[0][0],a[0][1])}}function dW(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(c){return(n=!n)?{value:g0(t[s](c)),done:s==="return"}:a?a(c):c}:a}}function hW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof A6=="function"?A6(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(c){return new Promise(function(l,u){c=t[a](c),s(l,u,c.done,c.value)})}}function s(a,c,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},c)}}function pW(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function gW(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function mW(t){return t&&t.__esModule?t:{default:t}}function bW(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function yW(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const wW=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return C6},__asyncDelegator:dW,__asyncGenerator:uW,__asyncValues:hW,__await:g0,__awaiter:iW,__classPrivateFieldGet:bW,__classPrivateFieldSet:yW,__createBinding:oW,__decorate:nW,__exportStar:cW,__extends:eW,__generator:aW,__importDefault:mW,__importStar:gW,__makeTemplateObject:pW,__metadata:sW,__param:rW,__read:lN,__rest:tW,__spread:fW,__spreadArrays:lW,__values:A6},Symbol.toStringTag,{value:"Module"})),vW=TS(wW);var ji={},qC;function EW(){if(qC)return ji;qC=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.isBrowserCryptoAvailable=ji.getSubtleCrypto=ji.getBrowerCrypto=void 0;function t(){return(ai==null?void 0:ai.crypto)||(ai==null?void 0:ai.msCrypto)||{}}ji.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}ji.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return ji.isBrowserCryptoAvailable=n,ji}var zi={},HC;function _W(){if(HC)return zi;HC=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.isBrowser=zi.isNode=zi.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}zi.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}zi.isNode=e;function n(){return!t()&&!e()}return zi.isBrowser=n,zi}var VC;function CW(){return VC||(VC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=vW;e.__exportStar(EW(),t),e.__exportStar(_W(),t)}(W5)),W5}var AW=CW();function ti(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function tc(t=6){return BigInt(ti(t))}function so(t,e,n){return{id:n||ti(),jsonrpc:"2.0",method:t,params:e}}function bg(t,e){return{id:t,jsonrpc:"2.0",result:e}}function yg(t,e,n){return{id:t,jsonrpc:"2.0",error:SW(e)}}function SW(t,e){return typeof t>"u"?FC(oN):(typeof t=="string"&&(t=Object.assign(Object.assign({},FC(Lw)),{message:t})),XG(t.code)&&(t=JG(t.code)),t)}let TW=class{},NW=class extends TW{constructor(){super()}},OW=class extends NW{constructor(e){super()}};const IW="^https?:",RW="^wss?:";function xW(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function uN(t,e){const n=xW(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function GC(t){return uN(t,IW)}function WC(t){return uN(t,RW)}function PW(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function dN(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function jw(t){return dN(t)&&"method"in t}function wg(t){return dN(t)&&(ni(t)||ps(t))}function ni(t){return"result"in t}function ps(t){return"error"in t}let vs=class extends OW{constructor(e){super(e),this.events=new ws.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(so(e.method,e.params||[],e.id||tc().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(a){s(a)}this.events.on(`${e.id}`,a=>{ps(a)?s(a.error):r(a.result)});try{await this.connection.send(e,n)}catch(a){s(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),wg(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const DW=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),$W=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",KC=t=>t.split("?")[0],YC=10,UW=DW();let MW=class{constructor(e){if(this.url=e,this.events=new ws.EventEmitter,this.registering=!1,!WC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ta(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!WC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=AW.isReactNative()?void 0:{rejectUnauthorized:!PW(e)},a=new UW(e,[],s);$W()?a.onerror=c=>{const l=c;r(this.emitError(l.error))}:a.on("error",c=>{r(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),n(a)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?_c(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),a=yg(e,s);this.events.emit("payload",a)}parseError(e,n=this.url){return fN(e,KC(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>YC&&this.events.setMaxListeners(YC)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${KC(this.url)}`));return this.events.emit("register_error",n),n}};var kW={};const hN="wc",pN=2,S6="core",pi=`${hN}@2:${S6}:`,BW={logger:"error"},LW={database:":memory:"},jW="crypto",ZC="client_ed25519_seed",zW=ge.ONE_DAY,FW="keychain",qW="0.3",HW="messages",VW="0.3",QC=ge.SIX_HOURS,GW="publisher",gN="irn",WW="error",mN="wss://relay.walletconnect.org",KW="relayer",Nn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},YW="_subscription",os={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ZW=.1,T6="2.20.2",Bt={link_mode:"link_mode",relay:"relay"},a1={inbound:"inbound",outbound:"outbound"},QW="0.3",XW="WALLETCONNECT_CLIENT_ID",XC="WALLETCONNECT_LINK_MODE_APPS",qr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},JW="subscription",eK="0.3",tK="pairing",nK="0.3",od={wc_pairingDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:0},res:{ttl:ge.ONE_DAY,prompt:!1,tag:0}}},Yo={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ts={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},rK="history",sK="0.3",iK="expirer",ds={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},aK="0.3",oK="verify-api",cK="https://verify.walletconnect.com",bN="https://verify.walletconnect.org",Td=bN,fK=`${Td}/v3`,lK=[cK,bN],uK="echo",dK="https://echo.walletconnect.com",ei={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},qi={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ns={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},zo={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Fo={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},cd={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},hK=.1,pK="event-client",gK=86400,mK="https://pulse.walletconnect.org/batch";function bK(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var l=t.length,u=t.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,_=0,T=0,S=E.length;T!==S&&E[T]===0;)T++,v++;for(var I=(S-T)*p+1>>>0,x=new Uint8Array(I);T!==S;){for(var N=E[T],A=0,R=I-1;(N!==0||A<_)&&R!==-1;R--,A++)N+=256*x[R]>>>0,x[R]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");_=A,T++}for(var k=I-_;k!==I&&x[k]===0;)k++;for(var M=u.repeat(v);k<I;++k)M+=t.charAt(x[k]);return M}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var _=0,T=0;E[v]===u;)_++,v++;for(var S=(E.length-v)*d+1>>>0,I=new Uint8Array(S);E[v];){var x=n[E.charCodeAt(v)];if(x===255)return;for(var N=0,A=S-1;(x!==0||N<T)&&A!==-1;A--,N++)x+=l*I[A]>>>0,I[A]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");T=N,v++}if(E[v]!==" "){for(var R=S-T;R!==S&&I[R]===0;)R++;for(var k=new Uint8Array(_+(S-R)),M=_;R!==S;)k[M++]=I[R++];return k}}}function w(E){var v=b(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:b,decode:w}}var yK=bK,wK=yK;const yN=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},vK=t=>new TextEncoder().encode(t),EK=t=>new TextDecoder().decode(t);class _K{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class CK{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return wN(this,e)}}class AK{constructor(e){this.decoders=e}or(e){return wN(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const wN=(t,e)=>new AK({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class SK{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new _K(e,n,r),this.decoder=new CK(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vg=({name:t,prefix:e,encode:n,decode:r})=>new SK(t,e,n,r),th=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=wK(n,e);return vg({prefix:t,name:e,encode:r,decode:a=>yN(s(a))})},TK=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let l=0,u=0,d=0;for(let p=0;p<a;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|g,l+=n,l>=8&&(l-=8,c[d++]=255&u>>l)}if(l>=n||255&u<<8-l)throw new SyntaxError("Unexpected end of data");return c},NK=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,l=0;for(let u=0;u<t.length;++u)for(l=l<<8|t[u],c+=8;c>n;)c-=n,a+=e[s&l>>c];if(c&&(a+=e[s&l<<n-c]),r)for(;a.length*n&7;)a+="=";return a},Fn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>vg({prefix:e,name:t,encode(s){return NK(s,r,n)},decode(s){return TK(s,r,n,t)}}),OK=vg({prefix:"\0",name:"identity",encode:t=>EK(t),decode:t=>vK(t)});var IK=Object.freeze({__proto__:null,identity:OK});const RK=Fn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var xK=Object.freeze({__proto__:null,base2:RK});const PK=Fn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var DK=Object.freeze({__proto__:null,base8:PK});const $K=th({prefix:"9",name:"base10",alphabet:"0123456789"});var UK=Object.freeze({__proto__:null,base10:$K});const MK=Fn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),kK=Fn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var BK=Object.freeze({__proto__:null,base16:MK,base16upper:kK});const LK=Fn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jK=Fn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zK=Fn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),FK=Fn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),qK=Fn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),HK=Fn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),VK=Fn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),GK=Fn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),WK=Fn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var KK=Object.freeze({__proto__:null,base32:LK,base32upper:jK,base32pad:zK,base32padupper:FK,base32hex:qK,base32hexupper:HK,base32hexpad:VK,base32hexpadupper:GK,base32z:WK});const YK=th({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ZK=th({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var QK=Object.freeze({__proto__:null,base36:YK,base36upper:ZK});const XK=th({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),JK=th({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var eY=Object.freeze({__proto__:null,base58btc:XK,base58flickr:JK});const tY=Fn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nY=Fn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rY=Fn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sY=Fn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var iY=Object.freeze({__proto__:null,base64:tY,base64pad:nY,base64url:rY,base64urlpad:sY});const vN=Array.from(""),aY=vN.reduce((t,e,n)=>(t[n]=e,t),[]),oY=vN.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function cY(t){return t.reduce((e,n)=>(e+=aY[n],e),"")}function fY(t){const e=[];for(const n of t){const r=oY[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const lY=vg({prefix:"",name:"base256emoji",encode:cY,decode:fY});var uY=Object.freeze({__proto__:null,base256emoji:lY}),dY=EN,JC=128,hY=-128,pY=Math.pow(2,31);function EN(t,e,n){e=e||[],n=n||0;for(var r=n;t>=pY;)e[n++]=t&255|JC,t/=128;for(;t&hY;)e[n++]=t&255|JC,t>>>=7;return e[n]=t|0,EN.bytes=n-r+1,e}var gY=N6,mY=128,eA=127;function N6(t,r){var n=0,r=r||0,s=0,a=r,c,l=t.length;do{if(a>=l)throw N6.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&eA)<<s:(c&eA)*Math.pow(2,s),s+=7}while(c>=mY);return N6.bytes=a-r,n}var bY=Math.pow(2,7),yY=Math.pow(2,14),wY=Math.pow(2,21),vY=Math.pow(2,28),EY=Math.pow(2,35),_Y=Math.pow(2,42),CY=Math.pow(2,49),AY=Math.pow(2,56),SY=Math.pow(2,63),TY=function(t){return t<bY?1:t<yY?2:t<wY?3:t<vY?4:t<EY?5:t<_Y?6:t<CY?7:t<AY?8:t<SY?9:10},NY={encode:dY,decode:gY,encodingLength:TY},_N=NY;const tA=(t,e,n=0)=>(_N.encode(t,e,n),e),nA=t=>_N.encodingLength(t),O6=(t,e)=>{const n=e.byteLength,r=nA(t),s=r+nA(n),a=new Uint8Array(s+n);return tA(t,a,0),tA(n,a,r),a.set(e,s),new OY(t,n,e,a)};class OY{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const CN=({name:t,code:e,encode:n})=>new IY(t,e,n);class IY{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?O6(this.code,n):n.then(r=>O6(this.code,r))}else throw Error("Unknown type, must be binary type")}}const AN=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),RY=CN({name:"sha2-256",code:18,encode:AN("SHA-256")}),xY=CN({name:"sha2-512",code:19,encode:AN("SHA-512")});var PY=Object.freeze({__proto__:null,sha256:RY,sha512:xY});const SN=0,DY="identity",TN=yN,$Y=t=>O6(SN,TN(t)),UY={code:SN,name:DY,encode:TN,digest:$Y};var MY=Object.freeze({__proto__:null,identity:UY});new TextEncoder,new TextDecoder;const rA={...IK,...xK,...DK,...UK,...BK,...KK,...QK,...eY,...iY,...uY};({...PY,...MY});function kY(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function NN(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const sA=NN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),K5=NN("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=kY(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BY={utf8:sA,"utf-8":sA,hex:rA.base16,latin1:K5,ascii:K5,binary:K5,...rA};function LY(t,e="utf8"){const n=BY[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var jY=Object.defineProperty,zY=(t,e,n)=>e in t?jY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xs=(t,e,n)=>zY(t,typeof e!="symbol"?e+"":e,n);class FY{constructor(e,n){this.core=e,this.logger=n,Xs(this,"keychain",new Map),Xs(this,"name",FW),Xs(this,"version",qW),Xs(this,"initialized",!1),Xs(this,"storagePrefix",pi),Xs(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Xs(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Xs(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Xs(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:a}=me("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(a)}return s}),Xs(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Xn(n,this.name)}get context(){return xr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,l6(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?u6(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qY=Object.defineProperty,HY=(t,e,n)=>e in t?qY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Un=(t,e,n)=>HY(t,typeof e!="symbol"?e+"":e,n);class VY{constructor(e,n,r){this.core=e,this.logger=n,Un(this,"name",jW),Un(this,"keychain"),Un(this,"randomSessionIdentifier",E6()),Un(this,"initialized",!1),Un(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Un(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Un(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),a=M3(s);return tT(a.publicKey)}),Un(this,"generateKeyPair",()=>{this.isInitialized();const s=JV();return this.setPrivateKey(s.publicKey,s.privateKey)}),Un(this,"signJWT",async s=>{this.isInitialized();const a=await this.getClientSeed(),c=M3(a),l=this.randomSessionIdentifier;return await uz(l,s,zW,c)}),Un(this,"generateSharedKey",(s,a,c)=>{this.isInitialized();const l=this.getPrivateKey(s),u=eG(l,a);return this.setSymKey(u,c)}),Un(this,"setSymKey",async(s,a)=>{this.isInitialized();const c=a||i1(s);return await this.keychain.set(c,s),c}),Un(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Un(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Un(this,"encode",async(s,a,c)=>{this.isInitialized();const l=sN(c),u=ta(a);if(DC(l))return rG(u,c==null?void 0:c.encoding);if(PC(l)){const b=l.senderPublicKey,w=l.receiverPublicKey;s=await this.generateSharedKey(b,w)}const d=this.getSymKey(s),{type:p,senderPublicKey:g}=l;return tG({type:p,symKey:d,message:u,senderPublicKey:g,encoding:c==null?void 0:c.encoding})}),Un(this,"decode",async(s,a,c)=>{this.isInitialized();const l=iG(a,c);if(DC(l)){const u=sG(a,c==null?void 0:c.encoding);return _c(u)}if(PC(l)){const u=l.receiverPublicKey,d=l.senderPublicKey;s=await this.generateSharedKey(u,d)}try{const u=this.getSymKey(s),d=nG({symKey:u,encoded:a,encoding:c==null?void 0:c.encoding});return _c(d)}catch(u){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),Un(this,"getPayloadType",(s,a=Ms)=>{const c=h0({encoded:s,encoding:a});return Nc(c.type)}),Un(this,"getPayloadSenderPublicKey",(s,a=Ms)=>{const c=h0({encoded:s,encoding:a});return c.senderPublicKey?Or(c.senderPublicKey,cr):void 0}),this.core=e,this.logger=Xn(n,this.name),this.keychain=r||new FY(this.core,this.logger)}get context(){return xr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ZC)}catch{e=E6(),await this.keychain.set(ZC,e)}return LY(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var GY=Object.defineProperty,WY=Object.defineProperties,KY=Object.getOwnPropertyDescriptors,iA=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,ZY=Object.prototype.propertyIsEnumerable,I6=(t,e,n)=>e in t?GY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QY=(t,e)=>{for(var n in e||(e={}))YY.call(e,n)&&I6(t,n,e[n]);if(iA)for(var n of iA(e))ZY.call(e,n)&&I6(t,n,e[n]);return t},XY=(t,e)=>WY(t,KY(e)),zr=(t,e,n)=>I6(t,typeof e!="symbol"?e+"":e,n);class JY extends fB{constructor(e,n){super(e,n),this.logger=e,this.core=n,zr(this,"messages",new Map),zr(this,"messagesWithoutClientAck",new Map),zr(this,"name",HW),zr(this,"version",VW),zr(this,"initialized",!1),zr(this,"storagePrefix",pi),zr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),zr(this,"set",async(r,s,a)=>{this.isInitialized();const c=oi(s);let l=this.messages.get(r);if(typeof l>"u"&&(l={}),typeof l[c]<"u")return c;if(l[c]=s,this.messages.set(r,l),a===a1.inbound){const u=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,XY(QY({},u),{[c]:s}))}return await this.persist(),c}),zr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),zr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const a of r){const c=this.messagesWithoutClientAck.get(a)||{};s[a]=Object.values(c)}return s}),zr(this,"has",(r,s)=>{this.isInitialized();const a=this.get(r),c=oi(s);return typeof a[c]<"u"}),zr(this,"ack",async(r,s)=>{this.isInitialized();const a=this.messagesWithoutClientAck.get(r);if(typeof a>"u")return;const c=oi(s);delete a[c],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,a),await this.persist()}),zr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Xn(e,this.name),this.core=n}get context(){return xr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,l6(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,l6(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?u6(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?u6(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var eZ=Object.defineProperty,tZ=Object.defineProperties,nZ=Object.getOwnPropertyDescriptors,aA=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,sZ=Object.prototype.propertyIsEnumerable,R6=(t,e,n)=>e in t?eZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qp=(t,e)=>{for(var n in e||(e={}))rZ.call(e,n)&&R6(t,n,e[n]);if(aA)for(var n of aA(e))sZ.call(e,n)&&R6(t,n,e[n]);return t},Y5=(t,e)=>tZ(t,nZ(e)),Os=(t,e,n)=>R6(t,typeof e!="symbol"?e+"":e,n);class iZ extends lB{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Os(this,"events",new ws.EventEmitter),Os(this,"name",GW),Os(this,"queue",new Map),Os(this,"publishTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),Os(this,"initialPublishTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),Os(this,"needsTransportRestart",!1),Os(this,"publish",async(r,s,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:a}});const l=(a==null?void 0:a.ttl)||QC,u=D1(a),d=(a==null?void 0:a.prompt)||!1,p=(a==null?void 0:a.tag)||0,g=(a==null?void 0:a.id)||tc().toString(),b={topic:r,message:s,opts:{ttl:l,relay:u,prompt:d,tag:p,id:g,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}},w=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{const E=new Promise(async v=>{const _=({id:S})=>{b.opts.id===S&&(this.removeRequestFromQueue(S),this.relayer.events.removeListener(Nn.publish,_),v(b))};this.relayer.events.on(Nn.publish,_);const T=ro(new Promise((S,I)=>{this.rpcPublish({topic:r,message:s,ttl:l,prompt:d,tag:p,id:g,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}).then(S).catch(x=>{this.logger.warn(x,x==null?void 0:x.message),I(x)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await T,this.events.removeListener(Nn.publish,_)}catch(S){this.queue.set(g,Y5(qp({},b),{attempt:1})),this.logger.warn(S,S==null?void 0:S.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:r,message:s,opts:a}}),await ro(E,this.publishTimeout,w)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(c=a==null?void 0:a.internal)!=null&&c.throwOnFailedPublish)throw E}finally{this.queue.delete(g)}}),Os(this,"on",(r,s)=>{this.events.on(r,s)}),Os(this,"once",(r,s)=>{this.events.once(r,s)}),Os(this,"off",(r,s)=>{this.events.off(r,s)}),Os(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Xn(n,this.name),this.registerEventListeners()}get context(){return xr(this.logger)}async rpcPublish(e){var n,r,s,a;const{topic:c,message:l,ttl:u=QC,prompt:d,tag:p,id:g,attestation:b,tvf:w}=e,E={method:bd(D1().protocol).publish,params:qp({topic:c,message:l,ttl:u,prompt:d,tag:p,attestation:b},w),id:g};Bn((n=E.params)==null?void 0:n.prompt)&&((r=E.params)==null||delete r.prompt),Bn((s=E.params)==null?void 0:s.tag)&&((a=E.params)==null||delete a.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:E});const v=await this.relayer.request(E);return this.relayer.events.emit(Nn.publish,e),this.logger.debug("Successfully Published Payload"),v}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,Y5(qp({},e),{attempt:r}));const{topic:s,message:a,opts:c,attestation:l}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(Y5(qp({},e),{topic:s,message:a,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:l,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ll.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Nn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Nn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var aZ=Object.defineProperty,oZ=(t,e,n)=>e in t?aZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xf=(t,e,n)=>oZ(t,typeof e!="symbol"?e+"":e,n);class cZ{constructor(){xf(this,"map",new Map),xf(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),xf(this,"get",e=>this.map.get(e)||[]),xf(this,"exists",(e,n)=>this.get(e).includes(n)),xf(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(a=>a!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),xf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var fZ=Object.defineProperty,lZ=Object.defineProperties,uZ=Object.getOwnPropertyDescriptors,oA=Object.getOwnPropertySymbols,dZ=Object.prototype.hasOwnProperty,hZ=Object.prototype.propertyIsEnumerable,x6=(t,e,n)=>e in t?fZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fd=(t,e)=>{for(var n in e||(e={}))dZ.call(e,n)&&x6(t,n,e[n]);if(oA)for(var n of oA(e))hZ.call(e,n)&&x6(t,n,e[n]);return t},Z5=(t,e)=>lZ(t,uZ(e)),Pt=(t,e,n)=>x6(t,typeof e!="symbol"?e+"":e,n);class pZ extends hB{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Pt(this,"subscriptions",new Map),Pt(this,"topicMap",new cZ),Pt(this,"events",new ws.EventEmitter),Pt(this,"name",JW),Pt(this,"version",eK),Pt(this,"pending",new Map),Pt(this,"cached",[]),Pt(this,"initialized",!1),Pt(this,"storagePrefix",pi),Pt(this,"subscribeTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),Pt(this,"initialSubscribeTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),Pt(this,"clientId"),Pt(this,"batchSubscribeTopicsLimit",500),Pt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Pt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const a=D1(s),c={topic:r,relay:a,transportType:s==null?void 0:s.transportType};this.pending.set(r,c);const l=await this.rpcSubscribe(r,a,s);return typeof l=="string"&&(this.onSubscribe(l,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),l}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),Pt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Pt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Pt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(a=>a.topic===r))})),Pt(this,"on",(r,s)=>{this.events.on(r,s)}),Pt(this,"once",(r,s)=>{this.events.once(r,s)}),Pt(this,"off",(r,s)=>{this.events.off(r,s)}),Pt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Pt(this,"start",async()=>{await this.onConnect()}),Pt(this,"stop",async()=>{await this.onDisconnect()}),Pt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Pt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Pt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ll.pulse,async()=>{await this.checkPending()}),this.events.on(qr.created,async r=>{const s=qr.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(qr.deleted,async r=>{const s=qr.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Xn(n,this.name),this.clientId=""}get context(){return xr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=D1(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const a=It("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===Bt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:bd(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const l=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Bt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},ge.toMiliseconds(ge.ONE_SECOND)),l;const u=new Promise(async p=>{const g=b=>{b.topic===e&&(this.events.removeListener(qr.created,g),p(b.id))};this.events.on(qr.created,g);try{const b=await ro(new Promise((w,E)=>{this.relayer.request(a).catch(v=>{this.logger.warn(v,v==null?void 0:v.message),E(v)}).then(w)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(qr.created,g),p(b)}catch{}}),d=await ro(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!d&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return d?l:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Nn.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:bd(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ro(new Promise(s=>{this.relayer.request(r).catch(a=>this.logger.warn(a)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Nn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:bd(n.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await ro(new Promise((a,c)=>{this.relayer.request(r).catch(l=>{this.logger.warn(l),c(l)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Nn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:bd(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,Z5(fd({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,fd({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,fd({},n)),this.topicMap.set(n.topic,e),this.events.emit(qr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(qr.deleted,Z5(fd({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(qr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(qr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Z5(fd({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await jq(ge.toMiliseconds(ge.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return oi(e+await this.getClientId())}}var gZ=Object.defineProperty,cA=Object.getOwnPropertySymbols,mZ=Object.prototype.hasOwnProperty,bZ=Object.prototype.propertyIsEnumerable,P6=(t,e,n)=>e in t?gZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fA=(t,e)=>{for(var n in e||(e={}))mZ.call(e,n)&&P6(t,n,e[n]);if(cA)for(var n of cA(e))bZ.call(e,n)&&P6(t,n,e[n]);return t},ht=(t,e,n)=>P6(t,typeof e!="symbol"?e+"":e,n);class yZ extends uB{constructor(e){super(e),ht(this,"protocol","wc"),ht(this,"version",2),ht(this,"core"),ht(this,"logger"),ht(this,"events",new ws.EventEmitter),ht(this,"provider"),ht(this,"messages"),ht(this,"subscriber"),ht(this,"publisher"),ht(this,"name",KW),ht(this,"transportExplicitlyClosed",!1),ht(this,"initialized",!1),ht(this,"connectionAttemptInProgress",!1),ht(this,"relayUrl"),ht(this,"projectId"),ht(this,"packageName"),ht(this,"bundleId"),ht(this,"hasExperiencedNetworkDisruption",!1),ht(this,"pingTimeout"),ht(this,"heartBeatTimeout",ge.toMiliseconds(ge.THIRTY_SECONDS+ge.FIVE_SECONDS)),ht(this,"reconnectTimeout"),ht(this,"connectPromise"),ht(this,"reconnectInProgress",!1),ht(this,"requestsInFlight",[]),ht(this,"connectTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),ht(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const a=n.id||tc().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const c=`${a}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const l=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==c),l}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),ht(this,"resetPingTimeout",()=>{x1()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(c){this.logger.warn(c,c==null?void 0:c.message)}},this.heartBeatTimeout))}),ht(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ht(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Nn.connect)}),ht(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),ht(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Nn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ht(this,"registerProviderListeners",()=>{this.provider.on(os.payload,this.onPayloadHandler),this.provider.on(os.connect,this.onConnectHandler),this.provider.on(os.disconnect,this.onDisconnectHandler),this.provider.on(os.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Xn(e.logger,this.name):H0(jl({level:e.logger||WW})),this.messages=new JY(this.logger,e.core),this.subscriber=new pZ(this,this.logger),this.publisher=new iZ(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||mN,this.projectId=e.projectId,Aq()?this.packageName=nC():Sq()&&(this.bundleId=nC()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return xr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Bt.relay},a1.outbound)}async subscribe(e,n){var r,s,a;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const c=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let l=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",u;const d=p=>{p.topic===e&&(this.subscriber.off(qr.created,d),u())};return await Promise.all([new Promise(p=>{u=p,this.subscriber.on(qr.created,d)}),new Promise(async(p,g)=>{l=await this.subscriber.subscribe(e,fA({internal:{throwOnFailedPublish:c}},n)).catch(b=>{c&&g(b)})||l,p()})]),l}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ro(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await zC())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=hn(ge.FIVE_MINUTES),a={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,a)}this.events.emit(Nn.message,e),await this.recordMessageEvent(e,a1.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const a=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(os.disconnect,a),await ro(new Promise((c,l)=>{this.provider.connect().then(c).catch(l)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{s(c)}).finally(()=>{this.provider.off(os.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,l)=>{const u=()=>{l(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(os.disconnect,u),await this.subscriber.start().then(c).catch(l).finally(()=>{this.provider.off(os.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ge.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,a;if(x1())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((a=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c==null?void 0:c.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new vs(new MW(Rq({sdkVersion:T6,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),jw(e)){if(!e.method.endsWith(YW))return;const n=e.params,{topic:r,message:s,publishedAt:a,attestation:c}=n.data,l={topic:r,message:s,publishedAt:a,transportType:Bt.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(fA({type:"event",event:n.id},l)),this.events.emit(n.id,l),await this.acknowledgePayload(e),await this.onMessageEvent(l)}else wg(e)&&this.events.emit(Nn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,a1.inbound),this.events.emit(Nn.message,e))}async acknowledgePayload(e){const n=bg(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(os.payload,this.onPayloadHandler),this.provider.off(os.connect,this.onConnectHandler),this.provider.off(os.disconnect,this.onDisconnectHandler),this.provider.off(os.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await zC();HG(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Nn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ge.toMiliseconds(ZW)))))}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function wZ(){}function lA(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function uA(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function dA(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const vZ="[object RegExp]",EZ="[object String]",_Z="[object Number]",CZ="[object Boolean]",hA="[object Arguments]",AZ="[object Symbol]",SZ="[object Date]",TZ="[object Map]",NZ="[object Set]",OZ="[object Array]",IZ="[object Function]",RZ="[object ArrayBuffer]",Q5="[object Object]",xZ="[object Error]",PZ="[object DataView]",DZ="[object Uint8Array]",$Z="[object Uint8ClampedArray]",UZ="[object Uint16Array]",MZ="[object Uint32Array]",kZ="[object BigUint64Array]",BZ="[object Int8Array]",LZ="[object Int16Array]",jZ="[object Int32Array]",zZ="[object BigInt64Array]",FZ="[object Float32Array]",qZ="[object Float64Array]";function HZ(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function VZ(t,e,n){return wd(t,e,void 0,void 0,void 0,void 0,n)}function wd(t,e,n,r,s,a,c){const l=c(t,e,n,r,s,a);if(l!==void 0)return l;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Nd(t,e,a,c)}return Nd(t,e,a,c)}function Nd(t,e,n,r){if(Object.is(t,e))return!0;let s=dA(t),a=dA(e);if(s===hA&&(s=Q5),a===hA&&(a=Q5),s!==a)return!1;switch(s){case EZ:return t.toString()===e.toString();case _Z:{const u=t.valueOf(),d=e.valueOf();return HZ(u,d)}case CZ:case SZ:case AZ:return Object.is(t.valueOf(),e.valueOf());case vZ:return t.source===e.source&&t.flags===e.flags;case IZ:return t===e}n=n??new Map;const c=n.get(t),l=n.get(e);if(c!=null&&l!=null)return c===e;n.set(t,e),n.set(e,t);try{switch(s){case TZ:{if(t.size!==e.size)return!1;for(const[u,d]of t.entries())if(!e.has(u)||!wd(d,e.get(u),u,t,e,n,r))return!1;return!0}case NZ:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),d=Array.from(e.values());for(let p=0;p<u.length;p++){const g=u[p],b=d.findIndex(w=>wd(g,w,void 0,t,e,n,r));if(b===-1)return!1;d.splice(b,1)}return!0}case OZ:case DZ:case $Z:case UZ:case MZ:case kZ:case BZ:case LZ:case jZ:case zZ:case FZ:case qZ:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!wd(t[u],e[u],u,t,e,n,r))return!1;return!0}case RZ:return t.byteLength!==e.byteLength?!1:Nd(new Uint8Array(t),new Uint8Array(e),n,r);case PZ:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Nd(new Uint8Array(t),new Uint8Array(e),n,r);case xZ:return t.name===e.name&&t.message===e.message;case Q5:{if(!(Nd(t.constructor,e.constructor,n,r)||lA(t)&&lA(e)))return!1;const u=[...Object.keys(t),...uA(t)],d=[...Object.keys(e),...uA(e)];if(u.length!==d.length)return!1;for(let p=0;p<u.length;p++){const g=u[p],b=t[g];if(!Object.hasOwn(e,g))return!1;const w=e[g];if(!wd(b,w,g,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function GZ(t,e){return VZ(t,e,wZ)}var WZ=Object.defineProperty,pA=Object.getOwnPropertySymbols,KZ=Object.prototype.hasOwnProperty,YZ=Object.prototype.propertyIsEnumerable,D6=(t,e,n)=>e in t?WZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gA=(t,e)=>{for(var n in e||(e={}))KZ.call(e,n)&&D6(t,n,e[n]);if(pA)for(var n of pA(e))YZ.call(e,n)&&D6(t,n,e[n]);return t},br=(t,e,n)=>D6(t,typeof e!="symbol"?e+"":e,n);class kc extends dB{constructor(e,n,r,s=pi,a=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,br(this,"map",new Map),br(this,"version",QW),br(this,"cached",[]),br(this,"initialized",!1),br(this,"getKey"),br(this,"storagePrefix",pi),br(this,"recentlyDeleted",[]),br(this,"recentlyDeletedLimit",200),br(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Bn(c)?this.map.set(this.getKey(c),c):EG(c)?this.map.set(c.id,c):_G(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),br(this,"set",async(c,l)=>{this.isInitialized(),this.map.has(c)?await this.update(c,l):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:l}),this.map.set(c,l),await this.persist())}),br(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),br(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(l=>Object.keys(c).every(u=>GZ(l[u],c[u]))):this.values)),br(this,"update",async(c,l)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:l});const u=gA(gA({},this.getData(c)),l);this.map.set(c,u),await this.persist()}),br(this,"delete",async(c,l)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:l}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=Xn(n,this.name),this.storagePrefix=s,this.getKey=a}get context(){return xr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=me("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ZZ=Object.defineProperty,QZ=(t,e,n)=>e in t?ZZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,it=(t,e,n)=>QZ(t,typeof e!="symbol"?e+"":e,n);class XZ{constructor(e,n){this.core=e,this.logger=n,it(this,"name",tK),it(this,"version",nK),it(this,"events",new ww),it(this,"pairings"),it(this,"initialized",!1),it(this,"storagePrefix",pi),it(this,"ignoredPayloadTypes",[Xi]),it(this,"registeredMethods",[]),it(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),it(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),it(this,"create",async r=>{this.isInitialized();const s=E6(),a=await this.core.crypto.setSymKey(s),c=hn(ge.FIVE_MINUTES),l={protocol:gN},u={topic:a,expiry:c,relay:l,active:!1,methods:r==null?void 0:r.methods},d=UC({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:s,relay:l,expiryTimestamp:c,methods:r==null?void 0:r.methods});return this.events.emit(Yo.create,u),this.core.expirer.set(a,c),await this.pairings.set(a,u),await this.core.relayer.subscribe(a,{transportType:r==null?void 0:r.transportType}),{topic:a,uri:d}}),it(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ei.pairing_started]}});this.isValidPair(r,s);const{topic:a,symKey:c,relay:l,expiryTimestamp:u,methods:d}=$C(r.uri);s.props.properties.topic=a,s.addTrace(ei.pairing_uri_validation_success),s.addTrace(ei.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(a)){if(p=this.pairings.get(a),s.addTrace(ei.existing_pairing),p.active)throw s.setError(qi.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);s.addTrace(ei.pairing_not_expired)}const g=u||hn(ge.FIVE_MINUTES),b={topic:a,relay:l,expiry:g,active:!1,methods:d};this.core.expirer.set(a,g),await this.pairings.set(a,b),s.addTrace(ei.store_new_pairing),r.activatePairing&&await this.activate({topic:a}),this.events.emit(Yo.create,b),s.addTrace(ei.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(c,a),s.addTrace(ei.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(qi.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:l})}catch(w){throw s.setError(qi.subscribe_pairing_topic_failure),w}return s.addTrace(ei.subscribe_pairing_topic_success),b}),it(this,"activate",async({topic:r})=>{this.isInitialized();const s=hn(ge.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),it(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const a=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:l,reject:u}=Vo();this.events.once(wt("pairing_ping",a),({error:d})=>{d?u(d):l()}),await c()}}),it(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),it(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),it(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),it(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",It("USER_DISCONNECTED")),await this.deletePairing(s))}),it(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:a,expiry:c,methods:l}=r,u=this.core.crypto.keychain.get(s);return UC({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:u,relay:a,expiryTimestamp:c,methods:l})}),it(this,"sendRequest",async(r,s,a)=>{const c=so(s,a),l=await this.core.crypto.encode(r,c),u=od[s].req;return this.core.history.set(r,c),this.core.relayer.publish(r,l,u),c.id}),it(this,"sendResult",async(r,s,a)=>{const c=bg(r,a),l=await this.core.crypto.encode(s,c),u=(await this.core.history.get(s,r)).request.method,d=od[u].res;await this.core.relayer.publish(s,l,d),await this.core.history.resolve(c)}),it(this,"sendError",async(r,s,a)=>{const c=yg(r,a),l=await this.core.crypto.encode(s,c),u=(await this.core.history.get(s,r)).request.method,d=od[u]?od[u].res:od.unregistered_method.res;await this.core.relayer.publish(s,l,d),await this.core.history.resolve(c)}),it(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,It("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),it(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>qa(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),it(this,"onRelayEventRequest",async r=>{const{topic:s,payload:a}=r;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,a);default:return await this.onUnknownRpcMethodRequest(s,a)}}),it(this,"onRelayEventResponse",async r=>{const{topic:s,payload:a}=r,c=(await this.core.history.get(s,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,a);default:return this.onUnknownRpcMethodResponse(c)}}),it(this,"onPairingPingRequest",async(r,s)=>{const{id:a}=s;try{this.isValidPing({topic:r}),await this.sendResult(a,r,!0),this.events.emit(Yo.ping,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),it(this,"onPairingPingResponse",(r,s)=>{const{id:a}=s;setTimeout(()=>{ni(s)?this.events.emit(wt("pairing_ping",a),{}):ps(s)&&this.events.emit(wt("pairing_ping",a),{error:s.error})},500)}),it(this,"onPairingDeleteRequest",async(r,s)=>{const{id:a}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Yo.delete,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),it(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:a,method:c}=s;try{if(this.registeredMethods.includes(c))return;const l=It("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,r,l),this.logger.error(l)}catch(l){await this.sendError(a,r,l),this.logger.error(l)}}),it(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(It("WC_METHOD_UNSUPPORTED",r))}),it(this,"isValidPair",(r,s)=>{var a;if(!_r(r)){const{message:l}=me("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(qi.malformed_pairing_uri),new Error(l)}if(!vG(r.uri)){const{message:l}=me("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(qi.malformed_pairing_uri),new Error(l)}const c=$C(r==null?void 0:r.uri);if(!((a=c==null?void 0:c.relay)!=null&&a.protocol)){const{message:l}=me("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(qi.malformed_pairing_uri),new Error(l)}if(!(c!=null&&c.symKey)){const{message:l}=me("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(qi.malformed_pairing_uri),new Error(l)}if(c!=null&&c.expiryTimestamp&&ge.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){s.setError(qi.pairing_expired);const{message:l}=me("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(l)}}),it(this,"isValidPing",async r=>{if(!_r(r)){const{message:a}=me("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),it(this,"isValidDisconnect",async r=>{if(!_r(r)){const{message:a}=me("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),it(this,"isValidPairingTopic",async r=>{if(!on(r,!1)){const{message:s}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(qa(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=me("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Xn(n,this.name),this.pairings=new kc(this.core,this.logger,this.name,this.storagePrefix)}get context(){return xr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Nn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Bt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const a=await this.core.crypto.decode(n,r);jw(a)?(this.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a})):wg(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a}),this.core.history.delete(n,a.id)),await this.core.relayer.messages.ack(n,r)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(ds.expired,async e=>{const{topic:n}=ST(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Yo.expire,{topic:n}))})}}var JZ=Object.defineProperty,eQ=(t,e,n)=>e in t?JZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mn=(t,e,n)=>eQ(t,typeof e!="symbol"?e+"":e,n);class tQ extends cB{constructor(e,n){super(e,n),this.core=e,this.logger=n,Mn(this,"records",new Map),Mn(this,"events",new ws.EventEmitter),Mn(this,"name",rK),Mn(this,"version",sK),Mn(this,"cached",[]),Mn(this,"initialized",!1),Mn(this,"storagePrefix",pi),Mn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Mn(this,"set",(r,s,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:a}),this.records.has(s.id))return;const c={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:a,expiry:hn(ge.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(Ts.created,c)}),Mn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=ps(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Ts.updated,s))}),Mn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Mn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(a=>{if(a.topic===r){if(typeof s<"u"&&a.id!==s)return;this.records.delete(a.id),this.events.emit(Ts.deleted,a)}}),this.persist()}),Mn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Mn(this,"on",(r,s)=>{this.events.on(r,s)}),Mn(this,"once",(r,s)=>{this.events.once(r,s)}),Mn(this,"off",(r,s)=>{this.events.off(r,s)}),Mn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Xn(n,this.name)}get context(){return xr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:so(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ts.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ts.created,e=>{const n=Ts.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ts.updated,e=>{const n=Ts.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ts.deleted,e=>{const n=Ts.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ll.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ge.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ts.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nQ=Object.defineProperty,rQ=(t,e,n)=>e in t?nQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kn=(t,e,n)=>rQ(t,typeof e!="symbol"?e+"":e,n);class sQ extends pB{constructor(e,n){super(e,n),this.core=e,this.logger=n,Kn(this,"expirations",new Map),Kn(this,"events",new ws.EventEmitter),Kn(this,"name",iK),Kn(this,"version",aK),Kn(this,"cached",[]),Kn(this,"initialized",!1),Kn(this,"storagePrefix",pi),Kn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Kn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Kn(this,"set",(r,s)=>{this.isInitialized();const a=this.formatTarget(r),c={target:a,expiry:s};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(ds.created,{target:a,expiration:c})}),Kn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Kn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),a=this.getExpiration(s);this.expirations.delete(s),this.events.emit(ds.deleted,{target:s,expiration:a})}}),Kn(this,"on",(r,s)=>{this.events.on(r,s)}),Kn(this,"once",(r,s)=>{this.events.once(r,s)}),Kn(this,"off",(r,s)=>{this.events.off(r,s)}),Kn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Xn(n,this.name)}get context(){return xr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return xq(e);if(typeof e=="number")return Pq(e);const{message:n}=me("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ds.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ge.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(ds.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ll.pulse,()=>this.checkExpirations()),this.events.on(ds.created,e=>{const n=ds.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ds.expired,e=>{const n=ds.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ds.deleted,e=>{const n=ds.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iQ=Object.defineProperty,aQ=(t,e,n)=>e in t?iQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,an=(t,e,n)=>aQ(t,typeof e!="symbol"?e+"":e,n);class oQ extends gB{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,an(this,"name",oK),an(this,"abortController"),an(this,"isDevEnv"),an(this,"verifyUrlV3",fK),an(this,"storagePrefix",pi),an(this,"version",pN),an(this,"publicKey"),an(this,"fetchPromise"),an(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ge.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),an(this,"register",async s=>{if(!K0()||this.isDevEnv)return;const a=window.location.origin,{id:c,decryptedId:l}=s,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${c}&decryptedId=${l}`;try{const d=Cc.getDocument(),p=this.startAbortTimer(ge.ONE_SECOND*5),g=await new Promise((b,w)=>{const E=()=>{window.removeEventListener("message",_),d.body.removeChild(v),w("attestation aborted")};this.abortController.signal.addEventListener("abort",E);const v=d.createElement("iframe");v.src=u,v.style.display="none",v.addEventListener("error",E,{signal:this.abortController.signal});const _=T=>{if(T.data&&typeof T.data=="string")try{const S=JSON.parse(T.data);if(S.type==="verify_attestation"){if(o6(S.attestation).payload.id!==c)return;clearInterval(p),d.body.removeChild(v),this.abortController.signal.removeEventListener("abort",E),window.removeEventListener("message",_),b(S.attestation===null?"":S.attestation)}}catch(S){this.logger.warn(S)}};d.body.appendChild(v),window.addEventListener("message",_,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",g),g}catch(d){this.logger.warn(d)}return""}),an(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:a,hash:c,encryptedId:l}=s;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if(o6(a).payload.id!==l)return;const d=await this.isValidJwtAttestation(a);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!c)return;const u=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(c,u)}),an(this,"fetchAttestation",async(s,a)=>{this.logger.debug(`resolving attestation: ${s} from url: ${a}`);const c=this.startAbortTimer(ge.ONE_SECOND*5),l=await fetch(`${a}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),l.status===200?await l.json():void 0}),an(this,"getVerifyUrl",s=>{let a=s||Td;return lK.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${Td}`),a=Td),a}),an(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ge.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await a.json()}catch(s){this.logger.warn(s)}}),an(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),an(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),an(this,"isValidJwtAttestation",async s=>{const a=await this.getPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(s,c)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}}),an(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),an(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),a(c))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),an(this,"validateAttestation",(s,a)=>{const c=oG(s,a.publicKey),l={hasExpired:ge.toMiliseconds(c.exp)<Date.now(),payload:c};if(l.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:l.payload.origin,isScam:l.payload.isScam,isVerified:l.payload.isVerified}}),this.logger=Xn(n,this.name),this.abortController=new AbortController,this.isDevEnv=Rw(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return xr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ge.toMiliseconds(e))}}var cQ=Object.defineProperty,fQ=(t,e,n)=>e in t?cQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mA=(t,e,n)=>fQ(t,typeof e!="symbol"?e+"":e,n);class lQ extends mB{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,mA(this,"context",uK),mA(this,"registerDeviceToken",async r=>{const{clientId:s,token:a,notificationType:c,enableEncrypted:l=!1}=r,u=`${dK}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:c,token:a,always_raw:l})})}),this.logger=Xn(n,this.context)}}var uQ=Object.defineProperty,bA=Object.getOwnPropertySymbols,dQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,$6=(t,e,n)=>e in t?uQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ld=(t,e)=>{for(var n in e||(e={}))dQ.call(e,n)&&$6(t,n,e[n]);if(bA)for(var n of bA(e))hQ.call(e,n)&&$6(t,n,e[n]);return t},_n=(t,e,n)=>$6(t,typeof e!="symbol"?e+"":e,n);class pQ extends bB{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,_n(this,"context",pK),_n(this,"storagePrefix",pi),_n(this,"storageVersion",hK),_n(this,"events",new Map),_n(this,"shouldPersist",!1),_n(this,"init",async()=>{if(!Rw())try{const s={eventId:sC(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:CT(this.core.relayer.protocol,this.core.relayer.version,T6)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),_n(this,"createEvent",s=>{const{event:a="ERROR",type:c="",properties:{topic:l,trace:u}}=s,d=sC(),p=this.core.projectId||"",g=Date.now(),b=ld({eventId:d,timestamp:g,props:{event:a,type:c,properties:{topic:l,trace:u}},bundleId:p,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,b),this.shouldPersist=!0),b}),_n(this,"getEvent",s=>{const{eventId:a,topic:c}=s;if(a)return this.events.get(a);const l=Array.from(this.events.values()).find(u=>u.props.properties.topic===c);if(l)return ld(ld({},l),this.setMethods(l.eventId))}),_n(this,"deleteEvent",s=>{const{eventId:a}=s;this.events.delete(a),this.shouldPersist=!0}),_n(this,"setEventListeners",()=>{this.core.heartbeat.on(Ll.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ge.fromMiliseconds(Date.now())-ge.fromMiliseconds(s.timestamp)>gK&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),_n(this,"setMethods",s=>({addTrace:a=>this.addTrace(s,a),setError:a=>this.setError(s,a)})),_n(this,"addTrace",(s,a)=>{const c=this.events.get(s);c&&(c.props.properties.trace.push(a),this.events.set(s,c),this.shouldPersist=!0)}),_n(this,"setError",(s,a)=>{const c=this.events.get(s);c&&(c.props.type=a,c.timestamp=Date.now(),this.events.set(s,c),this.shouldPersist=!0)}),_n(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),_n(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(a=>{this.events.set(a.eventId,ld(ld({},a),this.setMethods(a.eventId)))})}catch(s){this.logger.warn(s)}}),_n(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[a,c]of this.events)c.props.type&&s.push(c);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const a of s)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),_n(this,"sendEvent",async s=>{const a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${mK}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${T6}${a}`,{method:"POST",body:JSON.stringify(s)})}),_n(this,"getAppDomain",()=>_T().url),this.logger=Xn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var gQ=Object.defineProperty,yA=Object.getOwnPropertySymbols,mQ=Object.prototype.hasOwnProperty,bQ=Object.prototype.propertyIsEnumerable,U6=(t,e,n)=>e in t?gQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wA=(t,e)=>{for(var n in e||(e={}))mQ.call(e,n)&&U6(t,n,e[n]);if(yA)for(var n of yA(e))bQ.call(e,n)&&U6(t,n,e[n]);return t},Mt=(t,e,n)=>U6(t,typeof e!="symbol"?e+"":e,n);let yQ=class ON extends sB{constructor(e){var n;super(e),Mt(this,"protocol",hN),Mt(this,"version",pN),Mt(this,"name",S6),Mt(this,"relayUrl"),Mt(this,"projectId"),Mt(this,"customStoragePrefix"),Mt(this,"events",new ws.EventEmitter),Mt(this,"logger"),Mt(this,"heartbeat"),Mt(this,"relayer"),Mt(this,"crypto"),Mt(this,"storage"),Mt(this,"history"),Mt(this,"expirer"),Mt(this,"pairing"),Mt(this,"verify"),Mt(this,"echoClient"),Mt(this,"linkModeSupportedApps"),Mt(this,"eventClient"),Mt(this,"initialized",!1),Mt(this,"logChunkController"),Mt(this,"on",(l,u)=>this.events.on(l,u)),Mt(this,"once",(l,u)=>this.events.once(l,u)),Mt(this,"off",(l,u)=>this.events.off(l,u)),Mt(this,"removeListener",(l,u)=>this.events.removeListener(l,u)),Mt(this,"dispatchEnvelope",({topic:l,message:u,sessionExists:d})=>{if(!l||!u)return;const p={topic:l,message:u,publishedAt:Date.now(),transportType:Bt.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:d})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(l){console.warn("Failed to copy global core",l)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||mN,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=jl({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:BW.logger,name:S6}),{logger:a,chunkLoggerController:c}=Ew({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=c,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var l,u;(l=this.logChunkController)!=null&&l.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Xn(a,this.name),this.heartbeat=new rk,this.crypto=new VY(this,this.logger,e==null?void 0:e.keychain),this.history=new tQ(this,this.logger),this.expirer=new sQ(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Lk(wA(wA({},LW),e==null?void 0:e.storageOptions)),this.relayer=new yZ({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new XZ(this,this.logger),this.verify=new oQ(this,this.logger,this.storage),this.echoClient=new lQ(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new pQ(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new ON(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(XW,r),n}get context(){return xr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(XC,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(XC)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&kW.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const wQ=yQ,IN="wc",RN=2,xN="client",zw=`${IN}@${RN}:${xN}:`,X5={name:xN,logger:"error"},vA="WALLETCONNECT_DEEPLINK_CHOICE",vQ="proposal",EA="Proposal expired",EQ="session",Pf=ge.SEVEN_DAYS,_Q="engine",Cn={wc_sessionPropose:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ge.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ge.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1119}}},J5={min:ge.FIVE_MINUTES,max:ge.SEVEN_DAYS},Js={idle:"IDLE",active:"ACTIVE"},_A={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},CQ="request",AQ=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],SQ="wc",TQ="auth",NQ="authKeys",OQ="pairingTopics",IQ="requests",Eg=`${SQ}@${1.5}:${TQ}:`,o1=`${Eg}:PUB_KEY`;var RQ=Object.defineProperty,xQ=Object.defineProperties,PQ=Object.getOwnPropertyDescriptors,CA=Object.getOwnPropertySymbols,DQ=Object.prototype.hasOwnProperty,$Q=Object.prototype.propertyIsEnumerable,M6=(t,e,n)=>e in t?RQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dt=(t,e)=>{for(var n in e||(e={}))DQ.call(e,n)&&M6(t,n,e[n]);if(CA)for(var n of CA(e))$Q.call(e,n)&&M6(t,n,e[n]);return t},nr=(t,e)=>xQ(t,PQ(e)),ce=(t,e,n)=>M6(t,typeof e!="symbol"?e+"":e,n);class UQ extends EB{constructor(e){super(e),ce(this,"name",_Q),ce(this,"events",new ww),ce(this,"initialized",!1),ce(this,"requestQueue",{state:Js.idle,queue:[]}),ce(this,"sessionRequestQueue",{state:Js.idle,queue:[]}),ce(this,"requestQueueDelay",ge.ONE_SECOND),ce(this,"expectedPairingMethodMap",new Map),ce(this,"recentlyDeletedMap",new Map),ce(this,"recentlyDeletedLimit",200),ce(this,"relayMessageCache",[]),ce(this,"pendingSessions",new Map),ce(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Cn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay)))}),ce(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=nr(Dt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:s,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:l,scopedProperties:u,relays:d}=r;let p=s,g,b=!1;try{if(p){const A=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),b=A.active}}catch(A){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),A}if(!p||!b){const{topic:A,uri:R}=await this.client.core.pairing.create();p=A,g=R}if(!p){const{message:A}=me("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(A)}const w=await this.client.core.crypto.generateKeyPair(),E=Cn.wc_sessionPropose.req.ttl||ge.FIVE_MINUTES,v=hn(E),_=nr(Dt(Dt({requiredNamespaces:a,optionalNamespaces:c,relays:d??[{protocol:gN}],proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:p},l&&{sessionProperties:l}),u&&{scopedProperties:u}),{id:ti()}),T=wt("session_connect",_.id),{reject:S,resolve:I,done:x}=Vo(E,EA),N=({id:A})=>{A===_.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(_.id),this.events.emit(T,{error:{message:EA,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(T,({error:A,session:R})=>{this.client.events.off("proposal_expire",N),A?S(A):R&&I(R)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:_,throwOnFailedPublish:!0,clientRpcId:_.id}),await this.setProposal(_.id,_),{uri:g,approval:x}}),ce(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ce(this,"approve",async n=>{var r,s,a;const c=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ns.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(M){throw c.setError(zo.no_internet_connection),M}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(M){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),c.setError(zo.proposal_not_found),M}try{await this.isValidApprove(n)}catch(M){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(zo.session_approve_namespace_validation_failure),M}const{id:l,relayProtocol:u,namespaces:d,sessionProperties:p,scopedProperties:g,sessionConfig:b}=n,w=this.client.proposal.get(l);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:E,proposer:v,requiredNamespaces:_,optionalNamespaces:T}=w;let S=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:E});S||(S=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:Ns.session_approve_started,properties:{topic:E,trace:[Ns.session_approve_started,Ns.session_namespaces_validation_success]}}));const I=await this.client.core.crypto.generateKeyPair(),x=v.publicKey,N=await this.client.core.crypto.generateSharedKey(I,x),A=Dt(Dt(Dt({relay:{protocol:u??"irn"},namespaces:d,controller:{publicKey:I,metadata:this.client.metadata},expiry:hn(Pf)},p&&{sessionProperties:p}),g&&{scopedProperties:g}),b&&{sessionConfig:b}),R=Bt.relay;S.addTrace(Ns.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:R})}catch(M){throw S.setError(zo.subscribe_session_topic_failure),M}S.addTrace(Ns.subscribe_session_topic_success);const k=nr(Dt({},A),{topic:N,requiredNamespaces:_,optionalNamespaces:T,pairingTopic:E,acknowledged:!1,self:A.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:I,transportType:Bt.relay});await this.client.session.set(N,k),S.addTrace(Ns.store_session);try{S.addTrace(Ns.publishing_session_settle),await this.sendRequest({topic:N,method:"wc_sessionSettle",params:A,throwOnFailedPublish:!0}).catch(M=>{throw S==null||S.setError(zo.session_settle_publish_failure),M}),S.addTrace(Ns.session_settle_publish_success),S.addTrace(Ns.publishing_session_approve),await this.sendResult({id:l,topic:E,result:{relay:{protocol:u??"irn"},responderPublicKey:I},throwOnFailedPublish:!0}).catch(M=>{throw S==null||S.setError(zo.session_approve_publish_failure),M}),S.addTrace(Ns.session_approve_publish_success)}catch(M){throw this.client.logger.error(M),this.client.session.delete(N,It("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),M}return this.client.core.eventClient.deleteEvent({eventId:S.eventId}),await this.client.core.pairing.updateMetadata({topic:E,metadata:v.metadata}),await this.client.proposal.delete(l,It("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:E}),await this.setExpiry(N,hn(Pf)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),ce(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:r,reason:s}=n;let a;try{a=this.client.proposal.get(r).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),c}a&&(await this.sendError({id:r,topic:a,error:s,rpcOpts:Cn.wc_sessionPropose.reject}),await this.client.proposal.delete(r,It("USER_DISCONNECTED")))}),ce(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:r,namespaces:s}=n,{done:a,resolve:c,reject:l}=Vo(),u=ti(),d=tc().toString(),p=this.client.session.get(r).namespaces;return this.events.once(wt("session_update",u),({error:g})=>{g?l(g):c()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:d}).catch(g=>{this.client.logger.error(g),this.client.session.update(r,{namespaces:p}),l(g)}),{acknowledged:a}}),ce(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:r}=n,s=ti(),{done:a,resolve:c,reject:l}=Vo();return this.events.once(wt("session_extend",s),({error:u})=>{u?l(u):c()}),await this.setExpiry(r,hn(Pf)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(u=>{l(u)}),{acknowledged:a}}),ce(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(T){throw this.client.logger.error("request() -> isValidRequest() failed"),T}const{chainId:r,request:s,topic:a,expiry:c=Cn.wc_sessionRequest.req.ttl}=n,l=this.client.session.get(a);(l==null?void 0:l.transportType)===Bt.relay&&await this.confirmOnlineStateOrThrow();const u=ti(),d=tc().toString(),{done:p,resolve:g,reject:b}=Vo(c,"Request expired. Please try again.");this.events.once(wt("session_request",u),({error:T,result:S})=>{T?b(T):g(S)});const w="wc_sessionRequest",E=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);if(E)return await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:a,method:w,params:{request:nr(Dt({},s),{expiryTimestamp:hn(c)}),chainId:r},expiry:c,throwOnFailedPublish:!0,appLink:E}).catch(T=>b(T)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:u}),await p();const v={request:nr(Dt({},s),{expiryTimestamp:hn(c)}),chainId:r},_=this.shouldSetTVF(w,v);return await Promise.all([new Promise(async T=>{await this.sendRequest(Dt({clientRpcId:u,relayRpcId:d,topic:a,method:w,params:v,expiry:c,throwOnFailedPublish:!0},_&&{tvf:this.getTVFParams(u,v)})).catch(S=>b(S)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:u}),T()}),new Promise(async T=>{var S;if(!((S=l.sessionConfig)!=null&&S.disableDeepLink)){const I=await Mq(this.client.core.storage,vA);await Dq({id:u,topic:a,wcDeepLink:I})}T()}),p()]).then(T=>T[2])}),ce(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:a}=s,c=this.client.session.get(r);c.transportType===Bt.relay&&await this.confirmOnlineStateOrThrow();const l=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);ni(s)?await this.sendResult({id:a,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:l}):ps(s)&&await this.sendError({id:a,topic:r,error:s.error,appLink:l}),this.cleanupAfterResponse(n)}),ce(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ti(),a=tc().toString(),{done:c,resolve:l,reject:u}=Vo();this.events.once(wt("session_ping",s),({error:d})=>{d?u(d):l()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:a}),c()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ce(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:a}=n,c=tc().toString(),l=ti();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:a},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:l})}),ce(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:It("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=me("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),ce(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>yG(r,n)))),ce(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ce(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const a=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),c=a?Bt.link_mode:Bt.relay;c===Bt.relay&&await this.confirmOnlineStateOrThrow();const{chains:l,statement:u="",uri:d,domain:p,nonce:g,type:b,exp:w,nbf:E,methods:v=[],expiry:_}=n,T=[...n.resources||[]],{topic:S,uri:I}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:S,uri:I}});const x=await this.client.core.crypto.generateKeyPair(),N=i1(x);if(await Promise.all([this.client.auth.authKeys.set(o1,{responseTopic:N,publicKey:x}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:S})]),await this.client.core.relayer.subscribe(N,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${S}`),v.length>0){const{namespace:G}=Jf(l[0]);let D=OH(G,"request",v);s1(T)&&(D=RH(D,T.pop())),T.push(D)}const A=_&&_>Cn.wc_sessionAuthenticate.req.ttl?_:Cn.wc_sessionAuthenticate.req.ttl,R={authPayload:{type:b??"caip122",chains:l,statement:u,aud:d,domain:p,version:"1",nonce:g,iat:new Date().toISOString(),exp:w,nbf:E,resources:T},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:hn(A)},k={eip155:{chains:l,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},M={requiredNamespaces:{},optionalNamespaces:k,relays:[{protocol:"irn"}],pairingTopic:S,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:hn(Cn.wc_sessionPropose.req.ttl),id:ti()},{done:z,resolve:H,reject:X}=Vo(A,"Request expired"),ie=ti(),W=wt("session_connect",M.id),U=wt("session_request",ie),O=async({error:G,session:D})=>{this.events.off(U,B),G?X(G):D&&H({session:D})},B=async G=>{var D,K,te;if(await this.deletePendingAuthRequest(ie,{message:"fulfilled",code:0}),G.error){const Ge=It("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return G.error.code===Ge.code?void 0:(this.events.off(W,O),X(G.error.message))}await this.deleteProposal(M.id),this.events.off(W,O);const{cacaos:ne,responder:re}=G.result,le=[],he=[];for(const Ge of ne){await dC({cacao:Ge,projectId:this.client.core.projectId})||(this.client.logger.error(Ge,"Signature verification failed"),X(It("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:nn}=Ge,Gt=s1(nn.resources),fn=[d6(nn.iss)],qn=P1(nn.iss);if(Gt){const Hn=hC(Gt),ia=pC(Gt);le.push(...Hn),fn.push(...ia)}for(const Hn of fn)he.push(`${Hn}:${qn}`)}const Ke=await this.client.core.crypto.generateSharedKey(x,re.publicKey);let Ie;le.length>0&&(Ie={topic:Ke,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:re,controller:re.publicKey,expiry:hn(Pf),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:S,namespaces:MC([...new Set(le)],[...new Set(he)]),transportType:c},await this.client.core.relayer.subscribe(Ke,{transportType:c}),await this.client.session.set(Ke,Ie),S&&await this.client.core.pairing.updateMetadata({topic:S,metadata:re.metadata}),Ie=this.client.session.get(Ke)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(K=re.metadata.redirect)!=null&&K.linkMode&&(te=re.metadata.redirect)!=null&&te.universal&&r&&(this.client.core.addLinkModeSupportedApp(re.metadata.redirect.universal),this.client.session.update(Ke,{transportType:Bt.link_mode})),H({auths:ne,session:Ie})};this.events.once(W,O),this.events.once(U,B);let q;try{if(a){const G=so("wc_sessionAuthenticate",R,ie);this.client.core.history.set(S,G);const D=await this.client.core.crypto.encode("",G,{type:eh,encoding:Ha});q=Fp(r,S,D)}else await Promise.all([this.sendRequest({topic:S,method:"wc_sessionAuthenticate",params:R,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:ie}),this.sendRequest({topic:S,method:"wc_sessionPropose",params:M,expiry:Cn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M.id})])}catch(G){throw this.events.off(W,O),this.events.off(U,B),G}return await this.setProposal(M.id,M),await this.setAuthRequest(ie,{request:nr(Dt({},R),{verifyContext:{}}),pairingTopic:S,transportType:c}),{uri:q??I,response:z}}),ce(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,a=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Fo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(_){throw a.setError(cd.no_internet_connection),_}const c=this.getPendingAuthRequest(r);if(!c)throw a.setError(cd.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const l=c.transportType||Bt.relay;l===Bt.relay&&await this.confirmOnlineStateOrThrow();const u=c.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),p=i1(u),g={type:Xi,receiverPublicKey:u,senderPublicKey:d},b=[],w=[];for(const _ of s){if(!await dC({cacao:_,projectId:this.client.core.projectId})){a.setError(cd.invalid_cacao);const N=It("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:N,encodeOpts:g}),new Error(N.message)}a.addTrace(Fo.cacaos_verified);const{p:T}=_,S=s1(T.resources),I=[d6(T.iss)],x=P1(T.iss);if(S){const N=hC(S),A=pC(S);b.push(...N),I.push(...A)}for(const N of I)w.push(`${N}:${x}`)}const E=await this.client.core.crypto.generateSharedKey(d,u);a.addTrace(Fo.create_authenticated_session_topic);let v;if((b==null?void 0:b.length)>0){v={topic:E,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:u,metadata:c.requester.metadata},controller:u,expiry:hn(Pf),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:MC([...new Set(b)],[...new Set(w)]),transportType:l},a.addTrace(Fo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:l})}catch(_){throw a.setError(cd.subscribe_authenticated_session_topic_failure),_}a.addTrace(Fo.subscribe_authenticated_session_topic_success),await this.client.session.set(E,v),a.addTrace(Fo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}a.addTrace(Fo.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:s,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,l)})}catch(_){throw a.setError(cd.authenticated_session_approve_publish_failure),_}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:v}}),ce(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,a=this.getPendingAuthRequest(r);if(!a)throw new Error(`Could not find pending auth request with id ${r}`);a.transportType===Bt.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=i1(c),d={type:Xi,receiverPublicKey:c,senderPublicKey:l};await this.sendError({id:r,topic:u,error:s,encodeOpts:d,rpcOpts:Cn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,It("USER_DISCONNECTED"))}),ce(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return $T(r,s)}),ce(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ce(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(a=>{var c,l;return((c=a.peerMetadata)==null?void 0:c.url)&&((l=a.peerMetadata)==null?void 0:l.url)===n.peer.metadata.url&&a.topic&&a.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ce(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:a=!1,emitEvent:c=!0,id:l=0}=n,{self:u}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,It("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),a||this.client.core.expirer.del(s),this.client.core.storage.removeItem(vA).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===s&&this.deletePendingSessionRequest(d.id,It("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Js.idle),c&&this.client.events.emit("session_delete",{id:l,topic:s})}),ce(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),a=this.client.core.eventClient.getEvent({topic:s.pairingTopic});a==null||a.setError(zo.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,It("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ce(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==n),s&&(this.sessionRequestQueue.state=Js.idle,this.client.events.emit("session_request_expire",{id:n}))}),ce(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),ce(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ce(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,hn(Cn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ce(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:a,transportType:c=Bt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:a,verifyContext:s.verifyContext,transportType:c})}),ce(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:a,verifyContext:c}=n,l=a.request.expiryTimestamp||hn(Cn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,l),await this.client.pendingRequest.set(r,{id:r,topic:s,params:a,verifyContext:c})}),ce(this,"sendRequest",async n=>{const{topic:r,method:s,params:a,expiry:c,relayRpcId:l,clientRpcId:u,throwOnFailedPublish:d,appLink:p,tvf:g}=n,b=so(s,a,u);let w;const E=!!p;try{const T=E?Ha:Ms;w=await this.client.core.crypto.encode(r,b,{encoding:T})}catch(T){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),T}let v;if(AQ.includes(s)){const T=oi(JSON.stringify(b)),S=oi(w);v=await this.client.core.verify.register({id:S,decryptedId:T})}const _=Cn[s].req;if(_.attestation=v,c&&(_.ttl=c),l&&(_.id=l),this.client.core.history.set(r,b),E){const T=Fp(p,r,w);await global.Linking.openURL(T,this.client.name)}else{const T=Cn[s].req;c&&(T.ttl=c),l&&(T.id=l),T.tvf=nr(Dt({},g),{correlationId:b.id}),d?(T.internal=nr(Dt({},T.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,w,T)):this.client.core.relayer.publish(r,w,T).catch(S=>this.client.logger.error(S))}return b.id}),ce(this,"sendResult",async n=>{const{id:r,topic:s,result:a,throwOnFailedPublish:c,encodeOpts:l,appLink:u}=n,d=bg(r,a);let p;const g=u&&typeof(global==null?void 0:global.Linking)<"u";try{const E=g?Ha:Ms;p=await this.client.core.crypto.encode(s,d,nr(Dt({},l||{}),{encoding:E}))}catch(E){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),E}let b,w;try{b=await this.client.core.history.get(s,r);const E=b.request;try{this.shouldSetTVF(E.method,E.params)&&(w=this.getTVFParams(r,E.params,a))}catch(v){this.client.logger.warn("sendResult() -> getTVFParams() failed",v)}}catch(E){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),E}if(g){const E=Fp(u,s,p);await global.Linking.openURL(E,this.client.name)}else{const E=b.request.method,v=Cn[E].res;v.tvf=nr(Dt({},w),{correlationId:r}),c?(v.internal=nr(Dt({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,v)):this.client.core.relayer.publish(s,p,v).catch(_=>this.client.logger.error(_))}await this.client.core.history.resolve(d)}),ce(this,"sendError",async n=>{const{id:r,topic:s,error:a,encodeOpts:c,rpcOpts:l,appLink:u}=n,d=yg(r,a);let p;const g=u&&typeof(global==null?void 0:global.Linking)<"u";try{const w=g?Ha:Ms;p=await this.client.core.crypto.encode(s,d,nr(Dt({},c||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),w}let b;try{b=await this.client.core.history.get(s,r)}catch(w){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),w}if(g){const w=Fp(u,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=b.request.method,E=l||Cn[w].res;this.client.core.relayer.publish(s,p,E)}await this.client.core.history.resolve(d)}),ce(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let a=!1;qa(s.expiry)&&(a=!0),this.client.core.crypto.keychain.has(s.topic)||(a=!0),a&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{qa(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),ce(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ce(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ce(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Js.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Js.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Js.idle}),ce(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:a,transportType:c,encryptedId:l}=n,u=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:a,encryptedId:l});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:a,encryptedId:l,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:a,encryptedId:l,transportType:c});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),ce(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:a}=n,c=(await this.client.core.history.get(r,s.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,a);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),ce(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=me("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ce(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,a=this.expectedPairingMethodMap.get(r);return!a||a.includes(s)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ce(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:a,encryptedId:c}=n,{params:l,id:u}=s;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d==null||d.setError(qi.proposal_listener_not_found)),this.isValidConnect(Dt({},s.params));const p=l.expiryTimestamp||hn(Cn.wc_sessionPropose.req.ttl),g=Dt({id:u,pairingTopic:r,expiryTimestamp:p},l);await this.setProposal(u,g);const b=await this.getVerifyContext({attestationId:a,hash:oi(JSON.stringify(s)),encryptedId:c,metadata:g.proposer.metadata});d==null||d.addTrace(ei.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:g,verifyContext:b})}catch(d){await this.sendError({id:u,topic:r,error:d,rpcOpts:Cn.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),ce(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:a}=r;if(ni(r)){const{result:c}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const l=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:l});const u=l.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const d=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const p=await this.client.core.crypto.generateSharedKey(u,d);this.pendingSessions.set(a,{sessionTopic:p,pairingTopic:n,proposalId:a,publicKey:u});const g=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:n})}else if(ps(r)){await this.client.proposal.delete(a,It("USER_DISCONNECTED"));const c=wt("session_connect",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:r.error})}}),ce(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:a}=r;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:l,expiry:u,namespaces:d,sessionProperties:p,scopedProperties:g,sessionConfig:b}=r.params,w=[...this.pendingSessions.values()].find(_=>_.sessionTopic===n);if(!w)return this.client.logger.error(`Pending session not found for topic ${n}`);const E=this.client.proposal.get(w.proposalId),v=nr(Dt(Dt(Dt({topic:n,relay:c,expiry:u,namespaces:d,acknowledged:!0,pairingTopic:w.pairingTopic,requiredNamespaces:E.requiredNamespaces,optionalNamespaces:E.optionalNamespaces,controller:l.publicKey,self:{publicKey:w.publicKey,metadata:this.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},p&&{sessionProperties:p}),g&&{scopedProperties:g}),b&&{sessionConfig:b}),{transportType:Bt.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:w.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(wt("session_connect",w.proposalId),{session:v}),this.pendingSessions.delete(w.proposalId),this.deleteProposal(w.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),ce(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;ni(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(wt("session_approve",s),{})):ps(r)&&(await this.client.session.delete(n,It("USER_DISCONNECTED")),this.events.emit(wt("session_approve",s),{error:r.error}))}),ce(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:a}=r;try{const c=`${n}_session_update`,l=ad.get(c);if(l&&this.isRequestOutOfSync(l,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:n,error:It("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Dt({topic:n},s));try{ad.set(c,a),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:a,topic:n,result:!0,throwOnFailedPublish:!0})}catch(u){throw ad.delete(c),u}this.client.events.emit("session_update",{id:a,topic:n,params:s})}catch(c){await this.sendError({id:a,topic:n,error:c}),this.client.logger.error(c)}}),ce(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ce(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,a=wt("session_update",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ni(r)?this.events.emit(wt("session_update",s),{}):ps(r)&&this.events.emit(wt("session_update",s),{error:r.error})}),ce(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,hn(Pf)),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ce(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,a=wt("session_extend",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ni(r)?this.events.emit(wt("session_extend",s),{}):ps(r)&&this.events.emit(wt("session_extend",s),{error:r.error})}),ce(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ce(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,a=wt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);ni(r)?this.events.emit(wt("session_ping",s),{}):ps(r)&&this.events.emit(wt("session_ping",s),{error:r.error})},500)}),ce(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(a=>{this.client.core.relayer.once(Nn.publish,async()=>{a(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:It("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),ce(this,"onSessionRequest",async n=>{var r,s,a;const{topic:c,payload:l,attestation:u,encryptedId:d,transportType:p}=n,{id:g,params:b}=l;try{await this.isValidRequest(Dt({topic:c},b));const w=this.client.session.get(c),E=await this.getVerifyContext({attestationId:u,hash:oi(JSON.stringify(so("wc_sessionRequest",b,g))),encryptedId:d,metadata:w.peer.metadata,transportType:p}),v={id:g,topic:c,params:b,verifyContext:E};await this.setPendingSessionRequest(v),p===Bt.link_mode&&(r=w.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=w.peer.metadata.redirect)==null?void 0:s.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(w){await this.sendError({id:g,topic:c,error:w}),this.client.logger.error(w)}}),ce(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,a=wt("session_request",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ni(r)?this.events.emit(wt("session_request",s),{result:r.result}):ps(r)&&this.events.emit(wt("session_request",s),{error:r.error})}),ce(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:a}=r;try{const c=`${n}_session_event_${a.event.name}`,l=ad.get(c);if(l&&this.isRequestOutOfSync(l,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Dt({topic:n},a)),this.client.events.emit("session_event",{id:s,topic:n,params:a}),ad.set(c,s)}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),ce(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ni(r)?this.events.emit(wt("session_request",s),{result:r.result}):ps(r)&&this.events.emit(wt("session_request",s),{error:r.error})}),ce(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:a,attestation:c,encryptedId:l,transportType:u}=n;try{const{requester:d,authPayload:p,expiryTimestamp:g}=a.params,b=await this.getVerifyContext({attestationId:c,hash:oi(JSON.stringify(a)),encryptedId:l,metadata:d.metadata,transportType:u}),w={requester:d,pairingTopic:s,id:a.id,authPayload:p,verifyContext:b,expiryTimestamp:g};await this.setAuthRequest(a.id,{request:w,pairingTopic:s,transportType:u}),u===Bt.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:a.params,id:a.id,verifyContext:b})}catch(d){this.client.logger.error(d);const p=a.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),b=this.getAppLinkIfEnabled(a.params.requester.metadata,u),w={type:Xi,receiverPublicKey:p,senderPublicKey:g};await this.sendError({id:a.id,topic:s,error:d,encodeOpts:w,rpcOpts:Cn.wc_sessionAuthenticate.autoReject,appLink:b})}}),ce(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ce(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Js.idle,this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay))}),ce(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(a=>a.topic===n&&a.request.method==="wc_sessionRequest").forEach(a=>{const c=a.request.id,l=wt("session_request",c);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners`);this.events.emit(wt("session_request",a.request.id),{error:r})})}),ce(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Js.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Js.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ce(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ce(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:so("wc_sessionPropose",nr(Dt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),ce(this,"isValidConnect",async n=>{if(!_r(n)){const{message:d}=me("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:u}=n;if(Bn(r)||await this.isValidPairingTopic(r),!RG(u)){const{message:d}=me("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(d)}if(!Bn(s)&&p0(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Bn(a)&&p0(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Bn(c)||this.validateSessionProps(c,"sessionProperties"),!Bn(l)){this.validateSessionProps(l,"scopedProperties");const d=Object.keys(s||{}).concat(Object.keys(a||{}));if(!Object.keys(l).every(p=>d.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(l)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),ce(this,"validateNamespaces",(n,r)=>{const s=IG(n,"connect()",r);if(s)throw new Error(s.message)}),ce(this,"isValidApprove",async n=>{if(!_r(n))throw new Error(me("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:a,sessionProperties:c,scopedProperties:l}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const u=this.client.proposal.get(r),d=V5(s,"approve()");if(d)throw new Error(d.message);const p=LC(u.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!on(a,!0)){const{message:g}=me("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(g)}if(Bn(c)||this.validateSessionProps(c,"sessionProperties"),!Bn(l)){this.validateSessionProps(l,"scopedProperties");const g=new Set(Object.keys(s));if(!Object.keys(l).every(b=>g.has(b)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(l)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),ce(this,"isValidReject",async n=>{if(!_r(n)){const{message:a}=me("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(a)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!PG(s)){const{message:a}=me("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(a)}}),ce(this,"isValidSessionSettleRequest",n=>{if(!_r(n)){const{message:d}=me("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(d)}const{relay:r,controller:s,namespaces:a,expiry:c}=n;if(!aN(r)){const{message:d}=me("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const l=CG(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);const u=V5(a,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(qa(c)){const{message:d}=me("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),ce(this,"isValidUpdate",async n=>{if(!_r(n)){const{message:u}=me("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(u)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const a=this.client.session.get(r),c=V5(s,"update()");if(c)throw new Error(c.message);const l=LC(a.requiredNamespaces,s,"update()");if(l)throw new Error(l.message)}),ce(this,"isValidExtend",async n=>{if(!_r(n)){const{message:s}=me("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ce(this,"isValidRequest",async n=>{if(!_r(n)){const{message:u}=me("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(u)}const{topic:r,request:s,chainId:a,expiry:c}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:l}=this.client.session.get(r);if(!BC(l,a)){const{message:u}=me("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(u)}if(!DG(s)){const{message:u}=me("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(u)}if(!MG(l,a,s.method)){const{message:u}=me("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(u)}if(c&&!jG(c,J5)){const{message:u}=me("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${J5.min} and ${J5.max}`);throw new Error(u)}}),ce(this,"isValidRespond",async n=>{var r;if(!_r(n)){const{message:c}=me("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:s,response:a}=n;try{await this.isValidSessionTopic(s)}catch(c){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!$G(a)){const{message:c}=me("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(c)}}),ce(this,"isValidPing",async n=>{if(!_r(n)){const{message:s}=me("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ce(this,"isValidEmit",async n=>{if(!_r(n)){const{message:l}=me("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(l)}const{topic:r,event:s,chainId:a}=n;await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!BC(c,a)){const{message:l}=me("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(l)}if(!UG(s)){const{message:l}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}if(!kG(c,a,s.name)){const{message:l}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}}),ce(this,"isValidDisconnect",async n=>{if(!_r(n)){const{message:s}=me("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ce(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:a,nonce:c}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!on(s,!1))throw new Error("uri is required parameter");if(!on(a,!1))throw new Error("domain is required parameter");if(!on(c,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(u=>Jf(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:l}=Jf(r[0]);if(l!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ce(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:a,metadata:c,transportType:l}=n,u={verified:{verifyUrl:c.verifyUrl||Td,validation:"UNKNOWN",origin:c.url||""}};try{if(l===Bt.link_mode){const p=this.getAppLinkIfEnabled(c,l);return u.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",u}const d=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:a,verifyUrl:c.verifyUrl});d&&(u.verified.origin=d.origin,u.verified.isScam=d.isScam,u.verified.validation=d.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),ce(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,a)=>{if(s==null){const{message:c}=me("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[a]}`);throw new Error(c)}})}),ce(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ce(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const a=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(s++>=a)break;this.recentlyDeletedMap.delete(c)}}}),ce(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=me("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),ce(this,"isLinkModeEnabled",(n,r)=>{var s,a,c,l,u,d,p,g,b;return!n||r!==Bt.link_mode?!1:((a=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:a.linkMode)===!0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==void 0&&((d=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:d.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.universal)!==void 0&&((g=n==null?void 0:n.redirect)==null?void 0:g.universal)!==""&&((b=n==null?void 0:n.redirect)==null?void 0:b.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ce(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),ce(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=rC(n,"topic")||"",s=decodeURIComponent(rC(n,"wc_ev")||""),a=this.client.session.keys.includes(r);a&&this.client.session.update(r,{transportType:Bt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:a})}),ce(this,"registerLinkModeListeners",async()=>{var n;if(Rw()||wo()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ce(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:s}=r;return Object.keys(_A).includes(s.method)}),ce(this,"getTVFParams",(n,r,s)=>{var a,c;try{const l=r.request.method,u=this.extractTxHashesFromResult(l,s);return nr(Dt({correlationId:n,rpcMethods:[l],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]}),{txHashes:u})}catch(l){this.client.logger.warn("Error getting TVF params",l)}return{}}),ce(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const a=s.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),ce(this,"extractTxHashesFromResult",(n,r)=>{try{const s=_A[n];if(typeof r=="string")return[r];const a=r[s.key];if(fo(a))return n==="solana_signAllTransactions"?a.map(c=>pH(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const a of s)try{await this.onProviderMessageEvent({topic:r,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Nn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:a}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes(o1)?this.client.auth.authKeys.get(o1):{publicKey:void 0};try{const l=await this.client.core.crypto.decode(n,r,{receiverPublicKey:c,encoding:a===Bt.link_mode?Ha:Ms});jw(l)?(this.client.core.history.set(n,l),await this.onRelayEventRequest({topic:n,payload:l,attestation:s,transportType:a,encryptedId:oi(r)})):wg(l)?(await this.client.core.history.resolve(l),await this.onRelayEventResponse({topic:n,payload:l,transportType:a}),this.client.core.history.delete(n,l.id)):await this.onRelayEventUnknownPayload({topic:n,payload:l,transportType:a}),await this.client.core.relayer.messages.ack(n,r)}catch(l){this.client.logger.error(l)}}registerExpirerEvents(){this.client.core.expirer.on(ds.expired,async e=>{const{topic:n,id:r}=ST(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,me("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,me("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Yo.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Yo.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!on(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(qa(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=me("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!on(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(qa(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=me("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=me("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(on(e,!1)){const{message:n}=me("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=me("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!xG(e)){const{message:n}=me("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(qa(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=me("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class MQ extends kc{constructor(e,n){super(e,n,vQ,zw),this.core=e,this.logger=n}}let kQ=class extends kc{constructor(e,n){super(e,n,EQ,zw),this.core=e,this.logger=n}};class BQ extends kc{constructor(e,n){super(e,n,CQ,zw,r=>r.id),this.core=e,this.logger=n}}class LQ extends kc{constructor(e,n){super(e,n,NQ,Eg,()=>o1),this.core=e,this.logger=n}}class jQ extends kc{constructor(e,n){super(e,n,OQ,Eg),this.core=e,this.logger=n}}class zQ extends kc{constructor(e,n){super(e,n,IQ,Eg,r=>r.id),this.core=e,this.logger=n}}var FQ=Object.defineProperty,qQ=(t,e,n)=>e in t?FQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ey=(t,e,n)=>qQ(t,typeof e!="symbol"?e+"":e,n);class HQ{constructor(e,n){this.core=e,this.logger=n,ey(this,"authKeys"),ey(this,"pairingTopics"),ey(this,"requests"),this.authKeys=new LQ(this.core,this.logger),this.pairingTopics=new jQ(this.core,this.logger),this.requests=new zQ(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var VQ=Object.defineProperty,GQ=(t,e,n)=>e in t?VQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,at=(t,e,n)=>GQ(t,typeof e!="symbol"?e+"":e,n);let WQ=class PN extends vB{constructor(e){super(e),at(this,"protocol",IN),at(this,"version",RN),at(this,"name",X5.name),at(this,"metadata"),at(this,"core"),at(this,"logger"),at(this,"events",new ws.EventEmitter),at(this,"engine"),at(this,"session"),at(this,"proposal"),at(this,"pendingRequest"),at(this,"auth"),at(this,"signConfig"),at(this,"on",(r,s)=>this.events.on(r,s)),at(this,"once",(r,s)=>this.events.once(r,s)),at(this,"off",(r,s)=>this.events.off(r,s)),at(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),at(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),at(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),at(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(a){throw this.logger.error(a.message),a}}),at(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||X5.name,this.metadata=Nq(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:H0(jl({level:(e==null?void 0:e.logger)||X5.logger}));this.core=(e==null?void 0:e.core)||new wQ(e),this.logger=Xn(n,this.name),this.session=new kQ(this.core,this.logger),this.proposal=new MQ(this.core,this.logger),this.pendingRequest=new BQ(this.core,this.logger),this.engine=new UQ(this),this.auth=new HQ(this.core,this.logger)}static async init(e){const n=new PN(e);return await n.initialize(),n}get context(){return xr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ge.toMiliseconds(ge.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Hp={exports:{}},AA;function KQ(){return AA||(AA=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ai<"u"&&ai,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(c){var l=typeof a<"u"&&a||typeof self<"u"&&self||typeof ai<"u"&&ai||{},u={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(U){return U&&DataView.prototype.isPrototypeOf(U)}if(u.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(U){return U&&p.indexOf(Object.prototype.toString.call(U))>-1};function b(U){if(typeof U!="string"&&(U=String(U)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(U)||U==="")throw new TypeError('Invalid character in header field name: "'+U+'"');return U.toLowerCase()}function w(U){return typeof U!="string"&&(U=String(U)),U}function E(U){var O={next:function(){var B=U.shift();return{done:B===void 0,value:B}}};return u.iterable&&(O[Symbol.iterator]=function(){return O}),O}function v(U){this.map={},U instanceof v?U.forEach(function(O,B){this.append(B,O)},this):Array.isArray(U)?U.forEach(function(O){if(O.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+O.length);this.append(O[0],O[1])},this):U&&Object.getOwnPropertyNames(U).forEach(function(O){this.append(O,U[O])},this)}v.prototype.append=function(U,O){U=b(U),O=w(O);var B=this.map[U];this.map[U]=B?B+", "+O:O},v.prototype.delete=function(U){delete this.map[b(U)]},v.prototype.get=function(U){return U=b(U),this.has(U)?this.map[U]:null},v.prototype.has=function(U){return this.map.hasOwnProperty(b(U))},v.prototype.set=function(U,O){this.map[b(U)]=w(O)},v.prototype.forEach=function(U,O){for(var B in this.map)this.map.hasOwnProperty(B)&&U.call(O,this.map[B],B,this)},v.prototype.keys=function(){var U=[];return this.forEach(function(O,B){U.push(B)}),E(U)},v.prototype.values=function(){var U=[];return this.forEach(function(O){U.push(O)}),E(U)},v.prototype.entries=function(){var U=[];return this.forEach(function(O,B){U.push([B,O])}),E(U)},u.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function _(U){if(!U._noBody){if(U.bodyUsed)return Promise.reject(new TypeError("Already read"));U.bodyUsed=!0}}function T(U){return new Promise(function(O,B){U.onload=function(){O(U.result)},U.onerror=function(){B(U.error)}})}function S(U){var O=new FileReader,B=T(O);return O.readAsArrayBuffer(U),B}function I(U){var O=new FileReader,B=T(O),q=/charset=([A-Za-z0-9_-]+)/.exec(U.type),G=q?q[1]:"utf-8";return O.readAsText(U,G),B}function x(U){for(var O=new Uint8Array(U),B=new Array(O.length),q=0;q<O.length;q++)B[q]=String.fromCharCode(O[q]);return B.join("")}function N(U){if(U.slice)return U.slice(0);var O=new Uint8Array(U.byteLength);return O.set(new Uint8Array(U)),O.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(U){this.bodyUsed=this.bodyUsed,this._bodyInit=U,U?typeof U=="string"?this._bodyText=U:u.blob&&Blob.prototype.isPrototypeOf(U)?this._bodyBlob=U:u.formData&&FormData.prototype.isPrototypeOf(U)?this._bodyFormData=U:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)?this._bodyText=U.toString():u.arrayBuffer&&u.blob&&d(U)?(this._bodyArrayBuffer=N(U.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(U)||g(U))?this._bodyArrayBuffer=N(U):this._bodyText=U=Object.prototype.toString.call(U):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof U=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var U=_(this);if(U)return U;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var U=_(this);return U||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(S);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var U=_(this);if(U)return U;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function k(U){var O=U.toUpperCase();return R.indexOf(O)>-1?O:U}function M(U,O){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var B=O.body;if(U instanceof M){if(U.bodyUsed)throw new TypeError("Already read");this.url=U.url,this.credentials=U.credentials,O.headers||(this.headers=new v(U.headers)),this.method=U.method,this.mode=U.mode,this.signal=U.signal,!B&&U._bodyInit!=null&&(B=U._bodyInit,U.bodyUsed=!0)}else this.url=String(U);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new v(O.headers)),this.method=k(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal||function(){if("AbortController"in l){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(B),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function z(U){var O=new FormData;return U.trim().split("&").forEach(function(B){if(B){var q=B.split("="),G=q.shift().replace(/\+/g," "),D=q.join("=").replace(/\+/g," ");O.append(decodeURIComponent(G),decodeURIComponent(D))}}),O}function H(U){var O=new v,B=U.replace(/\r?\n[\t ]+/g," ");return B.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var G=q.split(":"),D=G.shift().trim();if(D){var K=G.join(":").trim();try{O.append(D,K)}catch(te){console.warn("Response "+te.message)}}}),O}A.call(M.prototype);function X(U,O){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new v(O.headers),this.url=O.url||"",this._initBody(U)}A.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},X.error=function(){var U=new X(null,{status:200,statusText:""});return U.ok=!1,U.status=0,U.type="error",U};var ie=[301,302,303,307,308];X.redirect=function(U,O){if(ie.indexOf(O)===-1)throw new RangeError("Invalid status code");return new X(null,{status:O,headers:{location:U}})},c.DOMException=l.DOMException;try{new c.DOMException}catch{c.DOMException=function(O,B){this.message=O,this.name=B;var q=Error(O);this.stack=q.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function W(U,O){return new Promise(function(B,q){var G=new M(U,O);if(G.signal&&G.signal.aborted)return q(new c.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function K(){D.abort()}D.onload=function(){var re={statusText:D.statusText,headers:H(D.getAllResponseHeaders()||"")};G.url.indexOf("file://")===0&&(D.status<200||D.status>599)?re.status=200:re.status=D.status,re.url="responseURL"in D?D.responseURL:re.headers.get("X-Request-URL");var le="response"in D?D.response:D.responseText;setTimeout(function(){B(new X(le,re))},0)},D.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){q(new c.DOMException("Aborted","AbortError"))},0)};function te(re){try{return re===""&&l.location.href?l.location.href:re}catch{return re}}if(D.open(G.method,te(G.url),!0),G.credentials==="include"?D.withCredentials=!0:G.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(u.blob?D.responseType="blob":u.arrayBuffer&&(D.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof v||l.Headers&&O.headers instanceof l.Headers)){var ne=[];Object.getOwnPropertyNames(O.headers).forEach(function(re){ne.push(b(re)),D.setRequestHeader(re,w(O.headers[re]))}),G.headers.forEach(function(re,le){ne.indexOf(le)===-1&&D.setRequestHeader(le,re)})}else G.headers.forEach(function(re,le){D.setRequestHeader(le,re)});G.signal&&(G.signal.addEventListener("abort",K),D.onreadystatechange=function(){D.readyState===4&&G.signal.removeEventListener("abort",K)}),D.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return W.polyfill=!0,l.fetch||(l.fetch=W,l.Headers=v,l.Request=M,l.Response=X),c.Headers=v,c.Request=M,c.Response=X,c.fetch=W,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(Hp,Hp.exports)),Hp.exports}var YQ=KQ();const SA=Dl(YQ);var ZQ=Object.defineProperty,QQ=Object.defineProperties,XQ=Object.getOwnPropertyDescriptors,TA=Object.getOwnPropertySymbols,JQ=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,NA=(t,e,n)=>e in t?ZQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OA=(t,e)=>{for(var n in e||(e={}))JQ.call(e,n)&&NA(t,n,e[n]);if(TA)for(var n of TA(e))eX.call(e,n)&&NA(t,n,e[n]);return t},IA=(t,e)=>QQ(t,XQ(e));const tX={Accept:"application/json","Content-Type":"application/json"},nX="POST",RA={headers:tX,method:nX},xA=10;let Fs=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ws.EventEmitter,this.isAvailable=!1,this.registering=!1,!GC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=ta(e),r=await(await SA(this.url,IA(OA({},RA),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!GC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=ta({id:1,jsonrpc:"2.0",method:"test",params:[]});await SA(e,IA(OA({},RA),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?_c(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),a=yg(e,s);this.events.emit("payload",a)}parseError(e,n=this.url){return fN(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>xA&&this.events.setMaxListeners(xA)}};const PA="error",rX="wss://relay.walletconnect.org",sX="wc",iX="universal_provider",Vp=`${sX}@2:${iX}:`,DN="https://rpc.walletconnect.org/v1/",Gf="generic",aX=`${DN}bundler`,Es={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function oX(){}function Fw(t){return t==null||typeof t!="object"&&typeof t!="function"}function qw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cX(t){if(Fw(t))return t;if(Array.isArray(t)||qw(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function DA(t){return typeof t=="object"&&t!==null}function $N(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function UN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const fX="[object RegExp]",MN="[object String]",kN="[object Number]",BN="[object Boolean]",LN="[object Arguments]",lX="[object Symbol]",uX="[object Date]",dX="[object Map]",hX="[object Set]",pX="[object Array]",gX="[object ArrayBuffer]",mX="[object Object]",bX="[object DataView]",yX="[object Uint8Array]",wX="[object Uint8ClampedArray]",vX="[object Uint16Array]",EX="[object Uint32Array]",_X="[object Int8Array]",CX="[object Int16Array]",AX="[object Int32Array]",SX="[object Float32Array]",TX="[object Float64Array]";function NX(t,e){return Zf(t,void 0,t,new Map,e)}function Zf(t,e,n,r=new Map,s=void 0){const a=s==null?void 0:s(t,e,n,r);if(a!=null)return a;if(Fw(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const c=new Array(t.length);r.set(t,c);for(let l=0;l<t.length;l++)c[l]=Zf(t[l],l,n,r,s);return Object.hasOwn(t,"index")&&(c.index=t.index),Object.hasOwn(t,"input")&&(c.input=t.input),c}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const c=new RegExp(t.source,t.flags);return c.lastIndex=t.lastIndex,c}if(t instanceof Map){const c=new Map;r.set(t,c);for(const[l,u]of t)c.set(l,Zf(u,l,n,r,s));return c}if(t instanceof Set){const c=new Set;r.set(t,c);for(const l of t)c.add(Zf(l,void 0,n,r,s));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(qw(t)){const c=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,c);for(let l=0;l<t.length;l++)c[l]=Zf(t[l],l,n,r,s);return c}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const c=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,c),Zo(c,t,n,r,s),c}if(typeof File<"u"&&t instanceof File){const c=new File([t],t.name,{type:t.type});return r.set(t,c),Zo(c,t,n,r,s),c}if(t instanceof Blob){const c=new Blob([t],{type:t.type});return r.set(t,c),Zo(c,t,n,r,s),c}if(t instanceof Error){const c=new t.constructor;return r.set(t,c),c.message=t.message,c.name=t.name,c.stack=t.stack,c.cause=t.cause,Zo(c,t,n,r,s),c}if(typeof t=="object"&&OX(t)){const c=Object.create(Object.getPrototypeOf(t));return r.set(t,c),Zo(c,t,n,r,s),c}return t}function Zo(t,e,n=t,r,s){const a=[...Object.keys(e),...$N(e)];for(let c=0;c<a.length;c++){const l=a[c],u=Object.getOwnPropertyDescriptor(t,l);(u==null||u.writable)&&(t[l]=Zf(e[l],l,n,r,s))}}function OX(t){switch(UN(t)){case LN:case pX:case gX:case bX:case BN:case uX:case SX:case TX:case _X:case CX:case AX:case dX:case kN:case mX:case fX:case hX:case MN:case lX:case yX:case wX:case vX:case EX:return!0;default:return!1}}function IX(t,e){return NX(t,(n,r,s,a)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case kN:case MN:case BN:{const c=new t.constructor(t==null?void 0:t.valueOf());return Zo(c,t),c}case LN:{const c={};return Zo(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function $A(t){return IX(t)}function UA(t){return t!==null&&typeof t=="object"&&UN(t)==="[object Arguments]"}function RX(t){return qw(t)}function xX(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function PX(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let a=0;a<n.length;a++){const c=n[a];s=k6(s,c,r,new Map)}return s}function k6(t,e,n,r){if(Fw(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return cX(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const s=[...Object.keys(e),...$N(e)];for(let a=0;a<s.length;a++){const c=s[a];let l=e[c],u=t[c];if(UA(l)&&(l={...l}),UA(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=$A(l)),Array.isArray(l))if(typeof u=="object"&&u!=null){const p=[],g=Reflect.ownKeys(u);for(let b=0;b<g.length;b++){const w=g[b];p[w]=u[w]}u=p}else u=[];const d=n(u,l,c,t,e,r);d!=null?t[c]=d:Array.isArray(l)||DA(u)&&DA(l)?t[c]=k6(u,l,n,r):u==null&&xX(l)?t[c]=k6({},l,n,r):u==null&&RX(l)?t[c]=$A(l):(u===void 0||l!==void 0)&&(t[c]=l)}return t}function DX(t,...e){return PX(t,...e,oX)}var $X=Object.defineProperty,UX=Object.defineProperties,MX=Object.getOwnPropertyDescriptors,MA=Object.getOwnPropertySymbols,kX=Object.prototype.hasOwnProperty,BX=Object.prototype.propertyIsEnumerable,kA=(t,e,n)=>e in t?$X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gp=(t,e)=>{for(var n in e||(e={}))kX.call(e,n)&&kA(t,n,e[n]);if(MA)for(var n of MA(e))BX.call(e,n)&&kA(t,n,e[n]);return t},LX=(t,e)=>UX(t,MX(e));function Yr(t,e,n){var r;const s=Jf(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${DN}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Bc(t){return t.includes(":")?t.split(":")[1]:t}function jN(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function jX(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const a=e.namespaces[s].accounts;r.push(...a)}),r}function ty(t={},e={}){const n=BA(t),r=BA(e);return DX(n,r)}function BA(t){var e,n,r,s;const a={};if(!p0(t))return a;for(const[c,l]of Object.entries(t)){const u=kw(c)?[c]:l.chains,d=l.methods||[],p=l.events||[],g=l.rpcMap||{},b=yd(c);a[b]=LX(Gp(Gp({},a[b]),l),{chains:r1(u,(e=a[b])==null?void 0:e.chains),methods:r1(d,(n=a[b])==null?void 0:n.methods),events:r1(p,(r=a[b])==null?void 0:r.events),rpcMap:Gp(Gp({},g),(s=a[b])==null?void 0:s.rpcMap)})}return a}function LA(t){return t.includes(":")?t.split(":")[2]:t}function jA(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],a=r.events||[],c=r.accounts||[],l=kw(n)?[n]:r.chains?r.chains:jN(r.accounts);e[n]={chains:l,methods:s,events:a,accounts:c}}return e}function ny(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const zN={},gt=t=>zN[t],ry=(t,e)=>{zN[t]=e};var zX=Object.defineProperty,FX=(t,e,n)=>e in t?zX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Df=(t,e,n)=>FX(t,typeof e!="symbol"?e+"":e,n);class qX{constructor(e){Df(this,"name","polkadot"),Df(this,"client"),Df(this,"httpProviders"),Df(this,"events"),Df(this,"namespace"),Df(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Bc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}}var HX=Object.defineProperty,VX=Object.defineProperties,GX=Object.getOwnPropertyDescriptors,zA=Object.getOwnPropertySymbols,WX=Object.prototype.hasOwnProperty,KX=Object.prototype.propertyIsEnumerable,B6=(t,e,n)=>e in t?HX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FA=(t,e)=>{for(var n in e||(e={}))WX.call(e,n)&&B6(t,n,e[n]);if(zA)for(var n of zA(e))KX.call(e,n)&&B6(t,n,e[n]);return t},qA=(t,e)=>VX(t,GX(e)),$f=(t,e,n)=>B6(t,typeof e!="symbol"?e+"":e,n);class YX{constructor(e){$f(this,"name","eip155"),$f(this,"client"),$f(this,"chainId"),$f(this,"namespace"),$f(this,"httpProviders"),$f(this,"events"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Yr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Bc(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const a=parseInt(s,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),l=((s=c==null?void 0:c.sessionProperties)==null?void 0:s.capabilities)||{};if(l!=null&&l[a])return l==null?void 0:l[a];const u=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:qA(FA({},c.sessionProperties||{}),{capabilities:qA(FA({},l||{}),{[a]:u})})})}catch(d){console.warn("Failed to update session with capabilities",d)}return u}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const l=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(l,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(so("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,n){return`${aX}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var ZX=Object.defineProperty,QX=(t,e,n)=>e in t?ZX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uf=(t,e,n)=>QX(t,typeof e!="symbol"?e+"":e,n);class XX{constructor(e){Uf(this,"name","solana"),Uf(this,"client"),Uf(this,"httpProviders"),Uf(this,"events"),Uf(this,"namespace"),Uf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Bc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}}var JX=Object.defineProperty,eJ=(t,e,n)=>e in t?JX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mf=(t,e,n)=>eJ(t,typeof e!="symbol"?e+"":e,n);class tJ{constructor(e){Mf(this,"name","cosmos"),Mf(this,"client"),Mf(this,"httpProviders"),Mf(this,"events"),Mf(this,"namespace"),Mf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Bc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}}var nJ=Object.defineProperty,rJ=(t,e,n)=>e in t?nJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kf=(t,e,n)=>rJ(t,typeof e!="symbol"?e+"":e,n);class sJ{constructor(e){kf(this,"name","algorand"),kf(this,"client"),kf(this,"httpProviders"),kf(this,"events"),kf(this,"namespace"),kf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Yr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new vs(new Fs(r,gt("disableProviderPing")))}}var iJ=Object.defineProperty,aJ=(t,e,n)=>e in t?iJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bf=(t,e,n)=>aJ(t,typeof e!="symbol"?e+"":e,n);class oJ{constructor(e){Bf(this,"name","cip34"),Bf(this,"client"),Bf(this,"httpProviders"),Bf(this,"events"),Bf(this,"namespace"),Bf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Bc(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}}var cJ=Object.defineProperty,fJ=(t,e,n)=>e in t?cJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lf=(t,e,n)=>fJ(t,typeof e!="symbol"?e+"":e,n);class lJ{constructor(e){Lf(this,"name","elrond"),Lf(this,"client"),Lf(this,"httpProviders"),Lf(this,"events"),Lf(this,"namespace"),Lf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Bc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}}var uJ=Object.defineProperty,dJ=(t,e,n)=>e in t?uJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jf=(t,e,n)=>dJ(t,typeof e!="symbol"?e+"":e,n);class hJ{constructor(e){jf(this,"name","multiversx"),jf(this,"client"),jf(this,"httpProviders"),jf(this,"events"),jf(this,"namespace"),jf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Bc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}}var pJ=Object.defineProperty,gJ=(t,e,n)=>e in t?pJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zf=(t,e,n)=>gJ(t,typeof e!="symbol"?e+"":e,n);class mJ{constructor(e){zf(this,"name","near"),zf(this,"client"),zf(this,"httpProviders"),zf(this,"events"),zf(this,"namespace"),zf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Yr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace);return typeof r>"u"?void 0:new vs(new Fs(r,gt("disableProviderPing")))}}var bJ=Object.defineProperty,yJ=(t,e,n)=>e in t?bJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ff=(t,e,n)=>yJ(t,typeof e!="symbol"?e+"":e,n);class wJ{constructor(e){Ff(this,"name","tezos"),Ff(this,"client"),Ff(this,"httpProviders"),Ff(this,"events"),Ff(this,"namespace"),Ff(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Yr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace);return typeof r>"u"?void 0:new vs(new Fs(r))}}var vJ=Object.defineProperty,EJ=(t,e,n)=>e in t?vJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qf=(t,e,n)=>EJ(t,typeof e!="symbol"?e+"":e,n);class _J{constructor(e){qf(this,"name",Gf),qf(this,"client"),qf(this,"httpProviders"),qf(this,"events"),qf(this,"namespace"),qf(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Es.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const a=Jf(s);r[`${a.namespace}:${a.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new vs(new Fs(r,gt("disableProviderPing")))}}var CJ=Object.defineProperty,AJ=Object.defineProperties,SJ=Object.getOwnPropertyDescriptors,HA=Object.getOwnPropertySymbols,TJ=Object.prototype.hasOwnProperty,NJ=Object.prototype.propertyIsEnumerable,L6=(t,e,n)=>e in t?CJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wp=(t,e)=>{for(var n in e||(e={}))TJ.call(e,n)&&L6(t,n,e[n]);if(HA)for(var n of HA(e))NJ.call(e,n)&&L6(t,n,e[n]);return t},sy=(t,e)=>AJ(t,SJ(e)),cs=(t,e,n)=>L6(t,typeof e!="symbol"?e+"":e,n);let OJ=class FN{constructor(e){cs(this,"client"),cs(this,"namespaces"),cs(this,"optionalNamespaces"),cs(this,"sessionProperties"),cs(this,"scopedProperties"),cs(this,"events",new ww),cs(this,"rpcProviders",{}),cs(this,"session"),cs(this,"providerOpts"),cs(this,"logger"),cs(this,"uri"),cs(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:H0(jl({level:(e==null?void 0:e.logger)||PA})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new FN(e);return await n.initialize(),n}async request(e,n,r){const[s,a]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Wp({},e),chainId:`${s}:${a}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const a=new Date().getTime();this.request(e,r,s).then(c=>n(null,bg(a,c))).catch(c=>n(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:It("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const a=await s();if(this.session=a.session,this.session){const c=jA(this.session.namespaces);this.namespaces=ty(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const a=jA(s.namespaces);return this.namespaces=ty(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),a=this.getProvider(r);a.name===Gf?a.setDefaultChain(`${r}:${s}`,n):a.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(fo(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await WQ.init({core:this.providerOpts.core,logger:this.providerOpts.logger||PA,relayUrl:this.providerOpts.relayUrl||rX,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>yd(n)))];ry("client",this.client),ry("events",this.events),ry("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=jX(n,this.session),s=jN(r),a=ty(this.namespaces,this.optionalNamespaces),c=sy(Wp({},a[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new YX({namespace:c});break;case"algorand":this.rpcProviders[n]=new sJ({namespace:c});break;case"solana":this.rpcProviders[n]=new XX({namespace:c});break;case"cosmos":this.rpcProviders[n]=new tJ({namespace:c});break;case"polkadot":this.rpcProviders[n]=new qX({namespace:c});break;case"cip34":this.rpcProviders[n]=new oJ({namespace:c});break;case"elrond":this.rpcProviders[n]=new lJ({namespace:c});break;case"multiversx":this.rpcProviders[n]=new hJ({namespace:c});break;case"near":this.rpcProviders[n]=new mJ({namespace:c});break;case"tezos":this.rpcProviders[n]=new wJ({namespace:c});break;default:this.rpcProviders[Gf]?this.rpcProviders[Gf].updateNamespace(c):this.rpcProviders[Gf]=new _J({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:a}=r;if(a.name==="accountsChanged"){const c=a.data;c&&fo(c)&&this.events.emit("accountsChanged",c.map(LA))}else if(a.name==="chainChanged"){const c=r.chainId,l=r.event.data,u=yd(c),d=ny(c)!==ny(l)?`${u}:${ny(l)}`:c;this.onChainChanged(d)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:a}=n,c=(s=this.client)==null?void 0:s.session.get(e);this.session=sy(Wp({},c),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",sy(Wp({},It("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Es.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Gf]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:s,scopedProperties:a}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=s,this.scopedProperties=a}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(c=>yd(c)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=yd(Object.keys(this.namespaces)[0]),a=this.rpcProviders[s].getDefaultChain();return[s,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const a=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:a,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,a;try{if(n===r)return;const c=(a=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:a.accounts;if(!c)return;const l=c.filter(u=>u.includes(`${r}:`)).map(LA);if(!fo(l))return;this.events.emit("accountsChanged",l)}catch(c){this.logger.warn("Failed to emit accountsChanged on chain change",c)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Vp}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Vp}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Vp}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Vp)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var Ol={};const IJ="https://secure.walletconnect.org/sdk",RJ=(typeof process<"u"&&typeof Ol<"u"?Ol.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||IJ,xJ=(typeof process<"u"&&typeof Ol<"u"?Ol.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",PJ=(typeof process<"u"&&typeof Ol<"u"?Ol.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Se={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Ln={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Go=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),dn=zt({...Go}),DJ={state:dn,subscribeKey(t,e){return Qn(dn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=De.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){dn.message=Go.message,dn.variant=Go.variant,dn.svg=Go.svg,dn.open=Go.open,dn.autoClose=Go.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Go.autoClose}){dn.open?(dn.open=!1,setTimeout(()=>{dn.message=t,dn.variant=n,dn.svg=e,dn.open=!0,dn.autoClose=r},150)):(dn.message=t,dn.variant=n,dn.svg=e,dn.open=!0,dn.autoClose=r)}},Us=DJ,Od={getSIWX(){return fe.state.siwx},async initializeIfEnabled(){var a;const t=fe.state.siwx,e=L.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(L.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await tn.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=ke._getClient())==null?void 0:a.disconnect().catch(console.error)),ct.reset("Connect"),Us.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=fe.state.siwx,e=De.getPlainAddress(L.getActiveCaipAddress()),n=L.getActiveCaipNetwork(),r=ke._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),a=s.toString();Ce.getConnectorId(n.chainNamespace)===de.CONNECTOR_ID.AUTH&&ct.pushTransactionStack({view:null,goBack:!1,replace:!0});const l=await r.signMessage(a);await t.addSession({data:s,message:a,signature:l}),tn.close(),jt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const a=this.getSIWXEventProperties();(!tn.state.open||ct.state.view==="ApproveTransaction")&&await tn.open({view:"SIWXSignMessage"}),a.isSmartAccount?Us.showError("This application might not support Smart Accounts"):Us.showError("Signature declined"),jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await ke.disconnect():tn.close(),ct.reset("Connect"),jt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=fe.state.siwx,e=De.getPlainAddress(L.getActiveCaipAddress()),n=L.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=ct.state.view==="ApproveTransaction",r=ct.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var l,u,d;const r=Od.getSIWX(),s=new Set(e.map(p=>p.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const a=await r.createMessage({chainId:((l=L.getActiveCaipNetwork())==null?void 0:l.caipNetworkId)||"",accountAddress:""}),c=await t.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:n,chains:[a.chainId,...e.filter(p=>p!==a.chainId)]});if(Us.showLoading("Authenticating...",{autoClose:!1}),Te.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:(u=c.session.peer.metadata.icons)==null?void 0:u[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(d=c==null?void 0:c.auths)!=null&&d.length){const p=c.auths.map(g=>{const b=t.client.formatAuthMessage({request:g.p,iss:g.p.iss});return{data:{...g.p,accountAddress:g.p.iss.split(":").slice(-1).join(""),chainId:g.p.iss.split(":").slice(2,4).join(":"),uri:g.p.aud,version:g.p.version||a.version,expirationTime:g.p.exp,issuedAt:g.p.iat,notBefore:g.p.nbf},message:b,signature:g.s.s,cacao:g}});try{await r.setSessions(p),jt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Od.getSIWXEventProperties()})}catch(g){throw console.error("SIWX:universalProviderAuth - failed to set sessions",g),jt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Od.getSIWXEventProperties()}),await t.disconnect().catch(console.error),g}finally{Us.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=L.state.activeChain;return{network:((e=L.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=Te.state.preferredAccountTypes)==null?void 0:n[t])===Ln.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},kt=zt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),$J={state:kt,subscribe(t){return fr(kt,()=>t(kt))},setLastNetworkInView(t){kt.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");kt.loading=!0;try{const s=await je.fetchTransactions({account:t,cursor:kt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=L.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),a=vd.filterSpamTransactions(s.data),c=vd.filterByConnectedChain(a),l=[...kt.transactions,...c];kt.loading=!1,e==="coinbase"?kt.coinbaseTransactions=vd.groupTransactionsByYearAndMonth(kt.coinbaseTransactions,s.data):(kt.transactions=l,kt.transactionsByYear=vd.groupTransactionsByYearAndMonth(kt.transactionsByYear,c)),kt.empty=l.length===0,kt.next=s.next?s.next:void 0}catch{const a=L.state.activeChain;jt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:fe.state.projectId,cursor:kt.next,isSmartAccount:((r=Te.state.preferredAccountTypes)==null?void 0:r[a])===Ln.ACCOUNT_TYPES.SMART_ACCOUNT}}),Us.showError("Failed to fetch transactions"),kt.loading=!1,kt.empty=!0,kt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),a=new Date(r.metadata.minedAt).getMonth(),c=n[s]??{},u=(c[a]??[]).filter(d=>d.id!==r.id);n[s]={...c,[a]:[...u,r].sort((d,p)=>new Date(p.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=L.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){kt.next=void 0},resetTransactions(){kt.transactions=[],kt.transactionsByYear={},kt.lastNetworkInView=void 0,kt.loading=!1,kt.empty=!1,kt.next=void 0}},vd=ys($J,"API_ERROR"),$t=zt({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let qo;const UJ={state:$t,subscribeKey(t,e){return Qn($t,t,e)},_getClient(){return $t._client},setClient(t){$t._client=Ec(t)},async connectWalletConnect(){var t,e,n,r;if(De.isTelegram()||De.isSafari()&&De.isIos()){if(qo){await qo,qo=void 0;return}if(!De.isPairingExpired($t==null?void 0:$t.wcPairingExpiry)){const s=$t.wcUri;$t.wcUri=s;return}qo=(e=(t=ke._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),ke.state.status="connecting",await qo,qo=void 0,$t.wcPairingExpiry=void 0,ke.state.status="connected"}else await((r=(n=ke._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,s;await((s=(r=ke._getClient())==null?void 0:r.connectExternal)==null?void 0:s.call(r,t)),n&&L.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=ke._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||L.state.activeChain;e&&Ce.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;tn.setLoading(!0,L.state.activeChain);const n=Ce.getAuthConnector();n&&(Te.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ye.setPreferredAccountTypes(Te.state.preferredAccountTypes??{[e]:t}),await ke.reconnectExternal(n),tn.setLoading(!1,L.state.activeChain),jt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=L.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=ke._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=ke._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=ke._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=ke._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=ke._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=ke._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=ke._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=ke._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=ke._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=ke._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=ke._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=ke._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){$t.wcUri=void 0,$t.wcPairingExpiry=void 0,$t.wcLinking=void 0,$t.recentWallet=void 0,$t.status="disconnected",vd.resetTransactions(),ye.deleteWalletConnectDeepLink()},resetUri(){$t.wcUri=void 0,$t.wcPairingExpiry=void 0,qo=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=ke.state;t&&ye.setWalletConnectDeepLink(t),e&&ye.setAppKitRecent(e),jt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=ct.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){$t.wcBasic=t},setUri(t){$t.wcUri=t,$t.wcPairingExpiry=De.getPairingExpiry()},setWcLinking(t){$t.wcLinking=t},setWcError(t){$t.wcError=t,$t.buffering=!1},setRecentWallet(t){$t.recentWallet=t},setBuffering(t){$t.buffering=t},setStatus(t){$t.status=t},async disconnect(t){try{tn.setLoading(!0,t),await Od.clearSessions(),await L.disconnect(t),tn.setLoading(!1,t),Ce.setFilterByNamespace(void 0)}catch(e){throw new a0("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(t,e){$t.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(Ce.state.activeConnectorIds[n]===t.connectorId){const a=L.state.activeCaipNetwork;if(a){const c=`${n}:${a.id}:${e}`;Te.setCaipAddress(c,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const a=Ce.getConnector(t.connectorId);a?ke.connectExternal(a,n):console.warn(`No connector found for namespace "${n}"`)}}},ke=ys(UJ),Hf=zt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),li={state:Hf,subscribe(t){return fr(Hf,()=>t(Hf))},subscribeOpen(t){return Qn(Hf,"open",t)},set(t){Object.assign(Hf,{...Hf,...t})}},iy={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Ml(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},VA={async getMyTokensWithBalance(t){const e=Te.state.address,n=L.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const s=await this.getEIP155Balances(e,n);if(s)return this.filterLowQualityTokens(s)}const r=await je.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const s=iy.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),a=await ke.getCapabilities(t);if(!((r=(n=a==null?void 0:a[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const c=await ke.walletGetAssets({account:t,chainFilter:[s]});return iy.isWalletGetAssetsResponse(c)?(c[s]||[]).map(u=>iy.createBalance(u,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:L.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Ct=zt({tokenBalances:[],loading:!1}),MJ={state:Ct,subscribe(t){return fr(Ct,()=>t(Ct))},subscribeKey(t,e){return Qn(Ct,t,e)},setToken(t){t&&(Ct.token=Ec(t))},setTokenAmount(t){Ct.sendTokenAmount=t},setReceiverAddress(t){Ct.receiverAddress=t},setReceiverProfileImageUrl(t){Ct.receiverProfileImageUrl=t},setReceiverProfileName(t){Ct.receiverProfileName=t},setNetworkBalanceInUsd(t){Ct.networkBalanceInUSD=t},setLoading(t){Ct.loading=t},async sendToken(){var t;try{switch(bt.setLoading(!0),(t=L.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await bt.sendEvmToken();return;case"solana":await bt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{bt.setLoading(!1)}},async sendEvmToken(){var n,r,s,a;const t=L.state.activeChain,e=(n=Te.state.preferredAccountTypes)==null?void 0:n[t];if(!bt.state.sendTokenAmount||!bt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!bt.state.token)throw new Error("A token is required");(r=bt.state.token)!=null&&r.address?(jt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ln.ACCOUNT_TYPES.SMART_ACCOUNT,token:bt.state.token.address,amount:bt.state.sendTokenAmount,network:((s=L.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await bt.sendERC20Token({receiverAddress:bt.state.receiverAddress,tokenAddress:bt.state.token.address,sendTokenAmount:bt.state.sendTokenAmount,decimals:bt.state.token.quantity.decimals})):(jt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ln.ACCOUNT_TYPES.SMART_ACCOUNT,token:bt.state.token.symbol||"",amount:bt.state.sendTokenAmount,network:((a=L.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),await bt.sendNativeToken({receiverAddress:bt.state.receiverAddress,sendTokenAmount:bt.state.sendTokenAmount,decimals:bt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var a,c;Ct.loading=!0;const e=(a=L.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,n=(c=L.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=L.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(Ct.lastRetry&&!De.isAllowedRetry(Ct.lastRetry,30*cn.ONE_SEC_MS))return Ct.loading=!1,[];try{if(s&&e&&n){const l=await VA.getMyTokensWithBalance();return Ct.tokenBalances=l,Ct.lastRetry=void 0,l}}catch(l){Ct.lastRetry=Date.now(),t==null||t(l),Us.showError("Token Balance Unavailable")}finally{Ct.loading=!1}return[]},fetchNetworkBalance(){if(Ct.tokenBalances.length===0)return;const t=VA.mapBalancesToSwapTokens(Ct.tokenBalances);if(!t)return;const e=t.find(n=>n.address===L.getActiveNetworkTokenAddress());e&&(Ct.networkBalanceInUSD=e?nM.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var a,c,l,u;ct.pushTransactionStack({view:null,goBack:!1});const e=t.receiverAddress,n=Te.state.address,r=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await ke.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),jt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((a=Te.state.preferredAccountTypes)==null?void 0:a.eip155)===Ln.ACCOUNT_TYPES.SMART_ACCOUNT,token:((c=bt.state.token)==null?void 0:c.symbol)||"",amount:t.sendTokenAmount,network:((l=L.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)||""}}),(u=ke._getClient())==null||u.updateBalance("eip155"),bt.resetSend()},async sendERC20Token(t){ct.pushTransactionStack({view:"Account",goBack:!1});const e=ke.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Te.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=De.getPlainAddress(t.tokenAddress);await ke.writeContract({fromAddress:Te.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:aM.getERC20Abi(n),chainNamespace:"eip155"}),bt.resetSend()}},async sendSolanaToken(){var t;if(!bt.state.sendTokenAmount||!bt.state.receiverAddress)throw new Error("An amount and receiver address are required");ct.pushTransactionStack({view:"Account",goBack:!1}),await ke.sendTransaction({chainNamespace:"solana",to:bt.state.receiverAddress,value:bt.state.sendTokenAmount}),(t=ke._getClient())==null||t.updateBalance("solana"),bt.resetSend()},resetSend(){Ct.token=void 0,Ct.sendTokenAmount=void 0,Ct.receiverAddress=void 0,Ct.receiverProfileImageUrl=void 0,Ct.receiverProfileName=void 0,Ct.loading=!1,Ct.tokenBalances=[]}},bt=ys(MJ),ay={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Kp={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},be=zt({chains:GU(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),kJ={state:be,subscribe(t){return fr(be,()=>{t(be)})},subscribeKey(t,e){return Qn(be,t,e)},subscribeChainProp(t,e,n){let r;return fr(be.chains,()=>{var a;const s=n||be.activeChain;if(s){const c=(a=be.chains.get(s))==null?void 0:a[t];r!==c&&(r=c,e(c))}})},initialize(t,e,n){const{chainId:r,namespace:s}=ye.getActiveNetworkProps(),a=e==null?void 0:e.find(p=>p.id.toString()===(r==null?void 0:r.toString())),l=t.find(p=>(p==null?void 0:p.namespace)===s)||(t==null?void 0:t[0]),u=t.map(p=>p.namespace).filter(p=>p!==void 0),d=fe.state.enableEmbedded?new Set([...u]):new Set([...(e==null?void 0:e.map(p=>p.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!l)&&(be.noAdapters=!0),be.noAdapters||(be.activeChain=l==null?void 0:l.namespace,be.activeCaipNetwork=a,L.setChainNetworkData(l==null?void 0:l.namespace,{caipNetwork:a}),be.activeChain&&li.set({activeChain:l==null?void 0:l.namespace})),d.forEach(p=>{const g=e==null?void 0:e.filter(b=>b.chainNamespace===p);L.state.chains.set(p,{namespace:p,networkState:zt({...Kp,caipNetwork:g==null?void 0:g[0]}),accountState:zt(ay),caipNetworks:g??[],...n}),L.setRequestedCaipNetworks(g??[],p)})},removeAdapter(t){var e,n;if(be.activeChain===t){const r=Array.from(be.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&L.setActiveCaipNetwork(s)}}be.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){be.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Kp,caipNetwork:r[0]},accountState:ay,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),L.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=be.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),be.chains.set(t.chainNamespace,{...e,caipNetworks:r}),L.setRequestedCaipNetworks(r,t.chainNamespace),Ce.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,a;const n=be.chains.get(t);if(n){const c=((r=be.activeCaipNetwork)==null?void 0:r.id)===e,l=[...((s=n.caipNetworks)==null?void 0:s.filter(u=>u.id!==e))||[]];c&&((a=n==null?void 0:n.caipNetworks)!=null&&a[0])&&L.setActiveCaipNetwork(n.caipNetworks[0]),be.chains.set(t,{...n,caipNetworks:l}),L.setRequestedCaipNetworks(l||[],t),l.length===0&&Ce.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=be.chains.get(t);n&&(n.networkState={...n.networkState||Kp,...e},be.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=be.chains.get(t);if(r){const s={...r.accountState||ay,...e};be.chains.set(t,{...r,accountState:s}),(be.chains.size===1||be.activeChain===t)&&(e.caipAddress&&(be.activeCaipAddress=e.caipAddress),Te.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=be.chains.get(t);if(n){const r={...n.networkState||Kp,...e};be.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){L.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Ce.removeConnectorId(n)},setActiveNamespace(t){var r,s;be.activeChain=t;const e=t?be.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(be.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,be.activeCaipNetwork=n,L.setChainNetworkData(t,{caipNetwork:n}),ye.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),li.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,a;if(!t)return;be.activeChain!==t.chainNamespace&&L.setIsSwitchingNamespace(!0);const e=be.chains.get(t.chainNamespace);be.activeChain=t.chainNamespace,be.activeCaipNetwork=t,L.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?be.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:be.activeCaipAddress=void 0,L.setAccountProp("caipAddress",be.activeCaipAddress,t.chainNamespace),e&&Te.replaceState(e.accountState),bt.resetSend(),li.set({activeChain:be.activeChain,selectedNetworkId:(a=be.activeCaipNetwork)==null?void 0:a.caipNetworkId}),ye.setActiveCaipNetworkId(t.caipNetworkId),!L.checkIfSupportedNetwork(t.chainNamespace)&&fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&!ke.state.wcBasic&&L.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=be.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==L.state.activeChain,n=(s=L.getNetworkData(t))==null?void 0:s.caipNetwork,r=L.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await L.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=L.state.chains.get(L.state.activeChain);!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(a=>{var c;return a.id===((c=be.activeCaipNetwork)==null?void 0:c.id)}))&&ct.goBack();const r=L.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),jt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||be.activeChain,n=be.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||be.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=be.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=be.activeChain;if(e&&(n=e),!n)return;const r=(s=be.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=be.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=be.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return De.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return be.chains.forEach(e=>{const n=L.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){L.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=L.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),s=Array.from(new Set(r));Ce.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return be.chains.forEach(e=>{const n=L.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return be.activeCaipNetwork},getActiveCaipAddress(){return be.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=be.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=L.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());L.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||be.activeCaipNetwork,r=L.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!be.activeChain)return!0;const e=L.getRequestedCaipNetworks(be.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){L.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=i0.caipNetworkIdToNumber((r=be.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=be.activeChain;if(!e||!t)return!1;const n=L.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,s;const t=((r=be.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=be.activeCaipNetwork)==null?void 0:s.id)||1,n=cn.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){tn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=be.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&cn.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){L.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");be.activeCaipAddress=void 0,L.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ce.removeConnectorId(e)},async disconnect(t){const e=SM(t);try{bt.resetSend();const n=await Promise.allSettled(e.map(async([s,a])=>{var c;try{const{caipAddress:l}=L.getAccountData(s)||{};l&&((c=a.connectionControllerClient)!=null&&c.disconnect)&&await a.connectionControllerClient.disconnect(s),L.resetAccount(s),L.resetNetwork(s)}catch(l){throw new Error(`Failed to disconnect chain ${s}: ${l.message}`)}}));ke.resetWcConnection();const r=n.filter(s=>s.status==="rejected");if(r.length>0)throw new Error(r.map(s=>s.reason.message).join(", "));ye.deleteConnectedSocialProvider(),t?Ce.removeConnectorId(t):Ce.resetConnectorIds(),jt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),jt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){be.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(be.chains.forEach(s=>{de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=be.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=L.state.chains.get(t))==null?void 0:e.accountState:Te.state},getNetworkData(t){var n;const e=t||be.activeChain;if(e)return(n=L.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,a,c;if(!t)return;const n=L.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(l=>l.id===e);return r||((a=n==null?void 0:n.networkState)==null?void 0:a.caipNetwork)||((c=n==null?void 0:n.caipNetworks)==null?void 0:c[0])},getRequestedCaipNetworkIds(){const t=Ce.state.filterByNamespace;return(t?[be.chains.get(t)]:Array.from(be.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?L.getRequestedCaipNetworks(t):L.getAllRequestedCaipNetworks()}},L=ys(kJ),BJ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},qN=De.getBlockchainApiUrl(),yr=zt({clientId:null,api:new F0({baseUrl:qN,clientId:null}),supportedChains:{http:[],ws:[]}}),je={state:yr,async get(t){const{st:e,sv:n}=je.getSdkProperties(),r=fe.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return yr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=fe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{yr.supportedChains.http.length||await je.getSupportedNetworks()}catch{return!1}return yr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await je.get({path:"v1/supported-chains"});return yr.supportedChains=t,t}catch{return yr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await je.isNetworkSupported(e))return{avatar:"",name:""};const r=ye.getIdentityFromCacheForAddress(t);if(r)return r;const s=await je.get({path:`/v1/identity/${t}`,params:{sender:L.state.activeCaipAddress?De.getPlainAddress(L.state.activeCaipAddress):void 0}});return ye.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:a}){var l;return await je.isNetworkSupported((l=L.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)?je.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:a},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var c;return await je.isNetworkSupported((c=L.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)?je.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await je.isNetworkSupported((n=L.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?je.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await je.isNetworkSupported((n=L.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?yr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:fe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await je.isNetworkSupported((r=L.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?je.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=je.getSdkProperties();if(!await je.isNetworkSupported((s=L.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return je.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var c;if(!await je.isNetworkSupported((c=L.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return yr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:cn.CONVERT_SLIPPAGE_TOLERANCE},projectId:fe.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var c;const{st:r,sv:s}=je.getSdkProperties();if(!await je.isNetworkSupported((c=L.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return je.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var d;const{st:r,sv:s}=je.getSdkProperties();if(!await je.isNetworkSupported((d=L.state.activeCaipNetwork)==null?void 0:d.caipNetworkId))return Us.showError("Token Balance Unavailable"),{balances:[]};const c=`${e}:${t}`,l=ye.getBalanceCacheForCaipAddress(c);if(l)return l;const u=await je.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return ye.updateBalanceCache({caipAddress:c,balance:u,timestamp:Date.now()}),u},async lookupEnsName(t){var n;return await je.isNetworkSupported((n=L.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?je.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await je.isNetworkSupported((n=L.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?je.get({path:`/v1/profile/reverse/${t}`,params:{sender:Te.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await je.isNetworkSupported((n=L.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?je.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var a;return await je.isNetworkSupported((a=L.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?yr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var l;return await je.isNetworkSupported((l=L.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)?(await yr.api.post({path:"/v1/generators/onrampurl",params:{projectId:fe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await je.isNetworkSupported((e=L.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await je.get({path:"/v1/onramp/options"})}catch{return BJ}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await je.isNetworkSupported((s=L.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await yr.api.post({path:"/v1/onramp/quote",params:{projectId:fe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await je.isNetworkSupported((n=L.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?je.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await je.isNetworkSupported((s=L.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?yr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:fe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){yr.clientId=t,yr.api=new F0({baseUrl:qN,clientId:t})}},fs=zt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),LJ={state:fs,replaceState(t){t&&Object.assign(fs,Ec(t))},subscribe(t){return L.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return L.subscribeChainProp("accountState",s=>{if(s){const a=s[t];r!==a&&(r=a,e(a))}},n)},setStatus(t,e){L.setAccountProp("status",t,e)},getCaipAddress(t){return L.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?De.getPlainAddress(t):void 0;e===L.state.activeChain&&(L.state.activeCaipAddress=t),L.setAccountProp("caipAddress",t,e),L.setAccountProp("address",n,e)},setBalance(t,e,n){L.setAccountProp("balance",t,n),L.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){L.setAccountProp("profileName",t,e)},setProfileImage(t,e){L.setAccountProp("profileImage",t,e)},setUser(t,e){L.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){L.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){L.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){L.setAccountProp("currentTab",t,L.state.activeChain)},setTokenBalance(t,e){t&&L.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){L.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){L.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=L.getAccountProp("addressLabels",n)||new Map;r.set(t,e),L.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=L.getAccountProp("addressLabels",e)||new Map;n.delete(t),L.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){L.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){L.setAccountProp("preferredAccountTypes",{...fs.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){fs.preferredAccountTypes=t},setSocialProvider(t,e){t&&L.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){L.setAccountProp("socialWindow",t?Ec(t):void 0,e)},setFarcasterUrl(t,e){L.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var a,c;fs.balanceLoading=!0;const e=(a=L.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,n=(c=L.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=L.state.activeCaipAddress,s=r?De.getPlainAddress(r):void 0;if(fs.lastRetry&&!De.isAllowedRetry(fs.lastRetry,30*cn.ONE_SEC_MS))return fs.balanceLoading=!1,[];try{if(s&&e&&n){const u=(await je.getBalance(s,e)).balances.filter(d=>d.quantity.decimals!=="0");return Te.setTokenBalance(u,n),fs.lastRetry=void 0,fs.balanceLoading=!1,u}}catch(l){fs.lastRetry=Date.now(),t==null||t(l),Us.showError("Token Balance Unavailable")}finally{fs.balanceLoading=!1}return[]},resetAccount(t){L.resetAccount(t)}},Te=ys(LJ),wr=zt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),jJ={state:wr,subscribe(t){return fr(wr,()=>t(wr))},subscribeKey(t,e){return Qn(wr,t,e)},async open(t){var s;const e=Te.state.status==="connected";ke.state.wcBasic?Me.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Me.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await L.switchActiveNamespace(t.namespace),tn.setLoading(!0,t.namespace)):tn.setLoading(!0),Ce.setFilterByNamespace(t==null?void 0:t.namespace);const n=(s=L.getAccountData(t==null?void 0:t.namespace))==null?void 0:s.caipAddress,r=L.state.noAdapters;fe.state.manualWCControl||r&&!n?De.isMobile()?ct.reset("AllWallets"):ct.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?ct.reset(t.view,t.data):n?ct.reset("Account"):ct.reset("Connect"),wr.open=!0,li.set({open:!0}),jt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(t=!1){if(t||ct.state.view!=="ApproveTransaction"){const e=fe.state.enableEmbedded,n=!!L.state.activeCaipAddress;wr.open&&jt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:n}}),wr.open=!1,tn.clearLoading(),e?n?ct.replace("Account"):ct.push("Connect"):li.set({open:!1})}ke.resetUri()},setLoading(t,e){e&&wr.loadingNamespaceMap.set(e,t),wr.loading=t,li.set({loading:t})},clearLoading(){wr.loadingNamespaceMap.clear(),wr.loading=!1},shake(){wr.shake||(wr.shake=!0,setTimeout(()=>{wr.shake=!1},500))}},tn=ys(jJ),GA=2147483648,zJ={convertEVMChainIdToCoinType(t){if(t>=GA)throw new Error("Invalid chainId");return(GA|t)>>>0}},ls=zt({suggestions:[],loading:!1}),FJ={state:ls,subscribe(t){return fr(ls,()=>t(ls))},subscribeKey(t,e){return Qn(ls,t,e)},async resolveName(t){var e,n;try{return await je.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await je.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ls.loading=!0,ls.suggestions=[];const e=await je.getEnsNameSuggestions(t);return ls.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ls.suggestions}catch(e){const n=Id.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ls.loading=!1}},async getNamesForAddress(t){try{if(!L.state.activeCaipNetwork)return[];const n=ye.getEnsFromCacheForAddress(t);if(n)return n;const r=await je.reverseLookupEnsName({address:t});return ye.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Id.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=L.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Te.state.address,r=Ce.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");ls.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ct.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){ls.loading=!1}});const a=await ke.signMessage(s),c=e.id;if(!c)throw new Error("Network not found");const l=zJ.convertEVMChainIdToCoinType(Number(c));await je.registerEnsName({coinType:l,address:n,signature:a,message:s}),Te.setProfileName(t,e.chainNamespace),ct.replace("RegisterAccountNameSuccess")}catch(s){const a=Id.parseEnsApiError(s,`Error registering name ${t}`);throw ct.replace("RegisterAccountName"),new Error(a)}finally{ls.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},Id=ys(FJ),Lt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},io={ConnectorExplorerIds:{[de.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[de.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[de.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[de.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[de.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Lt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Lt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Lt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Lt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Lt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Lt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Lt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Lt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Lt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Lt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Lt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[de.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[de.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[de.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[de.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[de.CONNECTOR_ID.INJECTED]:"Browser Wallet",[de.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[de.CONNECTOR_ID.COINBASE]:"Coinbase",[de.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[de.CONNECTOR_ID.LEDGER]:"Ledger",[de.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[de.CONNECTOR_ID.INJECTED]:"INJECTED",[de.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[de.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[de.CONNECTOR_ID.AUTH]:"AUTH"}},_g={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Lt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},qJ=new AbortController,Tn={EmbeddedWalletAbortController:qJ,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${HJ()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function HJ(){return typeof window<"u"}const VJ={createLogger(t,e="error"){const n=jl({level:e}),{logger:r}=Ew({opts:n});return r.error=(...s)=>{for(const a of s)if(a instanceof Error){t(a,...s);return}t(void 0,...s)},r}},GJ="rpc.walletconnect.org";function WA(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const oy=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],ci={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===GJ}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:de.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${de.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,a,c;const r=(c=(a=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null?void 0:c[0];return oy.includes(e)?WA(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var b,w,E,v,_;const s=this.getChainNamespace(t),a=this.getCaipNetworkId(t),c=(b=t.rpcUrls.default.http)==null?void 0:b[0],l=this.getDefaultRpcUrl(t,a,n),u=((v=(E=(w=t==null?void 0:t.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:E.http)==null?void 0:v[0])||c,d=((_=r==null?void 0:r[a])==null?void 0:_.map(T=>T.url))||[],p=[...d,l],g=[...d];return u&&!g.includes(u)&&g.push(u),{...t,chainNamespace:s,caipNetworkId:a,assets:{imageId:io.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:g}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>ci.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,a,c;const r=[];return n==null||n.forEach(l=>{r.push(Np(l.url,l.config))}),oy.includes(t.caipNetworkId)&&r.push(Np(WA(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(c=(a=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null||c.forEach(l=>{r.push(Np(l))}),R_(r)},extendWagmiTransports(t,e,n){if(oy.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return R_([n,Np(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:de.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var u;const e=ye.getActiveCaipNetworkId(),n=L.getAllRequestedCaipNetworks(),r=Array.from(((u=L.state.chains)==null?void 0:u.keys())||[]),s=e==null?void 0:e.split(":")[0],a=s?r.includes(s):!1,c=n==null?void 0:n.find(d=>d.caipNetworkId===e);return a&&!c&&e?this.getUnsupportedNetwork(e):c||t||(n==null?void 0:n[0])}},U1={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},vr=zt({providers:{...U1},providerIds:{...U1}}),Ot={state:vr,subscribeKey(t,e){return Qn(vr,t,e)},subscribe(t){return fr(vr,()=>{t(vr)})},subscribeProviders(t){return fr(vr.providers,()=>t(vr.providers))},setProvider(t,e){e&&(vr.providers[t]=Ec(e))},getProvider(t){return vr.providers[t]},setProviderId(t,e){e&&(vr.providerIds[t]=e)},getProviderId(t){if(t)return vr.providerIds[t]},reset(){vr.providers={...U1},vr.providerIds={...U1}},resetChain(t){vr.providers[t]=void 0,vr.providerIds[t]=void 0}},KA={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},kn={set(t,e){Gr.isClient&&localStorage.setItem(`${Se.STORAGE_KEY}${t}`,e)},get(t){return Gr.isClient?localStorage.getItem(`${Se.STORAGE_KEY}${t}`):null},delete(t,e){Gr.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Se.STORAGE_KEY}${t}`))}},Yp=30*1e3,Gr={checkIfAllowedToTriggerEmail(){const t=kn.get(Se.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Yp){const n=Math.ceil((Yp-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=kn.get(Se.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Yp)return Math.ceil((Yp-e)/1e3)}return 0},checkIfRequestExists(t){return Ln.NOT_SAFE_RPC_METHODS.includes(t.method)||Ln.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(KA.transactionHash))||(t==null?void 0:t.match(KA.signedMessage)))?Se.RPC_RESPONSE_TYPE_TX:Se.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Ln.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var pt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const c of s)a[c]=c;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),c={};for(const l of a)c[l]=s[l];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.push(c);return a},t.find=(s,a)=>{for(const c of s)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(pt||(pt={}));var j6;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(j6||(j6={}));const ve=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Va=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},pe=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),WJ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Bs extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let l=r,u=0;for(;u<c.path.length;){const d=c.path[u];u===c.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(c))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Bs.create=t=>new Bs(t);const m0=(t,e)=>{let n;switch(t.code){case pe.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pt.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(t.keys,", ")}`;break;case pe.invalid_union:n="Invalid input";break;case pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(t.options)}`;break;case pe.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(t.options)}, received '${t.received}'`;break;case pe.invalid_arguments:n="Invalid function arguments";break;case pe.invalid_return_type:n="Invalid function return type";break;case pe.invalid_date:n="Invalid date";break;case pe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case pe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case pe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case pe.custom:n="Invalid input";break;case pe.invalid_intersection_types:n="Intersection results could not be merged";break;case pe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case pe.not_finite:n="Number must be finite";break;default:n=e.defaultError,pt.assertNever(t)}return{message:n}};let HN=m0;function KJ(t){HN=t}function M1(){return HN}const k1=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],c={...s,path:a};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(c,{data:e,defaultError:l}).message;return{...s,path:a,message:s.message||l}},YJ=[];function Ae(t,e){const n=k1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,M1(),m0].filter(r=>!!r)});t.common.issues.push(n)}class Zn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Fe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Zn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:c}=s;if(a.status==="aborted"||c.status==="aborted")return Fe;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[a.value]=c.value)}return{status:e.value,value:r}}}const Fe=Object.freeze({status:"aborted"}),VN=t=>({status:"dirty",value:t}),lr=t=>({status:"valid",value:t}),z6=t=>t.status==="aborted",F6=t=>t.status==="dirty",b0=t=>t.status==="valid",B1=t=>typeof Promise<"u"&&t instanceof Promise;var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));class gi{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const YA=(t,e)=>{if(b0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bs(t.common.issues);return this._error=n,this._error}}};function Ve(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,l)=>c.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:n??l.defaultError},description:s}}class Xe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Va(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Va(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zn,ctx:{common:e.parent.common,data:e.data,parsedType:Va(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(B1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Va(e)},a=this._parseSync({data:e,path:s.path,parent:s});return YA(s,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Va(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(B1(s)?s:Promise.resolve(s));return YA(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const c=e(s),l=()=>a.addIssue({code:pe.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(u=>u?!0:(l(),!1)):c?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new js({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ji.create(this,this._def)}nullable(){return Rc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ls.create(this,this._def)}promise(){return Rl.create(this,this._def)}or(e){return E0.create([this,e],this._def)}and(e){return _0.create(this,e,this._def)}transform(e){return new js({...Ve(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new N0({...Ve(this._def),innerType:this,defaultValue:n,typeName:Be.ZodDefault})}brand(){return new WN({typeName:Be.ZodBranded,type:this,...Ve(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new F1({...Ve(this._def),innerType:this,catchValue:n,typeName:Be.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return nh.create(this,e)}readonly(){return H1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZJ=/^c[^\s-]{8,}$/i,QJ=/^[a-z][a-z0-9]*$/,XJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,JJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eee=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cy;const nee=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ree=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,see=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function iee(t,e){return!!((e==="v4"||!e)&&nee.test(t)||(e==="v6"||!e)&&ree.test(t))}class ks extends Xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.string,received:a.parsedType}),Fe}const r=new Zn;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,l=e.data.length<a.value;(c||l)&&(s=this._getOrReturnCtx(e,s),c?Ae(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ae(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")eee.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"email",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")cy||(cy=new RegExp(tee,"u")),cy.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"emoji",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")JJ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"uuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")ZJ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")QJ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid2",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")XJ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ulid",code:pe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ae(s,{validation:"url",code:pe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"regex",code:pe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?see(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?iee(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ip",code:pe.invalid_string,message:a.message}),r.dirty()):pt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:pe.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new ks({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...xe.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new ks({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ks({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ks({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ks.create=t=>{var e;return new ks({checks:[],typeName:Be.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};function aee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(t.toFixed(s).replace(".","")),c=parseInt(e.toFixed(s).replace(".",""));return a%c/Math.pow(10,s)}class mo extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.number,received:a.parsedType}),Fe}let r;const s=new Zn;for(const a of this._def.checks)a.kind==="int"?pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?aee(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.not_finite,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new mo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}mo.create=t=>new mo({checks:[],typeName:Be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class bo extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ve.bigint){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.bigint,received:a.parsedType}),Fe}let r;const s=new Zn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new bo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new bo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}bo.create=t=>{var e;return new bo({checks:[],typeName:Be.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};class y0 extends Xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.boolean,received:r.parsedType}),Fe}return lr(e.data)}}y0.create=t=>new y0({typeName:Be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class Oc extends Xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_type,expected:ve.date,received:a.parsedType}),Fe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ae(a,{code:pe.invalid_date}),Fe}const r=new Zn;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):pt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Oc.create=t=>new Oc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Be.ZodDate,...Ve(t)});class L1 extends Xe{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.symbol,received:r.parsedType}),Fe}return lr(e.data)}}L1.create=t=>new L1({typeName:Be.ZodSymbol,...Ve(t)});class w0 extends Xe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.undefined,received:r.parsedType}),Fe}return lr(e.data)}}w0.create=t=>new w0({typeName:Be.ZodUndefined,...Ve(t)});class v0 extends Xe{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.null,received:r.parsedType}),Fe}return lr(e.data)}}v0.create=t=>new v0({typeName:Be.ZodNull,...Ve(t)});class Il extends Xe{constructor(){super(...arguments),this._any=!0}_parse(e){return lr(e.data)}}Il.create=t=>new Il({typeName:Be.ZodAny,...Ve(t)});class dc extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return lr(e.data)}}dc.create=t=>new dc({typeName:Be.ZodUnknown,...Ve(t)});class na extends Xe{_parse(e){const n=this._getOrReturnCtx(e);return Ae(n,{code:pe.invalid_type,expected:ve.never,received:n.parsedType}),Fe}}na.create=t=>new na({typeName:Be.ZodNever,...Ve(t)});class j1 extends Xe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.void,received:r.parsedType}),Fe}return lr(e.data)}}j1.create=t=>new j1({typeName:Be.ZodVoid,...Ve(t)});class Ls extends Xe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ve.array)return Ae(n,{code:pe.invalid_type,expected:ve.array,received:n.parsedType}),Fe;if(s.exactLength!==null){const c=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(c||l)&&(Ae(n,{code:c?pe.too_big:pe.too_small,minimum:l?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ae(n,{code:pe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ae(n,{code:pe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,l)=>s.type._parseAsync(new gi(n,c,n.path,l)))).then(c=>Zn.mergeArray(r,c));const a=[...n.data].map((c,l)=>s.type._parseSync(new gi(n,c,n.path,l)));return Zn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Ls({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new Ls({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new Ls({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}Ls.create=(t,e)=>new Ls({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Ve(e)});function Wf(t){if(t instanceof Vt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ji.create(Wf(r))}return new Vt({...t._def,shape:()=>e})}else return t instanceof Ls?new Ls({...t._def,type:Wf(t.element)}):t instanceof Ji?Ji.create(Wf(t.unwrap())):t instanceof Rc?Rc.create(Wf(t.unwrap())):t instanceof mi?mi.create(t.items.map(e=>Wf(e))):t}class Vt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ve.object){const d=this._getOrReturnCtx(e);return Ae(d,{code:pe.invalid_type,expected:ve.object,received:d.parsedType}),Fe}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),l=[];if(!(this._def.catchall instanceof na&&this._def.unknownKeys==="strip"))for(const d in s.data)c.includes(d)||l.push(d);const u=[];for(const d of c){const p=a[d],g=s.data[d];u.push({key:{status:"valid",value:d},value:p._parse(new gi(s,g,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof na){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of l)u.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(d==="strict")l.length>0&&(Ae(s,{code:pe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of l){const g=s.data[p];u.push({key:{status:"valid",value:p},value:d._parse(new gi(s,g,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of u){const g=await p.key;d.push({key:g,value:await p.value,alwaysSet:p.alwaysSet})}return d}).then(d=>Zn.mergeObjectSync(r,d)):Zn.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new Vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a,c,l;const u=(c=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&c!==void 0?c:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=xe.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Vt({...this._def,unknownKeys:"strip"})}passthrough(){return new Vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Be.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Vt({...this._def,catchall:e})}pick(e){const n={};return pt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Vt({...this._def,shape:()=>n})}omit(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Vt({...this._def,shape:()=>n})}deepPartial(){return Wf(this)}partial(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Vt({...this._def,shape:()=>n})}required(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ji;)a=a._def.innerType;n[r]=a}}),new Vt({...this._def,shape:()=>n})}keyof(){return GN(pt.objectKeys(this.shape))}}Vt.create=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strip",catchall:na.create(),typeName:Be.ZodObject,...Ve(e)});Vt.strictCreate=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strict",catchall:na.create(),typeName:Be.ZodObject,...Ve(e)});Vt.lazycreate=(t,e)=>new Vt({shape:t,unknownKeys:"strip",catchall:na.create(),typeName:Be.ZodObject,...Ve(e)});class E0 extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const c=a.map(l=>new Bs(l.ctx.common.issues));return Ae(n,{code:pe.invalid_union,unionErrors:c}),Fe}if(n.common.async)return Promise.all(r.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let a;const c=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},p=u._parseSync({data:n.data,path:n.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:d}),d.common.issues.length&&c.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=c.map(u=>new Bs(u));return Ae(n,{code:pe.invalid_union,unionErrors:l}),Fe}}get options(){return this._def.options}}E0.create=(t,e)=>new E0({options:t,typeName:Be.ZodUnion,...Ve(e)});const c1=t=>t instanceof A0?c1(t.schema):t instanceof js?c1(t.innerType()):t instanceof S0?[t.value]:t instanceof yo?t.options:t instanceof T0?Object.keys(t.enum):t instanceof N0?c1(t._def.innerType):t instanceof w0?[void 0]:t instanceof v0?[null]:null;class Cg extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return Ae(n,{code:pe.invalid_type,expected:ve.object,received:n.parsedType}),Fe;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Ae(n,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const a of n){const c=c1(a.shape[e]);if(!c)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of c){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,a)}}return new Cg({typeName:Be.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ve(r)})}}function q6(t,e){const n=Va(t),r=Va(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const s=pt.objectKeys(e),a=pt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),c={...t,...e};for(const l of a){const u=q6(t[l],e[l]);if(!u.valid)return{valid:!1};c[l]=u.data}return{valid:!0,data:c}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const c=t[a],l=e[a],u=q6(c,l);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _0 extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,c)=>{if(z6(a)||z6(c))return Fe;const l=q6(a.value,c.value);return l.valid?((F6(a)||F6(c))&&n.dirty(),{status:n.value,value:l.data}):(Ae(r,{code:pe.invalid_intersection_types}),Fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_0.create=(t,e,n)=>new _0({left:t,right:e,typeName:Be.ZodIntersection,...Ve(n)});class mi extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return Ae(r,{code:pe.invalid_type,expected:ve.array,received:r.parsedType}),Fe;if(r.data.length<this._def.items.length)return Ae(r,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&r.data.length>this._def.items.length&&(Ae(r,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((c,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new gi(r,c,r.path,l)):null}).filter(c=>!!c);return r.common.async?Promise.all(a).then(c=>Zn.mergeArray(n,c)):Zn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new mi({...this._def,rest:e})}}mi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mi({items:t,typeName:Be.ZodTuple,rest:null,...Ve(e)})};class C0 extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.object)return Ae(r,{code:pe.invalid_type,expected:ve.object,received:r.parsedType}),Fe;const s=[],a=this._def.keyType,c=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new gi(r,l,r.path,l)),value:c._parse(new gi(r,r.data[l],r.path,l))});return r.common.async?Zn.mergeObjectAsync(n,s):Zn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Xe?new C0({keyType:e,valueType:n,typeName:Be.ZodRecord,...Ve(r)}):new C0({keyType:ks.create(),valueType:e,typeName:Be.ZodRecord,...Ve(n)})}}class z1 extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return Ae(r,{code:pe.invalid_type,expected:ve.map,received:r.parsedType}),Fe;const s=this._def.keyType,a=this._def.valueType,c=[...r.data.entries()].map(([l,u],d)=>({key:s._parse(new gi(r,l,r.path,[d,"key"])),value:a._parse(new gi(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of c){const d=await u.key,p=await u.value;if(d.status==="aborted"||p.status==="aborted")return Fe;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of c){const d=u.key,p=u.value;if(d.status==="aborted"||p.status==="aborted")return Fe;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}}}}z1.create=(t,e,n)=>new z1({valueType:e,keyType:t,typeName:Be.ZodMap,...Ve(n)});class Ic extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return Ae(r,{code:pe.invalid_type,expected:ve.set,received:r.parsedType}),Fe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ae(r,{code:pe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ae(r,{code:pe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function c(u){const d=new Set;for(const p of u){if(p.status==="aborted")return Fe;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>a._parse(new gi(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>c(u)):c(l)}min(e,n){return new Ic({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new Ic({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ic.create=(t,e)=>new Ic({valueType:t,minSize:null,maxSize:null,typeName:Be.ZodSet,...Ve(e)});class el extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.function)return Ae(n,{code:pe.invalid_type,expected:ve.function,received:n.parsedType}),Fe;function r(l,u){return k1({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,M1(),m0].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:u}})}function s(l,u){return k1({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,M1(),m0].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:u}})}const a={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof Rl){const l=this;return lr(async function(...u){const d=new Bs([]),p=await l._def.args.parseAsync(u,a).catch(w=>{throw d.addIssue(r(u,w)),d}),g=await Reflect.apply(c,this,p);return await l._def.returns._def.type.parseAsync(g,a).catch(w=>{throw d.addIssue(s(g,w)),d})})}else{const l=this;return lr(function(...u){const d=l._def.args.safeParse(u,a);if(!d.success)throw new Bs([r(u,d.error)]);const p=Reflect.apply(c,this,d.data),g=l._def.returns.safeParse(p,a);if(!g.success)throw new Bs([s(p,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new el({...this._def,args:mi.create(e).rest(dc.create())})}returns(e){return new el({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new el({args:e||mi.create([]).rest(dc.create()),returns:n||dc.create(),typeName:Be.ZodFunction,...Ve(r)})}}class A0 extends Xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}A0.create=(t,e)=>new A0({getter:t,typeName:Be.ZodLazy,...Ve(e)});class S0 extends Xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ae(n,{received:n.data,code:pe.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}S0.create=(t,e)=>new S0({value:t,typeName:Be.ZodLiteral,...Ve(e)});function GN(t,e){return new yo({values:t,typeName:Be.ZodEnum,...Ve(e)})}class yo extends Xe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{expected:pt.joinValues(r),received:n.parsedType,code:pe.invalid_type}),Fe}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{received:n.data,code:pe.invalid_enum_value,options:r}),Fe}return lr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return yo.create(e)}exclude(e){return yo.create(this.options.filter(n=>!e.includes(n)))}}yo.create=GN;class T0 extends Xe{_parse(e){const n=pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const s=pt.objectValues(n);return Ae(r,{expected:pt.joinValues(s),received:r.parsedType,code:pe.invalid_type}),Fe}if(n.indexOf(e.data)===-1){const s=pt.objectValues(n);return Ae(r,{received:r.data,code:pe.invalid_enum_value,options:s}),Fe}return lr(e.data)}get enum(){return this._def.values}}T0.create=(t,e)=>new T0({values:t,typeName:Be.ZodNativeEnum,...Ve(e)});class Rl extends Xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return Ae(n,{code:pe.invalid_type,expected:ve.promise,received:n.parsedType}),Fe;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return lr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Rl.create=(t,e)=>new Rl({type:t,typeName:Be.ZodPromise,...Ve(e)});class js extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:c=>{Ae(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const c=s.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(c).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:c,path:r.path,parent:r})}if(s.type==="refinement"){const c=l=>{const u=s.refinement(l,a);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Fe:(l.status==="dirty"&&n.dirty(),c(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Fe:(l.status==="dirty"&&n.dirty(),c(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!b0(c))return c;const l=s.transform(c.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>b0(c)?Promise.resolve(s.transform(c.value,a)).then(l=>({status:n.value,value:l})):c);pt.assertNever(s)}}js.create=(t,e,n)=>new js({schema:t,typeName:Be.ZodEffects,effect:e,...Ve(n)});js.createWithPreprocess=(t,e,n)=>new js({schema:e,effect:{type:"preprocess",transform:t},typeName:Be.ZodEffects,...Ve(n)});class Ji extends Xe{_parse(e){return this._getType(e)===ve.undefined?lr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ji.create=(t,e)=>new Ji({innerType:t,typeName:Be.ZodOptional,...Ve(e)});class Rc extends Xe{_parse(e){return this._getType(e)===ve.null?lr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rc.create=(t,e)=>new Rc({innerType:t,typeName:Be.ZodNullable,...Ve(e)});class N0 extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}N0.create=(t,e)=>new N0({innerType:t,typeName:Be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});class F1 extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return B1(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Bs(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Bs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}F1.create=(t,e)=>new F1({innerType:t,typeName:Be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});class q1 extends Xe{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return Ae(r,{code:pe.invalid_type,expected:ve.nan,received:r.parsedType}),Fe}return{status:"valid",value:e.data}}}q1.create=t=>new q1({typeName:Be.ZodNaN,...Ve(t)});const oee=Symbol("zod_brand");class WN extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class nh extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Fe:a.status==="dirty"?(n.dirty(),VN(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Fe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new nh({in:e,out:n,typeName:Be.ZodPipeline})}}class H1 extends Xe{_parse(e){const n=this._def.innerType._parse(e);return b0(n)&&(n.value=Object.freeze(n.value)),n}}H1.create=(t,e)=>new H1({innerType:t,typeName:Be.ZodReadonly,...Ve(e)});const KN=(t,e={},n)=>t?Il.create().superRefine((r,s)=>{var a,c;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(c=(a=l.fatal)!==null&&a!==void 0?a:n)!==null&&c!==void 0?c:!0,d=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...d,fatal:u})}}):Il.create(),cee={object:Vt.lazycreate};var Be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Be||(Be={}));const fee=(t,e={message:`Input not instance of ${t.name}`})=>KN(n=>n instanceof t,e),YN=ks.create,ZN=mo.create,lee=q1.create,uee=bo.create,QN=y0.create,dee=Oc.create,hee=L1.create,pee=w0.create,gee=v0.create,mee=Il.create,bee=dc.create,yee=na.create,wee=j1.create,vee=Ls.create,Eee=Vt.create,_ee=Vt.strictCreate,Cee=E0.create,Aee=Cg.create,See=_0.create,Tee=mi.create,Nee=C0.create,Oee=z1.create,Iee=Ic.create,Ree=el.create,xee=A0.create,Pee=S0.create,Dee=yo.create,$ee=T0.create,Uee=Rl.create,ZA=js.create,Mee=Ji.create,kee=Rc.create,Bee=js.createWithPreprocess,Lee=nh.create,jee=()=>YN().optional(),zee=()=>ZN().optional(),Fee=()=>QN().optional(),qee={string:t=>ks.create({...t,coerce:!0}),number:t=>mo.create({...t,coerce:!0}),boolean:t=>y0.create({...t,coerce:!0}),bigint:t=>bo.create({...t,coerce:!0}),date:t=>Oc.create({...t,coerce:!0})},Hee=Fe;var $=Object.freeze({__proto__:null,defaultErrorMap:m0,setErrorMap:KJ,getErrorMap:M1,makeIssue:k1,EMPTY_PATH:YJ,addIssueToContext:Ae,ParseStatus:Zn,INVALID:Fe,DIRTY:VN,OK:lr,isAborted:z6,isDirty:F6,isValid:b0,isAsync:B1,get util(){return pt},get objectUtil(){return j6},ZodParsedType:ve,getParsedType:Va,ZodType:Xe,ZodString:ks,ZodNumber:mo,ZodBigInt:bo,ZodBoolean:y0,ZodDate:Oc,ZodSymbol:L1,ZodUndefined:w0,ZodNull:v0,ZodAny:Il,ZodUnknown:dc,ZodNever:na,ZodVoid:j1,ZodArray:Ls,ZodObject:Vt,ZodUnion:E0,ZodDiscriminatedUnion:Cg,ZodIntersection:_0,ZodTuple:mi,ZodRecord:C0,ZodMap:z1,ZodSet:Ic,ZodFunction:el,ZodLazy:A0,ZodLiteral:S0,ZodEnum:yo,ZodNativeEnum:T0,ZodPromise:Rl,ZodEffects:js,ZodTransformer:js,ZodOptional:Ji,ZodNullable:Rc,ZodDefault:N0,ZodCatch:F1,ZodNaN:q1,BRAND:oee,ZodBranded:WN,ZodPipeline:nh,ZodReadonly:H1,custom:KN,Schema:Xe,ZodSchema:Xe,late:cee,get ZodFirstPartyTypeKind(){return Be},coerce:qee,any:mee,array:vee,bigint:uee,boolean:QN,date:dee,discriminatedUnion:Aee,effect:ZA,enum:Dee,function:Ree,instanceof:fee,intersection:See,lazy:xee,literal:Pee,map:Oee,nan:lee,nativeEnum:$ee,never:yee,null:gee,nullable:kee,number:ZN,object:Eee,oboolean:Fee,onumber:zee,optional:Mee,ostring:jee,pipeline:Lee,preprocess:Bee,promise:Uee,record:Nee,set:Iee,strictObject:_ee,string:YN,symbol:hee,transformer:ZA,tuple:Tee,undefined:pee,union:Cee,unknown:bee,void:wee,NEVER:Hee,ZodIssueCode:pe,quotelessJson:WJ,ZodError:Bs});const Yt=$.object({message:$.string()});function Ee(t){return $.literal(Se[t])}$.object({accessList:$.array($.string()),blockHash:$.string().nullable(),blockNumber:$.string().nullable(),chainId:$.string().or($.number()),from:$.string(),gas:$.string(),hash:$.string(),input:$.string().nullable(),maxFeePerGas:$.string(),maxPriorityFeePerGas:$.string(),nonce:$.string(),r:$.string(),s:$.string(),to:$.string(),transactionIndex:$.string().nullable(),type:$.string(),v:$.string(),value:$.string()});const Vee=$.object({chainId:$.string().or($.number())}),Gee=$.object({email:$.string().email()}),Wee=$.object({otp:$.string()}),Kee=$.object({uri:$.string(),preferredAccountType:$.optional($.string())}),Yee=$.object({chainId:$.optional($.string().or($.number())),preferredAccountType:$.optional($.string()),socialUri:$.optional($.string())}),Zee=$.object({provider:$.enum(["google","github","apple","facebook","x","discord"])}),Qee=$.object({email:$.string().email()}),Xee=$.object({otp:$.string()}),Jee=$.object({otp:$.string()}),ete=$.object({themeMode:$.optional($.enum(["light","dark"])),themeVariables:$.optional($.record($.string(),$.string().or($.number()))),w3mThemeVariables:$.optional($.record($.string(),$.string()))}),tte=$.object({metadata:$.object({name:$.string(),description:$.string(),url:$.string(),icons:$.array($.string())}).optional(),sdkVersion:$.string().optional(),sdkType:$.string().optional(),projectId:$.string()}),nte=$.object({type:$.string()}),rte=$.object({action:$.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),ste=$.object({url:$.string()}),ite=$.object({userName:$.string()}),ate=$.object({email:$.string().optional().nullable(),address:$.string(),chainId:$.string().or($.number()),accounts:$.array($.object({address:$.string(),type:$.enum([Ln.ACCOUNT_TYPES.EOA,Ln.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:$.string().optional().nullable(),preferredAccountType:$.optional($.string())}),ote=$.object({action:$.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),cte=$.object({email:$.string().email().optional().nullable(),address:$.string(),chainId:$.string().or($.number()),smartAccountDeployed:$.optional($.boolean()),accounts:$.array($.object({address:$.string(),type:$.enum([Ln.ACCOUNT_TYPES.EOA,Ln.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:$.optional($.string())}),fte=$.object({uri:$.string()}),lte=$.object({isConnected:$.boolean()}),ute=$.object({chainId:$.string().or($.number())}),dte=$.object({chainId:$.string().or($.number())}),hte=$.object({newEmail:$.string().email()}),pte=$.object({smartAccountEnabledNetworks:$.array($.number())});$.object({address:$.string(),isDeployed:$.boolean()});const gte=$.object({version:$.string().optional()}),mte=$.object({type:$.string(),address:$.string()}),bte=$.any(),yte=$.object({method:$.literal("eth_accounts")}),wte=$.object({method:$.literal("eth_blockNumber")}),vte=$.object({method:$.literal("eth_call"),params:$.array($.any())}),Ete=$.object({method:$.literal("eth_chainId")}),_te=$.object({method:$.literal("eth_estimateGas"),params:$.array($.any())}),Cte=$.object({method:$.literal("eth_feeHistory"),params:$.array($.any())}),Ate=$.object({method:$.literal("eth_gasPrice")}),Ste=$.object({method:$.literal("eth_getAccount"),params:$.array($.any())}),Tte=$.object({method:$.literal("eth_getBalance"),params:$.array($.any())}),Nte=$.object({method:$.literal("eth_getBlockByHash"),params:$.array($.any())}),Ote=$.object({method:$.literal("eth_getBlockByNumber"),params:$.array($.any())}),Ite=$.object({method:$.literal("eth_getBlockReceipts"),params:$.array($.any())}),Rte=$.object({method:$.literal("eth_getBlockTransactionCountByHash"),params:$.array($.any())}),xte=$.object({method:$.literal("eth_getBlockTransactionCountByNumber"),params:$.array($.any())}),Pte=$.object({method:$.literal("eth_getCode"),params:$.array($.any())}),Dte=$.object({method:$.literal("eth_getFilterChanges"),params:$.array($.any())}),$te=$.object({method:$.literal("eth_getFilterLogs"),params:$.array($.any())}),Ute=$.object({method:$.literal("eth_getLogs"),params:$.array($.any())}),Mte=$.object({method:$.literal("eth_getProof"),params:$.array($.any())}),kte=$.object({method:$.literal("eth_getStorageAt"),params:$.array($.any())}),Bte=$.object({method:$.literal("eth_getTransactionByBlockHashAndIndex"),params:$.array($.any())}),Lte=$.object({method:$.literal("eth_getTransactionByBlockNumberAndIndex"),params:$.array($.any())}),jte=$.object({method:$.literal("eth_getTransactionByHash"),params:$.array($.any())}),zte=$.object({method:$.literal("eth_getTransactionCount"),params:$.array($.any())}),Fte=$.object({method:$.literal("eth_getTransactionReceipt"),params:$.array($.any())}),qte=$.object({method:$.literal("eth_getUncleCountByBlockHash"),params:$.array($.any())}),Hte=$.object({method:$.literal("eth_getUncleCountByBlockNumber"),params:$.array($.any())}),Vte=$.object({method:$.literal("eth_maxPriorityFeePerGas")}),Gte=$.object({method:$.literal("eth_newBlockFilter")}),Wte=$.object({method:$.literal("eth_newFilter"),params:$.array($.any())}),Kte=$.object({method:$.literal("eth_newPendingTransactionFilter")}),Yte=$.object({method:$.literal("eth_sendRawTransaction"),params:$.array($.any())}),Zte=$.object({method:$.literal("eth_syncing"),params:$.array($.any())}),Qte=$.object({method:$.literal("eth_uninstallFilter"),params:$.array($.any())}),QA=$.object({method:$.literal("personal_sign"),params:$.array($.any())}),Xte=$.object({method:$.literal("eth_signTypedData_v4"),params:$.array($.any())}),Jte=$.object({method:$.literal("eth_sendTransaction"),params:$.array($.any())}),ene=$.object({method:$.literal("solana_signMessage"),params:$.object({message:$.string(),pubkey:$.string()})}),tne=$.object({method:$.literal("solana_signTransaction"),params:$.object({transaction:$.string()})}),nne=$.object({method:$.literal("solana_signAllTransactions"),params:$.object({transactions:$.array($.string())})}),rne=$.object({method:$.literal("solana_signAndSendTransaction"),params:$.object({transaction:$.string(),options:$.object({skipPreflight:$.boolean().optional(),preflightCommitment:$.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:$.number().optional(),minContextSlot:$.number().optional()}).optional()})}),sne=$.object({method:$.literal("wallet_sendCalls"),params:$.array($.object({chainId:$.string().or($.number()).optional(),from:$.string().optional(),version:$.string().optional(),capabilities:$.any().optional(),calls:$.array($.object({to:$.string().startsWith("0x"),data:$.string().startsWith("0x").optional(),value:$.string().optional()}))}))}),ine=$.object({method:$.literal("wallet_getCallsStatus"),params:$.array($.string())}),ane=$.object({method:$.literal("wallet_getCapabilities")}),one=$.object({method:$.literal("wallet_grantPermissions"),params:$.array($.any())}),cne=$.object({method:$.literal("wallet_revokePermissions"),params:$.any()}),fne=$.object({method:$.literal("wallet_getAssets"),params:$.any()}),XA=$.object({token:$.string()}),_e=$.object({id:$.string().optional()}),ud={appEvent:_e.extend({type:Ee("APP_SWITCH_NETWORK"),payload:Vee}).or(_e.extend({type:Ee("APP_CONNECT_EMAIL"),payload:Gee})).or(_e.extend({type:Ee("APP_CONNECT_DEVICE")})).or(_e.extend({type:Ee("APP_CONNECT_OTP"),payload:Wee})).or(_e.extend({type:Ee("APP_CONNECT_SOCIAL"),payload:Kee})).or(_e.extend({type:Ee("APP_GET_FARCASTER_URI")})).or(_e.extend({type:Ee("APP_CONNECT_FARCASTER")})).or(_e.extend({type:Ee("APP_GET_USER"),payload:$.optional(Yee)})).or(_e.extend({type:Ee("APP_GET_SOCIAL_REDIRECT_URI"),payload:Zee})).or(_e.extend({type:Ee("APP_SIGN_OUT")})).or(_e.extend({type:Ee("APP_IS_CONNECTED"),payload:$.optional(XA)})).or(_e.extend({type:Ee("APP_GET_CHAIN_ID")})).or(_e.extend({type:Ee("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(_e.extend({type:Ee("APP_INIT_SMART_ACCOUNT")})).or(_e.extend({type:Ee("APP_SET_PREFERRED_ACCOUNT"),payload:nte})).or(_e.extend({type:Ee("APP_RPC_REQUEST"),payload:QA.or(fne).or(yte).or(wte).or(vte).or(Ete).or(_te).or(Cte).or(Ate).or(Ste).or(Tte).or(Nte).or(Ote).or(Ite).or(Rte).or(xte).or(Pte).or(Dte).or($te).or(Ute).or(Mte).or(kte).or(Bte).or(Lte).or(jte).or(zte).or(Fte).or(qte).or(Hte).or(Vte).or(Gte).or(Wte).or(Kte).or(Yte).or(Zte).or(Qte).or(QA).or(Xte).or(Jte).or(ene).or(tne).or(nne).or(rne).or(ine).or(sne).or(ane).or(one).or(cne)})).or(_e.extend({type:Ee("APP_UPDATE_EMAIL"),payload:Qee})).or(_e.extend({type:Ee("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Xee})).or(_e.extend({type:Ee("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Jee})).or(_e.extend({type:Ee("APP_SYNC_THEME"),payload:ete})).or(_e.extend({type:Ee("APP_SYNC_DAPP_DATA"),payload:tte})).or(_e.extend({type:Ee("APP_RELOAD")})),frameEvent:_e.extend({type:Ee("FRAME_SWITCH_NETWORK_ERROR"),payload:Yt}).or(_e.extend({type:Ee("FRAME_SWITCH_NETWORK_SUCCESS"),payload:dte})).or(_e.extend({type:Ee("FRAME_CONNECT_EMAIL_SUCCESS"),payload:rte})).or(_e.extend({type:Ee("FRAME_CONNECT_EMAIL_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:ste})).or(_e.extend({type:Ee("FRAME_GET_FARCASTER_URI_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:ite})).or(_e.extend({type:Ee("FRAME_CONNECT_FARCASTER_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_CONNECT_OTP_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_CONNECT_OTP_SUCCESS")})).or(_e.extend({type:Ee("FRAME_CONNECT_DEVICE_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_CONNECT_DEVICE_SUCCESS")})).or(_e.extend({type:Ee("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:ate})).or(_e.extend({type:Ee("FRAME_CONNECT_SOCIAL_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_GET_USER_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_GET_USER_SUCCESS"),payload:cte})).or(_e.extend({type:Ee("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:fte})).or(_e.extend({type:Ee("FRAME_SIGN_OUT_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_SIGN_OUT_SUCCESS")})).or(_e.extend({type:Ee("FRAME_IS_CONNECTED_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_IS_CONNECTED_SUCCESS"),payload:lte})).or(_e.extend({type:Ee("FRAME_GET_CHAIN_ID_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_GET_CHAIN_ID_SUCCESS"),payload:ute})).or(_e.extend({type:Ee("FRAME_RPC_REQUEST_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_RPC_REQUEST_SUCCESS"),payload:bte})).or(_e.extend({type:Ee("FRAME_SESSION_UPDATE"),payload:XA})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_SUCCESS"),payload:ote})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:hte})).or(_e.extend({type:Ee("FRAME_SYNC_THEME_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_SYNC_THEME_SUCCESS")})).or(_e.extend({type:Ee("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(_e.extend({type:Ee("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:pte})).or(_e.extend({type:Ee("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:mte})).or(_e.extend({type:Ee("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_READY"),payload:gte})).or(_e.extend({type:Ee("FRAME_RELOAD_ERROR"),payload:Yt})).or(_e.extend({type:Ee("FRAME_RELOAD_SUCCESS")}))};function fy(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class lne{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=de.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:d}){if(!fy(Se.FRAME_EVENT_KEY,d))return;const p=ud.frameEvent.parse(d);p.id===a&&(c(p),window.removeEventListener("message",u))}Gr.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{Gr.isClient&&window.addEventListener("message",({data:c})=>{if(!fy(Se.FRAME_EVENT_KEY,c))return;const l=ud.frameEvent.parse(c);a(l)})},onAppEvent:a=>{Gr.isClient&&window.addEventListener("message",({data:c})=>{if(!fy(Se.APP_EVENT_KEY,c))return;const l=ud.appEvent.parse(c);a(l)})},postAppEvent:a=>{var c;if(Gr.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");ud.appEvent.parse(a),this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(Gr.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");ud.frameEvent.parse(a),parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),Gr.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=`${RJ}?projectId=${e}&chainId=${r}&version=${PJ}&enableLogger=${s}`,a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var l;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(l=this.frameLoadPromiseResolver)==null||l.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class une{constructor(e){var a;const n=jl({level:xJ}),{logger:r,chunkLoggerController:s}=Ew({opts:n});this.logger=Xn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((a=this.chunkLoggerController)!=null&&a.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var c;(c=this.chunkLoggerController)!=null&&c.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class dne{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:a}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new une(e)),this.abortController=a,this.w3mFrame=new lne({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!kn.get(Se.EMAIL_LOGIN_USED_KEY)}getEmail(){return kn.get(Se.EMAIL)}getUsername(){return kn.get(Se.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Se.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Gr.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Se.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Se.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Se.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Se.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Se.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Se.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Se.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Se.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Se.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Se.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Se.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Se.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Se.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Se.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1;e!=null&&e.preferredAccountType&&await this.setPreferredAccount(e.preferredAccountType);const a=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(a.email),this.setLastUsedChainId(a.chainId),this.user=a,a}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Se.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{await this.init();const r=await this.appEvent({type:Se.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Se.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Se.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Se.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Se.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,a;try{if(Ln.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const c=await this.appEvent({type:Se.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,c,e),c}catch(c){throw(s=this.rpcErrorHandler)==null||s.call(this,c,e),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Se.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Se.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Ln.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Se.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Se.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Ln.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(u){return u.replace("@w3m-app/","")}const a=[Se.APP_SYNC_DAPP_DATA,Se.APP_SYNC_THEME,Se.APP_SET_PREFERRED_ACCOUNT],c=s(e.type);return!this.w3mFrame.iframeIsReady&&!a.includes(e.type)&&(r=setTimeout(()=>{var u;(u=this.onTimeout)==null||u.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Se.APP_CONNECT_EMAIL,Se.APP_CONNECT_DEVICE,Se.APP_CONNECT_OTP,Se.APP_CONNECT_SOCIAL,Se.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(c)&&(n=setTimeout(()=>{var u;(u=this.onTimeout)==null||u.call(this,"iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((u,d)=>{var w,E,v;const p=Math.random().toString(36).substring(7);(v=(w=this.w3mLogger)==null?void 0:(E=w.logger).info)==null||v.call(E,{event:e,id:p},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:p});const g=new AbortController;if(c==="RPC_REQUEST"){const _=e;this.openRpcRequests=[...this.openRpcRequests,{..._.payload,abortController:g}]}g.signal.addEventListener("abort",()=>{c==="RPC_REQUEST"?d(new Error("Request was aborted")):c!=="GET_FARCASTER_URI"&&d(new Error("Something went wrong"))});function b(_,T){var S,I,x;_.id===p&&((I=T==null?void 0:(S=T.logger).info)==null||I.call(S,{framEvent:_,id:p},"Received frame response"),_.type===`@w3m-frame/${c}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&u(_.payload),u(void 0)):_.type===`@w3m-frame/${c}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&d(new Error(((x=_.payload)==null?void 0:x.message)||"An error occurred")),d(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(p,_=>b(_,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){kn.set(Se.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){kn.set(Se.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&kn.set(Se.EMAIL,e),kn.set(Se.EMAIL_LOGIN_USED_KEY,"true"),kn.delete(Se.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){kn.delete(Se.EMAIL_LOGIN_USED_KEY),kn.delete(Se.EMAIL),kn.delete(Se.LAST_USED_CHAIN_KEY),kn.delete(Se.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&kn.set(Se.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=kn.get(Se.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){kn.set(Se.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class hc{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a}){return hc.instance||(hc.instance=new dne({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a})),hc.instance}}var JA={};const hne={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof JA<"u"?JA.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},H6={filterOutDuplicatesByRDNS(t){const e=fe.state.enableEIP6963?Ce.state.connectors:[],n=ye.getRecentWallets(),r=e.map(l=>{var u;return(u=l.info)==null?void 0:u.rdns}).filter(Boolean),s=n.map(l=>l.rdns).filter(Boolean),a=r.concat(s);if(a.includes("io.metamask.mobile")&&De.isMobile()){const l=a.indexOf("io.metamask.mobile");a[l]="io.metamask"}return t.filter(l=>!a.includes(String(l==null?void 0:l.rdns)))},filterOutDuplicatesByIds(t){const e=Ce.state.connectors.filter(l=>l.type==="ANNOUNCED"||l.type==="INJECTED"),n=ye.getRecentWallets(),r=e.map(l=>l.explorerId),s=n.map(l=>l.id),a=r.concat(s);return t.filter(l=>!a.includes(l==null?void 0:l.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ce.state,n=e.filter(a=>a.type==="ANNOUNCED").reduce((a,c)=>{var l;return(l=c.info)!=null&&l.rdns&&(a[c.info.rdns]=!0),a},{});return t.map(a=>({...a,installed:!!a.rdns&&!!n[a.rdns??""]})).sort((a,c)=>Number(c.installed)-Number(a.installed))},getConnectOrderMethod(t,e){var u;const n=(t==null?void 0:t.connectMethodsOrder)||((u=fe.state.features)==null?void 0:u.connectMethodsOrder),r=e||Ce.state.connectors;if(n)return n;const{injected:s,announced:a}=f1.getConnectorsByType(r,Me.state.recommended,Me.state.featured),c=s.filter(f1.showConnector),l=a.filter(f1.showConnector);return c.length||l.length?["wallet","email","social"]:hne.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Me.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Me.state.excludedWallets.some(r=>_g.isLowerCaseMatch(r.name,t.name));return e||n}},f1={getConnectorsByType(t,e,n){const{customWallets:r}=fe.state,s=ye.getRecentWallets(),a=H6.filterOutDuplicateWallets(e),c=H6.filterOutDuplicateWallets(n),l=t.filter(g=>g.type==="MULTI_CHAIN"),u=t.filter(g=>g.type==="ANNOUNCED"),d=t.filter(g=>g.type==="INJECTED"),p=t.filter(g=>g.type==="EXTERNAL");return{custom:r,recent:s,external:p,multiChain:l,announced:u,injected:d,recommended:a,featured:c}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Me.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===e),r=!!t.name&&Me.state.excludedWallets.some(a=>_g.isLowerCaseMatch(a.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!De.isMobile()||De.isMobile()&&!e&&!ke.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(L.state.chains.values()).some(n=>Ce.getConnectorId(n.namespace)===de.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:a,multiChain:c,external:l,overriddenConnectors:u=(d=>(d=fe.state.features)==null?void 0:d.connectorTypeOrder)()??[]}){const p=f1.getIsConnectedWithWC(),w=[{type:"walletConnect",isEnabled:fe.state.enableWalletConnect&&!p},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...a,...s,...c].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:l.length>0},{type:"recommended",isEnabled:t.length>0}].filter(T=>T.isEnabled),E=new Set(w.map(T=>T.type)),v=u.filter(T=>E.has(T)).map(T=>({type:T,isEnabled:!0})),_=w.filter(({type:T})=>!v.some(({type:I})=>I===T));return Array.from(new Set([...v,..._].map(({type:T})=>T)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const l1=globalThis,Hw=l1.ShadowRoot&&(l1.ShadyCSS===void 0||l1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Vw=Symbol(),eS=new WeakMap;let XN=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==Vw)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(Hw&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=eS.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&eS.set(n,e))}return e}toString(){return this.cssText}};const us=t=>new XN(typeof t=="string"?t:t+"",void 0,Vw),tl=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,a)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[a+1],t[0]);return new XN(n,t,Vw)},pne=(t,e)=>{if(Hw)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=l1.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},tS=Hw?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return us(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:gne,defineProperty:mne,getOwnPropertyDescriptor:bne,getOwnPropertyNames:yne,getOwnPropertySymbols:wne,getPrototypeOf:vne}=Object,lo=globalThis,nS=lo.trustedTypes,Ene=nS?nS.emptyScript:"",ly=lo.reactiveElementPolyfillSupport,Rd=(t,e)=>t,V6={toAttribute(t,e){switch(e){case Boolean:t=t?Ene:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},JN=(t,e)=>!gne(t,e),rS={attribute:!0,type:String,converter:V6,reflect:!1,useDefault:!1,hasChanged:JN};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),lo.litPropertyMetadata??(lo.litPropertyMetadata=new WeakMap);let Kf=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=rS){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&mne(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:a}=bne(this.prototype,e)??{get(){return this[n]},set(c){this[n]=c}};return{get:s,set(c){const l=s==null?void 0:s.call(this);a==null||a.call(this,c),this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??rS}static _$Ei(){if(this.hasOwnProperty(Rd("elementProperties")))return;const e=vne(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Rd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Rd("properties"))){const n=this.properties,r=[...yne(n),...wne(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(tS(s))}else e!==void 0&&n.push(tS(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return pne(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var a;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const c=(((a=r.converter)==null?void 0:a.toAttribute)!==void 0?r.converter:V6).toAttribute(n,r.type);this._$Em=e,c==null?this.removeAttribute(s):this.setAttribute(s,c),this._$Em=null}}_$AK(e,n){var a,c;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const l=r.getPropertyOptions(s),u=typeof l.converter=="function"?{fromAttribute:l.converter}:((a=l.converter)==null?void 0:a.fromAttribute)!==void 0?l.converter:V6;this._$Em=s,this[s]=u.fromAttribute(n,l.type)??((c=this._$Ej)==null?void 0:c.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const a=this.constructor,c=this[e];if(r??(r=a.getPropertyOptions(e)),!((r.hasChanged??JN)(c,n)||r.useDefault&&r.reflect&&c===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(a._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:a},c){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,c??n??this[e]),a!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,c]of this._$Ep)this[a]=c;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[a,c]of s){const{wrapped:l}=c,u=this[a];l!==!0||this._$AL.has(a)||u===void 0||this.C(a,void 0,c,u)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var a;return(a=s.hostUpdate)==null?void 0:a.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Kf.elementStyles=[],Kf.shadowRootOptions={mode:"open"},Kf[Rd("elementProperties")]=new Map,Kf[Rd("finalized")]=new Map,ly==null||ly({ReactiveElement:Kf}),(lo.reactiveElementVersions??(lo.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xd=globalThis,V1=xd.trustedTypes,sS=V1?V1.createPolicy("lit-html",{createHTML:t=>t}):void 0,eO="$lit$",Ga=`lit$${Math.random().toFixed(9).slice(2)}$`,tO="?"+Ga,_ne=`<${tO}>`,xc=document,O0=()=>xc.createComment(""),I0=t=>t===null||typeof t!="object"&&typeof t!="function",Gw=Array.isArray,Cne=t=>Gw(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",uy=`[ 	
\f\r]`,dd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,iS=/-->/g,aS=/>/g,Ho=RegExp(`>|${uy}(?:([^\\s"'>=/]+)(${uy}*=${uy}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),oS=/'/g,cS=/"/g,nO=/^(?:script|style|textarea|title)$/i,rO=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),use=rO(1),dse=rO(2),xl=Symbol.for("lit-noChange"),On=Symbol.for("lit-nothing"),fS=new WeakMap,nc=xc.createTreeWalker(xc,129);function sO(t,e){if(!Gw(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return sS!==void 0?sS.createHTML(e):e}const Ane=(t,e)=>{const n=t.length-1,r=[];let s,a=e===2?"<svg>":e===3?"<math>":"",c=dd;for(let l=0;l<n;l++){const u=t[l];let d,p,g=-1,b=0;for(;b<u.length&&(c.lastIndex=b,p=c.exec(u),p!==null);)b=c.lastIndex,c===dd?p[1]==="!--"?c=iS:p[1]!==void 0?c=aS:p[2]!==void 0?(nO.test(p[2])&&(s=RegExp("</"+p[2],"g")),c=Ho):p[3]!==void 0&&(c=Ho):c===Ho?p[0]===">"?(c=s??dd,g=-1):p[1]===void 0?g=-2:(g=c.lastIndex-p[2].length,d=p[1],c=p[3]===void 0?Ho:p[3]==='"'?cS:oS):c===cS||c===oS?c=Ho:c===iS||c===aS?c=dd:(c=Ho,s=void 0);const w=c===Ho&&t[l+1].startsWith("/>")?" ":"";a+=c===dd?u+_ne:g>=0?(r.push(d),u.slice(0,g)+eO+u.slice(g)+Ga+w):u+Ga+(g===-2?l:w)}return[sO(t,a+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class R0{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let a=0,c=0;const l=e.length-1,u=this.parts,[d,p]=Ane(e,n);if(this.el=R0.createElement(d,r),nc.currentNode=this.el.content,n===2||n===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(s=nc.nextNode())!==null&&u.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(const g of s.getAttributeNames())if(g.endsWith(eO)){const b=p[c++],w=s.getAttribute(g).split(Ga),E=/([.?@])?(.*)/.exec(b);u.push({type:1,index:a,name:E[2],strings:w,ctor:E[1]==="."?Tne:E[1]==="?"?Nne:E[1]==="@"?One:Ag}),s.removeAttribute(g)}else g.startsWith(Ga)&&(u.push({type:6,index:a}),s.removeAttribute(g));if(nO.test(s.tagName)){const g=s.textContent.split(Ga),b=g.length-1;if(b>0){s.textContent=V1?V1.emptyScript:"";for(let w=0;w<b;w++)s.append(g[w],O0()),nc.nextNode(),u.push({type:2,index:++a});s.append(g[b],O0())}}}else if(s.nodeType===8)if(s.data===tO)u.push({type:2,index:a});else{let g=-1;for(;(g=s.data.indexOf(Ga,g+1))!==-1;)u.push({type:7,index:a}),g+=Ga.length-1}a++}}static createElement(e,n){const r=xc.createElement("template");return r.innerHTML=e,r}}function Pl(t,e,n=t,r){var c,l;if(e===xl)return e;let s=r!==void 0?(c=n._$Co)==null?void 0:c[r]:n._$Cl;const a=I0(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==a&&((l=s==null?void 0:s._$AO)==null||l.call(s,!1),a===void 0?s=void 0:(s=new a(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=Pl(t,s._$AS(t,e.values),s,r)),e}class Sne{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??xc).importNode(n,!0);nc.currentNode=s;let a=nc.nextNode(),c=0,l=0,u=r[0];for(;u!==void 0;){if(c===u.index){let d;u.type===2?d=new rh(a,a.nextSibling,this,e):u.type===1?d=new u.ctor(a,u.name,u.strings,this,e):u.type===6&&(d=new Ine(a,this,e)),this._$AV.push(d),u=r[++l]}c!==(u==null?void 0:u.index)&&(a=nc.nextNode(),c++)}return nc.currentNode=xc,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class rh{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=On,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Pl(this,e,n),I0(e)?e===On||e==null||e===""?(this._$AH!==On&&this._$AR(),this._$AH=On):e!==this._$AH&&e!==xl&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Cne(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==On&&I0(this._$AH)?this._$AA.nextSibling.data=e:this.T(xc.createTextNode(e)),this._$AH=e}$(e){var a;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=R0.createElement(sO(r.h,r.h[0]),this.options)),r);if(((a=this._$AH)==null?void 0:a._$AD)===s)this._$AH.p(n);else{const c=new Sne(s,this),l=c.u(this.options);c.p(n),this.T(l),this._$AH=c}}_$AC(e){let n=fS.get(e.strings);return n===void 0&&fS.set(e.strings,n=new R0(e)),n}k(e){Gw(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const a of e)s===n.length?n.push(r=new rh(this.O(O0()),this.O(O0()),this,this.options)):r=n[s],r._$AI(a),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Ag{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,a){this.type=1,this._$AH=On,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=On}_$AI(e,n=this,r,s){const a=this.strings;let c=!1;if(a===void 0)e=Pl(this,e,n,0),c=!I0(e)||e!==this._$AH&&e!==xl,c&&(this._$AH=e);else{const l=e;let u,d;for(e=a[0],u=0;u<a.length-1;u++)d=Pl(this,l[r+u],n,u),d===xl&&(d=this._$AH[u]),c||(c=!I0(d)||d!==this._$AH[u]),d===On?e=On:e!==On&&(e+=(d??"")+a[u+1]),this._$AH[u]=d}c&&!s&&this.j(e)}j(e){e===On?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Tne extends Ag{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===On?void 0:e}}class Nne extends Ag{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==On)}}class One extends Ag{constructor(e,n,r,s,a){super(e,n,r,s,a),this.type=5}_$AI(e,n=this){if((e=Pl(this,e,n,0)??On)===xl)return;const r=this._$AH,s=e===On&&r!==On||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,a=e!==On&&(r===On||s);s&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class Ine{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Pl(this,e)}}const dy=xd.litHtmlPolyfillSupport;dy==null||dy(R0,rh),(xd.litHtmlVersions??(xd.litHtmlVersions=[])).push("3.3.0");const Rne=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const a=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new rh(e.insertBefore(O0(),a),a,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pc=globalThis;class u1 extends Kf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Rne(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return xl}}var SS;u1._$litElement$=!0,u1.finalized=!0,(SS=pc.litElementHydrateSupport)==null||SS.call(pc,{LitElement:u1});const hy=pc.litElementPolyfillSupport;hy==null||hy({LitElement:u1});(pc.litElementVersions??(pc.litElementVersions=[])).push("4.2.0");let Pd,uo,ho;function hse(t,e){Pd=document.createElement("style"),uo=document.createElement("style"),ho=document.createElement("style"),Pd.textContent=nl(t).core.cssText,uo.textContent=nl(t).dark.cssText,ho.textContent=nl(t).light.cssText,document.head.appendChild(Pd),document.head.appendChild(uo),document.head.appendChild(ho),iO(e)}function iO(t){uo&&ho&&(t==="light"?(uo.removeAttribute("media"),ho.media="enabled"):(ho.removeAttribute("media"),uo.media="enabled"))}function xne(t){Pd&&uo&&ho&&(Pd.textContent=nl(t).core.cssText,uo.textContent=nl(t).dark.cssText,ho.textContent=nl(t).light.cssText)}function nl(t){return{core:tl`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${us(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${us((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${us((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${us((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${us((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:tl`
      :root {
        --w3m-color-mix: ${us((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${us(Yi(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${us(Yi(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:tl`
      :root {
        --w3m-color-mix: ${us((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${us(Yi(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${us(Yi(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const pse=tl`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,gse=tl`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,mse=tl`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Ed={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function sh(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const lS=sh({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),uS=sh({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});sh({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});sh({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});sh({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Pne={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Dd={getMethodsByChainNamespace(t){return Pne[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[a]=s.split(":");a&&r.add(a)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,a])=>{n[s]&&(n[s].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([s,a])=>{n[s]&&(n[s].chains=a)}),e.events&&Object.entries(e.events).forEach(([s,a])=>{n[s]&&(n[s].events=a)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([a,c])=>{const[l,u]=a.split(":");!l||!u||!n[l]||(n[l].rpcMap||(n[l].rpcMap={}),s.has(l)||(n[l].rpcMap={},s.add(l)),n[l].rpcMap[u]=c)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:a,chainNamespace:c,rpcUrls:l}=s,u=l.default.http[0];r[c]||(r[c]=this.createDefaultNamespace(c));const d=`${c}:${a}`,p=r[c];switch(p.chains.push(d),d){case lS.caipNetworkId:p.chains.push(lS.deprecatedCaipNetworkId);break;case uS.caipNetworkId:p.chains.push(uS.deprecatedCaipNetworkId);break}return p!=null&&p.rpcMap&&u&&(p.rpcMap[a]=u),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Id.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[a,c]=s.split(":");return`${a}:${c}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const a=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(a,"u").test(t))return!0}else if(r===t)return!0;return!1}};class Ww{constructor({provider:e,namespace:n}){this.id=de.CONNECTOR_ID.WALLET_CONNECT,this.name=io.ConnectorNamesMap[de.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=io.ConnectorImageIds[de.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=L.getCaipNetworks.bind(L),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=fe.state.universalProviderConfigOverride,s=Dd.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Od.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Dne})}}const Dne=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class aO{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>L.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:de.CONNECTOR_ID.AUTH,type:"AUTH",name:de.CONNECTOR_NAMES.AUTH,provider:e,imageId:io.ConnectorImageIds[de.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Te.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var a;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const c=s,l=(a=Te.state.preferredAccountTypes)==null?void 0:a[n.chainNamespace];await c.switchNetwork(n.caipNetworkId);const u=await c.getUser({chainId:n.caipNetworkId,preferredAccountType:l});this.emit("switchNetwork",u)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof Ww);if(!e)throw new Error("WalletConnectConnector not found");return e}}class $ne extends aO{setUniversalProvider(e){this.addConnector(new Ww({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,a,c,l;const n=this.provider,r=((l=(c=(a=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:l.map(u=>{const[,,d]=u.split(":");return d}).filter((u,d,p)=>p.indexOf(u)===d))||[];return Promise.resolve({accounts:r.map(u=>De.createAccount(e,u,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var a,c,l,u,d;if(!(e.caipNetwork&&cn.BALANCE_SUPPORTED_CHAINS.includes((a=e.caipNetwork)==null?void 0:a.chainNamespace))||(c=e.caipNetwork)!=null&&c.testnet)return{balance:"0.00",symbol:((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""};if(Te.state.balanceLoading&&e.chainId===((u=L.state.activeCaipNetwork)==null?void 0:u.id))return{balance:Te.state.balance||"0.00",symbol:Te.state.balanceSymbol||""};const s=(await Te.fetchTokenBalance()).find(p=>{var g,b;return p.chainId===`${(g=e.caipNetwork)==null?void 0:g.chainNamespace}:${e.chainId}`&&p.symbol===((b=e.caipNetwork)==null?void 0:b.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((d=e.caipNetwork)==null?void 0:d.nativeCurrency.symbol)||""}}async signMessage(e){var c,l,u;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return((c=L.state.activeCaipNetwork)==null?void 0:c.chainNamespace)===de.CHAIN.SOLANA?a=(await n.request({method:"solana_signMessage",params:{message:gT.encode(new TextEncoder().encode(r)),pubkey:s}},(l=L.state.activeCaipNetwork)==null?void 0:l.caipNetworkId)).signature:a=await n.request({method:"personal_sign",params:[r,s]},(u=L.state.activeCaipNetwork)==null?void 0:u.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,a,c,l,u,d;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===de.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:bl(n.id)}]}))}catch(p){if(p.code===Ed.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||p.code===Ed.ERROR_INVALID_CHAIN_ID||p.code===Ed.ERROR_CODE_DEFAULT||((c=(a=p==null?void 0:p.data)==null?void 0:a.originalError)==null?void 0:c.code)===Ed.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((d=r.provider)==null?void 0:d.request({method:"wallet_addEthereumChain",params:[{chainId:bl(n.id),rpcUrls:[(l=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:l.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(u=n.blockExplorers)==null?void 0:u.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Une{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,a,c,l;if(n){const u=(a=(s=L.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:a.find(g=>g.id===r);if(u)return u;const d=(c=L.getNetworkData(n))==null?void 0:c.caipNetwork;return d||((l=L.getRequestedCaipNetworks(n).filter(g=>g.chainNamespace===n))==null?void 0:l[0])}return L.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>L.getCaipNetworks(n),this.getActiveChainNamespace=()=>L.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{L.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>L.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>L.state.activeChain===n||!n?L.state.activeCaipAddress:L.getAccountProp("caipAddress",n),this.setClientId=n=>{je.setClientId(n)},this.getProvider=n=>Ot.getProvider(n),this.getProviderType=n=>Ot.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=Te.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{Te.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{Te.setBalance(n,r,s)},this.setProfileName=(n,r)=>{Te.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Te.setProfileImage(n,r)},this.setUser=(n,r)=>{Te.setUser(n,r),fe.state.enableEmbedded&&tn.close()},this.resetAccount=n=>{Te.resetAccount(n)},this.setCaipNetwork=n=>{L.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{L.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{Te.setAllAccounts(n,r),fe.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{Te.setStatus(n,r),Ce.isConnected()?ye.setConnectionStatus("connected"):ye.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>L.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Ce.state.allConnectors,...n];Ce.setConnectors(r)},this.setConnections=(n,r)=>{ke.setConnections(n,r)},this.fetchIdentity=n=>je.fetchIdentity(n),this.getReownName=n=>Id.getNamesForAddress(n),this.getConnectors=()=>Ce.getConnectors(),this.getConnectorImage=n=>v9.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const s=Ot.getProviderId(r),a=n?{...n,type:s}:void 0;Te.setConnectedWalletInfo(a,r)},this.getIsConnectedState=()=>!!L.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{Te.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{Te.removeAddressLabel(n,r)},this.getAddress=n=>L.state.activeChain===n||!n?Te.state.address:L.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>L.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{L.resetNetwork(n)},this.addConnector=n=>{Ce.addConnector(n)},this.resetWcConnection=()=>{ke.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Te.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Te.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{L.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{Te.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{fe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(a=>a.namespace).filter(a=>!!a);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(a=>a.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),li.set({initialized:!0}),await this.syncExistingConnection(),((n=fe.state.features)!=null&&n.email||Array.isArray((r=fe.state.features)==null?void 0:r.socials)&&((s=fe.state.features)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await Me.fetchAllowedOrigins();if(e&&De.isClient()){const n=window.location.origin;Dd.isOriginAllowed(n,e,Ed.DEFAULT_ALLOWED_ANCESTORS)||or.open(Tn.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else or.open(Tn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,jt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Sr.setThemeMode(e.themeMode),e.themeVariables&&Sr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");L.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&L.setActiveCaipNetwork(n)}initializeConnectionController(e){ke.setWcBasic(e.basic??!1)}initializeConnectorController(){Ce.initialize(this.chainNamespaces)}initializeOptionsController(e){var c;fe.setDebug(e.debug!==!1),fe.setEnableWalletConnect(e.enableWalletConnect!==!1),fe.setEnableWalletGuide(e.enableWalletGuide!==!1),fe.setEnableWallets(e.enableWallets!==!1),fe.setEIP6963Enabled(e.enableEIP6963!==!1),fe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),fe.setEnableAuthLogger(e.enableAuthLogger!==!1),fe.setCustomRpcUrls(e.customRpcUrls),fe.setSdkVersion(e.sdkVersion),fe.setProjectId(e.projectId),fe.setEnableEmbedded(e.enableEmbedded),fe.setAllWallets(e.allWallets),fe.setIncludeWalletIds(e.includeWalletIds),fe.setExcludeWalletIds(e.excludeWalletIds),fe.setFeaturedWalletIds(e.featuredWalletIds),fe.setTokens(e.tokens),fe.setTermsConditionsUrl(e.termsConditionsUrl),fe.setPrivacyPolicyUrl(e.privacyPolicyUrl),fe.setCustomWallets(e.customWallets),fe.setFeatures(e.features),fe.setAllowUnsupportedChain(e.allowUnsupportedChain),fe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),fe.setPreferUniversalLinks(e.experimental_preferUniversalLinks),fe.setDefaultAccountTypes(e.defaultAccountTypes);const n=ye.getPreferredAccountTypes()||{},r={...fe.state.defaultAccountTypes,...n};Te.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),fe.setMetadata(e.metadata),fe.setDisableAppend(e.disableAppend),fe.setEnableEmbedded(e.enableEmbedded),fe.setSIWX(e.siwx),!e.projectId){or.open(Tn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((c=e.adapters)==null?void 0:c.find(l=>l.namespace===de.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");fe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=ci.getUnsupportedNetwork(`${n}:${e}`);L.setActiveCaipNetwork(r)}}getDefaultNetwork(){return ci.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return ci.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return ci.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var a;return s.id===((a=e.defaultNetwork)==null?void 0:a.id)});return n?ci.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var a;const e=L.state.activeChain,n=this.getAdapter(e),r=(a=this.getCaipNetwork(e))==null?void 0:a.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),ye.setConnectedNamespaces([...L.state.chains.keys()]),this.chainNamespaces.forEach(c=>{Ce.setConnectorId(Lt.CONNECTOR_TYPE_WALLET_CONNECT,c)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:a,caipNetwork:c,socialUri:l})=>{var v,_,T,S,I,x;const u=L.state.activeChain,d=a||u,p=this.getAdapter(d);if(a&&a!==u&&!c){const N=this.getCaipNetworks().find(A=>A.chainNamespace===a);N&&this.setCaipNetwork(N)}if(!p)throw new Error("Adapter not found");const g=this.getCaipNetwork(d),b=await p.connect({id:e,info:n,type:r,provider:s,socialUri:l,chainId:(c==null?void 0:c.id)||(g==null?void 0:g.id),rpcUrl:((T=(_=(v=c==null?void 0:c.rpcUrls)==null?void 0:v.default)==null?void 0:_.http)==null?void 0:T[0])||((x=(I=(S=g==null?void 0:g.rpcUrls)==null?void 0:S.default)==null?void 0:I.http)==null?void 0:x[0])});if(!b)return;ye.addConnectedNamespace(d),this.syncProvider({...b,chainNamespace:d});const w=Te.state.allAccounts,{accounts:E}=(w==null?void 0:w.length)>0?{accounts:[...w]}:await p.getAccounts({namespace:d,id:e});this.setAllAccounts(E,d),this.setStatus("connected",d),this.syncConnectedWalletInfo(d)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var l;const a=L.state.activeChain,c=this.getAdapter(a);c!=null&&c.reconnect&&(await(c==null?void 0:c.reconnect({id:e,info:n,type:r,provider:s,chainId:(l=this.getCaipNetwork())==null?void 0:l.id})),ye.addConnectedNamespace(a),this.syncConnectedWalletInfo(a))},disconnect:async e=>{const n=e||L.state.activeChain,r=this.getAdapter(n),s=Ot.getProvider(n),a=Ot.getProviderId(n);await(r==null?void 0:r.disconnect({provider:s,providerType:a})),ye.removeConnectedNamespace(n),Ot.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(L.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:Te.state.address,provider:Ot.getProvider(L.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(cn.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(L.state.activeChain),s=Ot.getProvider(n),a=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(a==null?void 0:a.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===de.CHAIN.EVM){const n=this.getAdapter(L.state.activeChain),r=Ot.getProvider(L.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const a=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(a==null?void 0:a.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:Te.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:L.state.activeChain}),Te.state.profileImage||!1},getEnsAddress:async e=>await Dd.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(L.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),a=Ot.getProvider(L.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const c=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:a,caipAddress:s}));return c==null?void 0:c.hash},parseUnits:(e,n)=>{const r=this.getAdapter(L.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(L.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(L.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(L.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(L.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(L.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Te.state.address||this.updateNativeBalance(Te.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ke.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,a,c;if(Ot.getProviderId(L.state.activeChain)===Lt.CONNECTOR_TYPE_WALLET_CONNECT){const l=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((c=(a=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:a.peer)==null?void 0:c.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(l)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Ot.getProvider(n),a=Ot.getProviderId(n);if(e.chainNamespace===L.state.activeChain){const c=this.getAdapter(n);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:s,providerType:a}))}else if(this.setCaipNetwork(e),a===Lt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(n);c&&this.syncAccount({address:c,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(a=>{const{chainId:c,chainNamespace:l}=Da.parseCaipAddress(a);return`${l}:${c}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var a;const s=e==null?void 0:e.find(c=>c.namespace===r);return s?(s.construct({namespace:r,projectId:(a=this.options)==null?void 0:a.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new $ne({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ye.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ye.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:a})=>{const c=this.getCaipNetworks().find(d=>d.id===a||d.caipNetworkId===a),l=L.state.activeChain===e,u=L.getAccountProp("address",e);if(c){const d=l&&s?s:u;d&&this.syncAccount({address:d,chainId:c.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=Te.state.address,a=L.state.activeCaipNetwork;!s||!(a!=null&&a.id)||this.updateNativeBalance(s,a.id,a.chainNamespace)}),n.on("accountChanged",({address:s,chainId:a})=>{var l,u;const c=L.state.activeChain===e;c&&a?this.syncAccount({address:s,chainId:a,chainNamespace:e}):c&&((l=L.state.activeCaipNetwork)!=null&&l.id)?this.syncAccount({address:s,chainId:(u=L.state.activeCaipNetwork)==null?void 0:u.id,chainNamespace:e}):this.syncAccountInfo(s,a,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Ce.getConnectorId(e);switch(this.setStatus("connecting",e),n){case de.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case de.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var c,l,u;const n=this.getAdapter(e),r=Ce.getConnectorId(e),s=this.getCaipNetwork(e),a=Ce.getConnectors(e).find(d=>d.id===r);try{if(!n||!a)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const d=await(n==null?void 0:n.syncConnection({namespace:e,id:a.id,chainId:s.id,rpcUrl:(u=(l=(c=s==null?void 0:s.rpcUrls)==null?void 0:c.default)==null?void 0:l.http)==null?void 0:u[0]}));if(d){const p=await(n==null?void 0:n.getAccounts({namespace:e,id:a.id}));p&&p.accounts.length>0?this.setAllAccounts(p.accounts,e):this.setAllAccounts([De.createAccount(e,d.address,"eoa")],e),this.syncProvider({...d,chainNamespace:e}),await this.syncAccount({...d,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var l,u,d,p,g;const r=this.getAdapter(n),s=((p=(d=(u=(l=this.universalProvider)==null?void 0:l.session)==null?void 0:u.namespaces)==null?void 0:d[n])==null?void 0:p.accounts)||[],a=(g=L.state.activeCaipNetwork)==null?void 0:g.id,c=s.find(b=>{const{chainId:w}=Da.parseCaipAddress(b);return w===(a==null?void 0:a.toString())})||s[0];if(c){const b=Da.validateCaipAddress(c),{chainId:w,address:E}=Da.parseCaipAddress(b);if(Ot.setProviderId(n,Lt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&L.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==de.CHAIN.EVM){const v=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:L.state.activeCaipNetwork});Ot.setProvider(n,v)}else Ot.setProvider(n,this.universalProvider);Ce.setConnectorId(de.CONNECTOR_ID.WALLET_CONNECT,n),ye.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:E,chainId:w,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await L.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,s,a,c,l;const n=(l=(c=(a=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:l.map(u=>{const{address:d}=Da.parseCaipAddress(u);return d}).filter((u,d,p)=>p.indexOf(u)===d);n&&this.setAllAccounts(n.map(u=>De.createAccount(e,u,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){Ot.setProviderId(s,e),Ot.setProvider(s,n),Ce.setConnectorId(r,s)}async syncAllAccounts(e){const n=Ce.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var g,b;const n=e.chainNamespace===L.state.activeChain,r=L.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:a,chainNamespace:c}=e,{chainId:l}=ye.getActiveNetworkProps(),u=a||l,d=((g=L.state.activeCaipNetwork)==null?void 0:g.name)===de.UNSUPPORTED_NETWORK_NAME,p=L.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(d&&!p)&&u){let w=this.getCaipNetworks().find(_=>_.id.toString()===u.toString()),E=this.getCaipNetworks().find(_=>_.chainNamespace===c);if(!p&&!w&&!E){const _=this.getApprovedCaipNetworkIds()||[],T=_.find(I=>{var x;return((x=Da.parseCaipNetworkId(I))==null?void 0:x.chainId)===u.toString()}),S=_.find(I=>{var x;return((x=Da.parseCaipNetworkId(I))==null?void 0:x.chainNamespace)===c});w=this.getCaipNetworks().find(I=>I.caipNetworkId===T),E=this.getCaipNetworks().find(I=>I.caipNetworkId===S||"deprecatedCaipNetworkId"in I&&I.deprecatedCaipNetworkId===S)}const v=w||E;(v==null?void 0:v.chainNamespace)===L.state.activeChain?fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&((b=L.state.activeCaipNetwork)==null?void 0:b.name)===de.UNSUPPORTED_NETWORK_NAME?L.showUnsupportedChainUI():this.setCaipNetwork(v):n||r&&this.setCaipNetworkOfNamespace(r,c),this.syncConnectedWalletInfo(c),_g.isLowerCaseMatch(s,Te.state.address)||this.syncAccountInfo(s,v==null?void 0:v.id,c),n?await this.syncBalance({address:s,chainId:v==null?void 0:v.id,chainNamespace:c}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:c})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),a=n||(s==null?void 0:s.split(":")[1]);if(!a)return;const c=`${r}:${a}:${e}`;this.setCaipAddress(c,r),await this.syncIdentity({address:e,chainId:a,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=Ce.getConnectorId(e),r=Ot.getProviderId(e);if(r===Lt.CONNECTOR_TYPE_ANNOUNCED||r===Lt.CONNECTOR_TYPE_INJECTED){if(n){const a=this.getConnectors().find(c=>c.id===n);if(a){const{info:c,name:l,imageUrl:u}=a,d=u||this.getConnectorImage(a);this.setConnectedWalletInfo({name:l,icon:d,...c},e)}}}else if(r===Lt.CONNECTOR_TYPE_WALLET_CONNECT){const a=Ot.getProvider(e);a!=null&&a.session&&this.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(s=a.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&n===de.CONNECTOR_ID.COINBASE){const a=this.getConnectors().find(c=>c.id===de.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(a)},e)}}async syncBalance(e){!i0.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),a=L.getCaipNetworkByNamespace(r,n);if(s){const c=await s.getBalance({address:e,chainId:n,caipNetwork:a,tokens:this.options.tokens});return this.setBalance(c.balance,c.symbol,r),c}}async initializeUniversalAdapter(){var r,s,a,c,l,u,d,p,g,b;const e=VJ.createLogger((w,...E)=>{w&&this.handleAlertError(w),console.error(...E)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(a=this.options)==null?void 0:a.metadata.name:"",description:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.description:"",url:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.url:"",icons:(p=this.options)!=null&&p.metadata?(g=this.options)==null?void 0:g.metadata.icons:[""]},logger:e};fe.setManualWCControl(!!((b=this.options)!=null&&b.manualWCControl)),this.universalProvider=this.options.universalProvider??await OJ.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ke.setUri(e)}),this.universalProvider.on("connect",ke.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ke.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(Dd.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&De.isCaipAddress(r[0])&&this.syncAccount(Da.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&De.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){jt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Tn.UniversalProviderErrors).find(([,{message:l}])=>e.message.includes(l)),[r,s]=n??[],{message:a,alertErrorKey:c}=s??{};if(r&&a&&!this.reportedAlertErrors[r]){const l=Tn.ALERT_ERRORS[c];l&&(or.open(l,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&ke.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return tn.open({...e,data:{swap:e.arguments}})}return tn.open(e)}async close(e=!1){await this.injectModalUi(),tn.close(e)}setLoading(e,n){tn.setLoading(e,n)}async disconnect(e){await ke.disconnect(e)}getSIWX(){return fe.state.siwx}getError(){return""}getChainId(){var e;return(e=L.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){or.open(Tn.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await L.switchActiveNetwork(n)}getWalletProvider(){return L.state.activeChain?Ot.state.providers[L.state.activeChain]:null}getWalletProviderType(){return Ot.getProviderId(L.state.activeChain)}subscribeProviders(e){return Ot.subscribeProviders(e)}getThemeMode(){return Sr.state.themeMode}getThemeVariables(){return Sr.state.themeVariables}setThemeMode(e){Sr.setThemeMode(e),iO(Sr.state.themeMode)}setTermsConditionsUrl(e){fe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){fe.setPrivacyPolicyUrl(e)}setThemeVariables(e){Sr.setThemeVariables(e),xne(Sr.state.themeVariables)}subscribeTheme(e){return Sr.subscribe(e)}getWalletInfo(){return Te.state.connectedWalletInfo}getAccount(e){var c;const n=Ce.getAuthConnector(e),r=L.getAccountData(e),s=L.state.activeChain,a=ye.getConnectedConnectorId(e);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:De.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&a===de.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:ye.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(c=r.preferredAccountTypes)==null?void 0:c[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?L.subscribeChainProp("accountState",r,n):L.subscribe(r),Ce.subscribe(r)}subscribeNetwork(e){return L.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return Te.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Te.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){L.subscribeKey("activeCaipNetwork",e)}getState(){return li.state}subscribeState(e){return li.subscribe(e)}showErrorMessage(e){Us.showError(e)}showSuccessMessage(e){Us.showSuccess(e)}getEvent(){return{...jt.state}}subscribeEvents(e){return jt.subscribe(e)}replace(e){ct.replace(e)}redirect(e){ct.push(e)}popTransactionStack(e){ct.popTransactionStack(e)}isOpen(){return tn.state.open}isTransactionStackEmpty(){return ct.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=ct.state.transactionStack[ct.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){fe.setFeatures(e)}updateOptions(e){const r={...fe.state||{},...e};fe.setOptions(r)}setConnectMethodsOrder(e){fe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){fe.setWalletFeaturesOrder(e)}setCollapseWallets(e){fe.setCollapseWallets(e)}setSocialsOrder(e){fe.setSocialsOrder(e)}getConnectMethodsOrder(){return H6.getConnectOrderMethod(fe.state.features,Ce.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||L.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&L.removeNetwork(e,n)}}let dS=!1;class Mne extends Une{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Gr.checkIfRequestExists(n)?Gr.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Ln.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Ln.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close(!0):this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const s=Gr.checkIfRequestIsSafe(r),a=Te.state.address,c=L.state.activeCaipNetwork;s||(this.isTransactionStackEmpty()?(this.close(!0),a&&(c!=null&&c.id)&&this.updateNativeBalance(a,c.id,c.chainNamespace)):(this.popTransactionStack(),a&&(c!=null&&c.id)&&this.updateNativeBalance(a,c.id,c.chainNamespace)))}),e.onNotConnected(()=>{const n=L.state.activeChain;Ce.getConnectorId(n)===de.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{var d,p;const r=L.state.activeChain,s=r===de.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,a=fe.state.defaultAccountTypes[r],c=(d=Te.state.preferredAccountTypes)==null?void 0:d[r],l=n.preferredAccountType||c||a;_g.isLowerCaseMatch(n.address,Te.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...Te.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(l,r);const u=(p=n.accounts)==null?void 0:p.map(g=>De.createAccount(r,g.address,g.type||c||a));this.setAllAccounts(u||[De.createAccount(r,n.address,n.preferredAccountType||l)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...Te.state.user||{},username:n},L.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,L.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,L.state.activeChain)})}async syncAuthConnector(e,n){var p,g,b,w;const r=de.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const s=e.getLoginEmailUsed();this.setLoading(s,n),s&&this.setStatus("connecting",n);const a=e.getEmail(),c=e.getUsername();this.setUser({...((p=Te.state)==null?void 0:p.user)||{},username:c,email:a},L.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:l}=await e.isConnected(),u=Sr.getSnapshot(),d=fe.getSnapshot();await Promise.all([e.syncDappData({metadata:d.metadata,sdkVersion:d.sdkVersion,projectId:d.projectId,sdkType:d.sdkType}),e.syncTheme({themeMode:u.themeMode,themeVariables:u.themeVariables,w3mThemeVariables:Yi(u.themeVariables,u.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&(l&&((g=this.connectionControllerClient)!=null&&g.connectExternal)?(await((w=this.connectionControllerClient)==null?void 0:w.connectExternal({id:de.CONNECTOR_ID.AUTH,info:{name:de.CONNECTOR_ID.AUTH},type:Lt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(b=L.state.activeCaipNetwork)==null?void 0:b.id,chain:n})),this.setStatus("connected",n)):Ce.getConnectorId(n)===de.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ye.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!De.isTelegram())return;const r=ye.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const a=new URL(window.location.href).searchParams.get("result_uri");if(!a)return;Te.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const c=Ce.getAuthConnector();r&&c&&(this.setLoading(!0,e),await ke.connectExternal({id:c.id,type:c.type,socialUri:a},c.chain),ye.setConnectedSocialProvider(r),ye.removeTelegramSocialProvider(),jt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var c,l,u,d,p,g,b,w,E,v,_,T,S;if(!de.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((l=(c=this.options)==null?void 0:c.features)==null?void 0:l.email)===void 0?cn.DEFAULT_FEATURES.email:(d=(u=this.options)==null?void 0:u.features)==null?void 0:d.email,s=(g=(p=this.options)==null?void 0:p.features)!=null&&g.socials?((E=(w=(b=this.options)==null?void 0:b.features)==null?void 0:w.socials)==null?void 0:E.length)>0:((_=(v=this.options)==null?void 0:v.features)==null?void 0:_.socials)??cn.DEFAULT_FEATURES.socials,a=r||s;!this.authProvider&&((T=this.options)!=null&&T.projectId)&&a&&(this.authProvider=hc.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(S=this.getCaipNetwork(e))==null?void 0:S.caipNetworkId,abortController:Tn.EmbeddedWalletAbortController,onTimeout:I=>{I==="iframe_load_failed"?or.open(Tn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):I==="iframe_request_timeout"?or.open(Tn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):I==="unverified_domain"&&or.open(Tn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),li.subscribeOpen(I=>{var x;!I&&this.isTransactionStackEmpty()&&((x=this.authProvider)==null||x.rejectRpcRequests())}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Me.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var a,c;if(!e)return;const n=L.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===L.state.activeChain&&s){const l=this.getAdapter(r),u=Ot.getProvider(r),d=Ot.getProviderId(r);await(l==null?void 0:l.switchNetwork({caipNetwork:e,provider:u,providerType:d})),this.setCaipNetwork(e)}else{const u=Ot.getProviderId(n)===Lt.CONNECTOR_TYPE_AUTH,d=Ot.getProviderId(r),p=d===Lt.CONNECTOR_TYPE_AUTH,g=de.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((u&&d===void 0||p)&&g)try{L.state.activeChain=e.chainNamespace,await((c=(a=this.connectionControllerClient)==null?void 0:a.connectExternal)==null?void 0:c.call(a,{id:de.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Lt.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const w=this.getAdapter(r);await(w==null?void 0:w.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:d}))}else d===Lt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var c;const s=`${r}:${n}`,a=(c=this.caipNetworks)==null?void 0:c.find(l=>l.caipNetworkId===s);if(r!==de.CHAIN.EVM||a!=null&&a.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:l,avatar:u}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(l,r),this.setProfileImage(u,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Ot.getProviderId(e);if(n===Lt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ye.getConnectedSocialProvider()??"email",a=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:a,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!dS&&De.isClient()){const e={...cn.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(ir(()=>import("./embedded-wallet-B6FY0bZm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e.email&&n.push(ir(()=>import("./email-Dau91iKB.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]))),e.socials&&n.push(ir(()=>import("./socials-zmTid4fk.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]))),e.swaps&&n.push(ir(()=>import("./swaps-D7MntJyb.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]))),e.send&&n.push(ir(()=>import("./send-CTzl70G2.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]))),e.receive&&n.push(ir(()=>import("./receive-CDrcJUeS.js"),__vite__mapDeps([28,1,29,3,19]))),e.onramp&&n.push(ir(()=>import("./onramp-ix9A6NUW.js"),__vite__mapDeps([30,1,31,20,10,3,5,32,15,4,16,33,11,9,18,6]))),e.history&&n.push(ir(()=>import("./transactions-BL-3IVcS.js"),__vite__mapDeps([34,1,35,31,20,10,11,3]))),e.pay&&n.push(ir(()=>import("./index-CAmk5v5d.js"),__vite__mapDeps([36,1,9,5,37,3,10,7,32,27,18])))),await Promise.all([...n,ir(()=>import("./index-Duiu80X9.js"),__vite__mapDeps([38,1,3,5,26,10,39,23,7,32,9,8,37,35,31,20,11,22,4,6,27,13,15,16,17,2,18,29,19,33])),ir(()=>import("./w3m-modal-BEXzeXV9.js"),__vite__mapDeps([40,1,7,3,10,8,5,23,39]))]),!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!fe.state.disableAppend&&!fe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}dS=!0}}}const kne="1.7.5";function Bne(t){let e=[],n,r;function s(l){return i0.parseEvmChainId(l)||1}function a(){return n||(n=hc.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:l=>{l==="iframe_load_failed"?or.open(Tn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?or.open(Tn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&or.open(Tn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Tn.EmbeddedWalletAbortController})),n}async function c(l={}){var v,_;const u=a();let d=l.chainId;if(l.isReconnecting){const T=i0.parseEvmChainId(u.getLastUsedChainId()||""),S=(v=t.chains)==null?void 0:v[0].id;if(d=T||S,!d)throw new Error("ChainId not found in provider")}const p=(_=Te.state.preferredAccountTypes)==null?void 0:_.eip155,{address:g,chainId:b,accounts:w}=await u.connect({chainId:d,preferredAccountType:p,socialUri:l.socialUri});e=(w==null?void 0:w.map(T=>T.address))||[g];const E=s(b);return{accounts:e,account:g,chainId:E,chain:{id:E,unsuported:!1}}}return l=>({id:de.CONNECTOR_ID.AUTH,name:de.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:de.CHAIN.EVM,async connect(u={}){if(r)return r;r||(r=new Promise(p=>{p(c(u))}));const d=await r;return r=void 0,d},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(l.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=hc.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,abortController:Tn.EmbeddedWalletAbortController,onTimeout:u=>{u==="iframe_load_failed"?or.open(Tn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):u==="iframe_request_timeout"?or.open(Tn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):u==="unverified_domain"&&or.open(Tn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const u=await this.getProvider(),{chainId:d}=await u.getChainId();return s(d)},async isAuthorized(){const u=await this.getProvider();return Promise.resolve(u.getLoginEmailUsed())},async switchChain({chainId:u}){var d,p;try{const g=l.chains.find(v=>v.id===u);if(!g)throw new hi(new Error("chain not found on connector."));const b=await this.getProvider(),w=(d=Te.state.preferredAccountTypes)==null?void 0:d.eip155,E=await b.connect({chainId:u,preferredAccountType:w});return e=((p=E==null?void 0:E.accounts)==null?void 0:p.map(v=>v.address))||[E.address],l.emitter.emit("change",{chainId:Number(u),accounts:e}),g}catch(g){throw g instanceof Error?new hi(g):g}},onAccountsChanged(u){u.length===0?this.onDisconnect():l.emitter.emit("change",{accounts:u.map(Qo)})},onChainChanged(u){const d=Number(u);l.emitter.emit("change",{chainId:d})},async onDisconnect(u){await(await this.getProvider()).disconnect()}})}Kw.type="walletConnect";function Kw(t,e){const n=t.isNewChainsStale??!0;let r,s,a,c,l,u,d;return p=>({id:"walletConnect",name:"WalletConnect",type:Kw.type,async setup(){const g=await this.getProvider().catch(()=>null);g&&(c||(c=this.onConnect.bind(this),g.on("connect",c)),u||(u=this.onSessionDelete.bind(this),g.on("session_delete",u)))},async connect({...g}={}){var b,w,E;try{const v=L.getCaipNetworks(),_=await this.getProvider();if(!_)throw new za;l||(l=this.onDisplayUri,_.on("display_uri",l));const T=await this.isChainsStale();_.session&&T&&await _.disconnect();const S=fe.state.universalProviderConfigOverride;if(!_.session||T){const M=Dd.createNamespaces(v,S);await _.connect({optionalNamespaces:M,..."pairingTopic"in g?{pairingTopic:g.pairingTopic}:{}}),this.setRequestedChainsIds(v.map(z=>Number(z.id)))}const I=await this.getAccounts(),x=await this.getChainId(),N=(E=(w=(b=_.session)==null?void 0:b.namespaces)==null?void 0:w.eip155)==null?void 0:E.chains,A=N==null?void 0:N.some(M=>Number(M.split(":")[1])===x);let R=1;A?R=x:N!=null&&N[0]&&(R=Number(N[0].split(":")[1])),l&&(_.removeListener("display_uri",l),l=void 0),c&&(_.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),_.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),_.on("chainChanged",a)),d||(d=this.onDisconnect.bind(this),_.on("disconnect",d)),u||(u=this.onSessionDelete.bind(this),_.on("session_delete",u));const k=S==null?void 0:S.defaultChain;return _.setDefaultChain(k??`eip155:${R}`),{accounts:I,chainId:R}}catch(v){throw/(user rejected|connection request reset)/i.test(v==null?void 0:v.message)?new pn(v):v}},async disconnect(){const g=await this.getProvider();try{await(g==null?void 0:g.disconnect())}catch(b){if(!/No matching key/i.test(b.message))throw b}finally{a&&(g==null||g.removeListener("chainChanged",a),a=void 0),d&&(g==null||g.removeListener("disconnect",d),d=void 0),c||(c=this.onConnect.bind(this),g==null||g.on("connect",c)),s&&(g==null||g.removeListener("accountsChanged",s),s=void 0),u&&(g==null||g.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var E,v,_;const g=await this.getProvider();if(!((E=g==null?void 0:g.session)!=null&&E.namespaces))return[];const b=(_=(v=g==null?void 0:g.session)==null?void 0:v.namespaces[de.CHAIN.EVM])==null?void 0:_.accounts;return(b==null?void 0:b.map(T=>T.split(":")[2]))??[]},async getProvider({chainId:g}={}){var E,v;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const b=ye.getActiveNamespace(),w=(E=e.getCaipNetwork())==null?void 0:E.id;if(g&&w!==g&&b){const _=ye.getStoredActiveCaipNetworkId(),T=e.getCaipNetworks(b),S=T==null?void 0:T.find(I=>I.id===_);S&&S.chainNamespace===de.CHAIN.EVM&&await((v=this.switchChain)==null?void 0:v.call(this,{chainId:Number(S.id)}))}return r},async getChainId(){var v,_,T,S;const g=(v=e.getCaipNetwork(de.CHAIN.EVM))==null?void 0:v.id;if(g)return g;const w=(S=(T=(_=(await this.getProvider()).session)==null?void 0:_.namespaces[de.CHAIN.EVM])==null?void 0:T.chains)==null?void 0:S[0],E=L.getCaipNetworks().find(I=>I.id===w);return E==null?void 0:E.id},async isAuthorized(){try{const[g,b]=await Promise.all([this.getAccounts(),this.getProvider()]);return g.length?await this.isChainsStale()&&b.session?(await b.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:g,chainId:b}){var v,_,T,S;const w=await this.getProvider();if(!w)throw new za;const E=L.getCaipNetworks().find(I=>I.id===b);if(!E)throw new hi(new t0);try{await w.request({method:"wallet_switchEthereumChain",params:[{chainId:nt(b)}]}),E!=null&&E.caipNetworkId&&w.setDefaultChain(E==null?void 0:E.caipNetworkId),p.emitter.emit("change",{chainId:Number(b)});const I=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...I,b]),{...E,id:E.id}}catch(I){const x=I;if(/(?:user rejected)/iu.test(x.message))throw new pn(x);try{let N;g!=null&&g.blockExplorerUrls?N=g.blockExplorerUrls:N=(v=E.blockExplorers)!=null&&v.default.url?[(_=E.blockExplorers)==null?void 0:_.default.url]:[];const A=((S=(T=E.rpcUrls)==null?void 0:T.chainDefault)==null?void 0:S.http)||[],R={blockExplorerUrls:N,chainId:nt(b),chainName:E.name,iconUrls:g==null?void 0:g.iconUrls,nativeCurrency:E.nativeCurrency,rpcUrls:A};await w.request({method:"wallet_addEthereumChain",params:[R]});const k=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...k,b]),{...E,id:E.id}}catch(N){throw new pn(N)}}},onAccountsChanged(g){g.length===0?this.onDisconnect():p.emitter.emit("change",{accounts:g.map(b=>Qo(b))})},onChainChanged(g){const b=Number(g);p.emitter.emit("change",{chainId:b})},onConnect(g){this.setRequestedChainsIds(L.getCaipNetworks().map(b=>Number(b.id)))},async onDisconnect(g){this.setRequestedChainsIds([]),p.emitter.emit("disconnect");const b=await this.getProvider();s&&(b.removeListener("accountsChanged",s),s=void 0),a&&(b.removeListener("chainChanged",a),a=void 0),d&&(b.removeListener("disconnect",d),d=void 0),u&&(b.removeListener("session_delete",u),u=void 0),c||(c=this.onConnect.bind(this),b.on("connect",c))},onDisplayUri(g){p.emitter.emit("message",{type:"display_uri",data:g})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var w,E,v;if(!((w=r==null?void 0:r.session)!=null&&w.namespaces))return[];const g=(v=(E=r==null?void 0:r.session)==null?void 0:E.namespaces[de.CHAIN.EVM])==null?void 0:v.accounts;return(g==null?void 0:g.map(_=>Number.parseInt(_.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var b;const g=await((b=p.storage)==null?void 0:b.getItem(this.requestedChainsStorageKey))??[];return[...new Set(g)]},async isChainsStale(){if(!n)return!1;const g=p.chains.map(E=>E.id),b=this.getNamespaceChainsIds();if(b.length&&!b.some(E=>g.includes(E)))return!1;const w=await this.getRequestedChainsIds();return!g.every(E=>w.includes(Number(E)))},async setRequestedChainsIds(g){var b;await((b=p.storage)==null?void 0:b.setItem(this.requestedChainsStorageKey,g))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const hd=zt({pendingTransactions:0}),hS={state:hd,subscribeKey(t,e){return Qn(hd,t,e)},increase(t){hd[t]+=1},decrease(t){hd[t]-=1},reset(t){hd[t]=0}};function Lne(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const jne={enable:!1,pollingInterval:3e4};class zne extends aO{constructor(e){const n=ci.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=de.CHAIN.EVM,this.adapterType=de.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...jne,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n})}construct(e){this.setupWatchers()}async getAccounts(e){var a;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===de.CONNECTOR_ID.AUTH){const c=await n.getProvider();if(!(c!=null&&c.user))return{accounts:[]};const{address:l,accounts:u}=c.user;return Promise.resolve({accounts:(u||[{address:l,type:"eoa"}]).map(d=>De.createAccount("eip155",d.address,d.type))})}const{addresses:r,address:s}=n0(this.wagmiConfig);return Promise.resolve({accounts:(a=r||[s])==null?void 0:a.map(c=>De.createAccount("eip155",c||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===de.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var l,u;const a=(l=e.transports)==null?void 0:l[s.id],c=ci.getCaipNetworkId(s);a?n[s.id]=ci.extendWagmiTransports(s,e.projectId,a):n[s.id]=ci.getViemTransport(s,e.projectId,(u=e.customRpcUrls)==null?void 0:u[c])}),this.wagmiConfig=pU({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=K$(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),hS.increase("pendingTransactions")}});const e=hS.subscribeKey("pendingTransactions",n=>{var r;n>=de.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){u9(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var r,s;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:a}=await ir(async()=>{const{coinbaseWallet:c}=await import("./index-CB_za-e8.js");return{coinbaseWallet:c}},[]);a&&n.push(a({version:"4",appName:((r=e.metadata)==null?void 0:r.name)??"Unknown",appLogoUrl:((s=e.metadata)==null?void 0:s.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a)}n.forEach(a=>{const c=this.wagmiConfig._internal.connectors.setup(a);this.wagmiConfig._internal.connectors.setState(l=>[...l,c])})}addWagmiConnectors(e,n){var c,l,u,d,p,g;const r=[];e.enableWalletConnect!==!1&&r.push(Kw(e,n)),e.enableInjected!==!1&&r.push(sg({shimDisconnect:!0}));const s=((c=e.features)==null?void 0:c.email)===void 0?cn.DEFAULT_FEATURES.email:(l=e.features)==null?void 0:l.email,a=(u=e.features)!=null&&u.socials?((p=(d=e.features)==null?void 0:d.socials)==null?void 0:p.length)>0:((g=e.features)==null?void 0:g.socials)??cn.DEFAULT_FEATURES.socials;(s||a)&&r.push(Bne({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(b=>{const w=this.wagmiConfig._internal.connectors.setup(b);this.wagmiConfig._internal.connectors.setState(E=>[...E,w])})}async signMessage(e){try{return{signature:await H$(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=n0(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await F$(this.wagmiConfig,s);const a=await q$(this.wagmiConfig,s);return await d9(this.wagmiConfig,{hash:a,timeout:25e3}),{hash:a}}async writeContract(e){var c;const{caipNetwork:n,...r}=e,s=Number(i0.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await h9(this.wagmiConfig,{chain:(c=this.wagmiChains)==null?void 0:c[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await k$(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return b$(e.value,e.decimals)}formatUnits(e){return Ml(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===de.CONNECTOR_ID.AUTH||e.id===de.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:io.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:io.ConnectorNamesMap[e.id]??e.name,imageId:io.ConnectorImageIds[e.id],type:io.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===de.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){W$(this.wagmiConfig,{onChange:r=>r.forEach(s=>this.addWagmiConnector(s,e))}),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){var l;const{id:n}=e,s=Bo(this.wagmiConfig).find(u=>u.connector.id===n),a=this.getWagmiConnector(n),c=await(a==null?void 0:a.getProvider());return{chainId:Number(s==null?void 0:s.chainId),address:s==null?void 0:s.accounts[0],provider:c,type:(l=s==null?void 0:s.connector.type)==null?void 0:l.toUpperCase(),id:s==null?void 0:s.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await I_(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await D_(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var p,g,b,w,E;const{id:n,provider:r,type:s,info:a,chainId:c,socialUri:l}=e,u=this.getWagmiConnector(n);if(!u)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&a&&u.id===de.CONNECTOR_ID.EIP6963&&((p=u.setEip6963Wallet)==null||p.call(u,{provider:r,info:a})),u.uid===((b=(g=this.wagmiConfig)==null?void 0:g.state)==null?void 0:b.current)){const v=(E=(w=this.wagmiConfig.state)==null?void 0:w.connections)==null?void 0:E.get(u.uid);if(v)return{address:v==null?void 0:v.accounts[0],chainId:v==null?void 0:v.chainId,provider:r,type:s,id:n}}const d=await I_(this.wagmiConfig,{connector:u,chainId:c?Number(c):void 0,socialUri:l});return{address:d.accounts[0],chainId:d.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await Wy(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,a=this.balancePromises[s];if(a)return a;const c=ye.getNativeBalanceCacheForCaipAddress(s);return c?{balance:c.balance,symbol:c.symbol}:(this.balancePromises[s]=new Promise(async l=>{var u,d;try{const p=Number(e.chainId),g=await z$(this.wagmiConfig,{address:e.address,chainId:p,token:(d=(u=e.tokens)==null?void 0:u[r.caipNetworkId])==null?void 0:d.address});ye.updateNativeBalanceCache({caipAddress:s,balance:g.formatted,symbol:g.symbol,timestamp:Date.now()}),l({balance:g.formatted,symbol:g.symbol})}catch(p){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",p),l({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Bo(this.wagmiConfig);await Promise.all(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await M$(this.wagmiConfig,{connector:r})}))}async switchNetwork(e){await D_(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var l,u;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Bo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const c=(u=(l=a.session)==null?void 0:l.sessionProperties)==null?void 0:u.capabilities;if(c){const p=Lne(c)[e];if(p)return p}return await a.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Bo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return a.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Bo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return a.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Bo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return a.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=Bo(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");r&&!n.find(s=>s.connector.id===r.id)&&Wy(this.wagmiConfig,{connectors:[r]})}),this.addConnector(new Ww({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}let Fr;function Fne(t){t&&(Fr=t)}function qne(){if(!Fr)throw new Error('Please call "createAppKit" before using "useAppKitTheme" hook');function t(c){c&&(Fr==null||Fr.setThemeMode(c))}function e(c){c&&(Fr==null||Fr.setThemeVariables(c))}const[n,r]=Qe.useState(Fr.getThemeMode()),[s,a]=Qe.useState(Fr.getThemeVariables());return Qe.useEffect(()=>{const c=Fr==null?void 0:Fr.subscribeTheme(l=>{r(l.themeMode),a(l.themeVariables)});return()=>{c==null||c()}},[]),{themeMode:n,themeVariables:s,setThemeMode:t,setThemeVariables:e}}let Zp;function Hne(t){return Zp||(Zp=new Mne({...t,sdkVersion:De.generateSdkVersion(t.adapters??[],"react",kne)}),Fne(Zp)),Zp}const oO="37b421df701b1b19ab1b70822efc6808",pS="DEPLOYED_CONTRACT_ADDRESSES",cO=[LU,jU],fO=new zne({networks:cO,projectId:oO});Hne({adapters:[fO],networks:cO,metadata:{name:"lrgg",description:"LRGG Management",url:"https://reown.com/appkit",icons:["https://avatars.githubusercontent.com/u/179229932?s=200&v=4"]},projectId:oO,themeMode:"light",features:{connectMethodsOrder:["social","email","wallet"],analytics:!0},featuredWalletIds:["8a0ee50d1f22f6651afcae7eb4253e52a3310b90af5daef78a8c4929a9bb99d4","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709","c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96"]});const lO=[{inputs:[{internalType:"address[]",name:"_tokens",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccessControlBadConfirmation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"neededRole",type:"bytes32"}],name:"AccessControlUnauthorizedAccount",type:"error"},{inputs:[],name:"ApprovalCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"ApprovalQueryForNonexistentToken",type:"error"},{inputs:[],name:"BalanceQueryForZeroAddress",type:"error"},{inputs:[{internalType:"uint256",name:"numerator",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"ERC2981InvalidDefaultRoyalty",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC2981InvalidDefaultRoyaltyReceiver",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"numerator",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"ERC2981InvalidTokenRoyalty",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"ERC2981InvalidTokenRoyaltyReceiver",type:"error"},{inputs:[],name:"MintERC2309QuantityExceedsLimit",type:"error"},{inputs:[],name:"MintToZeroAddress",type:"error"},{inputs:[],name:"MintZeroQuantity",type:"error"},{inputs:[],name:"NotCompatibleWithSpotMints",type:"error"},{inputs:[],name:"OwnerQueryForNonexistentToken",type:"error"},{inputs:[],name:"OwnershipNotInitializedForExtraData",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{inputs:[],name:"SequentialMintExceedsLimit",type:"error"},{inputs:[],name:"SequentialUpToTooSmall",type:"error"},{inputs:[],name:"SpotMintTokenIdTooSmall",type:"error"},{inputs:[],name:"TokenAlreadyExists",type:"error"},{inputs:[],name:"TransferCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"TransferFromIncorrectOwner",type:"error"},{inputs:[],name:"TransferToNonERC721ReceiverImplementer",type:"error"},{inputs:[],name:"TransferToZeroAddress",type:"error"},{inputs:[],name:"URIQueryForNonexistentToken",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"BaseTokenURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toTokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"ConsecutiveTransfer",type:"event"},{anonymous:!1,inputs:[],name:"ContractLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ERC20Withdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"walletAddress",type:"address"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721Recovered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newPrice",type:"uint256"}],name:"MintPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"walletAddress",type:"address"},{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantity",type:"uint256"}],name:"MintWithToken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint96",name:"fee",type:"uint96"}],name:"RoyaltyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"}],name:"TokenAllowed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"quota",type:"uint256"}],name:"WhitelistSet",type:"event"},{inputs:[],name:"ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addAllowedToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"allowedTokens",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getMintedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"}],name:"getWhitelistQuota",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isAllowedToken",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isLocked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"maxMintPerTxn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bool",name:"safe",type:"bool"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"mintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"mintProgress",outputs:[{internalType:"uint256",name:"minted",type:"uint256"},{internalType:"uint256",name:"quota",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"publicMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"recoverERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"callerConfirmation",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"setBaseTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"setMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint96",name:"feeNumerator",type:"uint96"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"wallets",type:"address[]"},{internalType:"uint256[]",name:"quotas",type:"uint256[]"}],name:"setWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"wallet",type:"address"},{internalType:"uint256",name:"quota",type:"uint256"}],name:"setWhitelistSingle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newmaxMintPerTxn",type:"uint256"}],name:"setmaxMintAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenDecimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"result",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"}],Vne="0x6080604052620186a0600d5561012c600e5560405180606001604052806036815260200161700960369139601490816100389190610a7b565b50348015610044575f80fd5b5060405161703f38038061703f83398181016040528101906100669190610cd8565b6040518060400160405280601481526020017f4c6f7665526f73652047656e6573697320476f640000000000000000000000008152506040518060400160405280600481526020017f4c5247470000000000000000000000000000000000000000000000000000000081525081600290816100e19190610a7b565b5080600390816100f19190610a7b565b5061010061047e60201b60201c565b5f8190555061011361047e60201b60201c565b61012161048760201b60201c565b101561013e5761013d63fed8210f60e01b6104ae60201b60201c565b5b50506001600c8190555061015a336103e86104b660201b60201c565b5f5b8151811015610402575f73ffffffffffffffffffffffffffffffffffffffff1682828151811061018f5761018e610d1f565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff16036101ed576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101e490610dcc565b60405180910390fd5b61021682828151811061020357610202610d1f565b5b602002602001015161065760201b60201c565b610255576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024c90610e5a565b60405180910390fd5b6001600f5f84848151811061026d5761026c610d1f565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055508181815181106102d7576102d6610d1f565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff1663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa92505050801561034657506040513d601f19601f820116820180604052508101906103439190610eae565b60015b610385576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161037c90610f49565b60405180910390fd5b8060105f85858151811061039c5761039b610d1f565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff021916908360ff16021790555050808060010191505061015c565b506104155f801b336106d760201b60201c565b506104467fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c21775336106d760201b60201c565b506104777f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a6336106d760201b60201c565b5050611061565b5f6103e9905090565b5f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff905090565b805f5260045ffd5b5f6104c56107cd60201b60201c565b6bffffffffffffffffffffffff16905080826bffffffffffffffffffffffff16111561052a5781816040517f6f483d09000000000000000000000000000000000000000000000000000000008152600401610521929190610fbd565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361059a575f6040517fb6d9900a0000000000000000000000000000000000000000000000000000000081526004016105919190610ff3565b60405180910390fd5b60405180604001604052808473ffffffffffffffffffffffffffffffffffffffff168152602001836bffffffffffffffffffffffff16815250600a5f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151815f0160146101000a8154816bffffffffffffffffffffffff02191690836bffffffffffffffffffffffff160217905550905050505050565b5f8173ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa9250505080156106c057506040513d601f19601f820116820180604052508101906106bd9190611036565b60015b6106cc575f90506106d2565b60019150505b919050565b5f6106e883836107d660201b60201c565b6107c357600160095f8581526020019081526020015f205f015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff02191690831515021790555061076061083a60201b60201c565b73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a4600190506107c7565b5f90505b92915050565b5f612710905090565b5f60095f8481526020019081526020015f205f015f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16905092915050565b5f33905090565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806108bc57607f821691505b6020821081036108cf576108ce610878565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026109317fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826108f6565b61093b86836108f6565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61097f61097a61097584610953565b61095c565b610953565b9050919050565b5f819050919050565b61099883610965565b6109ac6109a482610986565b848454610902565b825550505050565b5f90565b6109c06109b4565b6109cb81848461098f565b505050565b5b818110156109ee576109e35f826109b8565b6001810190506109d1565b5050565b601f821115610a3357610a04816108d5565b610a0d846108e7565b81016020851015610a1c578190505b610a30610a28856108e7565b8301826109d0565b50505b505050565b5f82821c905092915050565b5f610a535f1984600802610a38565b1980831691505092915050565b5f610a6b8383610a44565b9150826002028217905092915050565b610a8482610841565b67ffffffffffffffff811115610a9d57610a9c61084b565b5b610aa782546108a5565b610ab28282856109f2565b5f60209050601f831160018114610ae3575f8415610ad1578287015190505b610adb8582610a60565b865550610b42565b601f198416610af1866108d5565b5f5b82811015610b1857848901518255600182019150602085019450602081019050610af3565b86831015610b355784890151610b31601f891682610a44565b8355505b6001600288020188555050505b505050505050565b5f604051905090565b5f80fd5b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b610b7882610b5f565b810181811067ffffffffffffffff82111715610b9757610b9661084b565b5b80604052505050565b5f610ba9610b4a565b9050610bb58282610b6f565b919050565b5f67ffffffffffffffff821115610bd457610bd361084b565b5b602082029050602081019050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610c1282610be9565b9050919050565b610c2281610c08565b8114610c2c575f80fd5b50565b5f81519050610c3d81610c19565b92915050565b5f610c55610c5084610bba565b610ba0565b90508083825260208201905060208402830185811115610c7857610c77610be5565b5b835b81811015610ca15780610c8d8882610c2f565b845260208401935050602081019050610c7a565b5050509392505050565b5f82601f830112610cbf57610cbe610b5b565b5b8151610ccf848260208601610c43565b91505092915050565b5f60208284031215610ced57610cec610b53565b5b5f82015167ffffffffffffffff811115610d0a57610d09610b57565b5b610d1684828501610cab565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f82825260208201905092915050565b7f47656e65736973476f643a20496e76616c696420746f6b656e206164647265735f8201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b5f610db6602183610d4c565b9150610dc182610d5c565b604082019050919050565b5f6020820190508181035f830152610de381610daa565b9050919050565b7f47656e65736973476f643a20496e76616c696420657263323020746f6b656e205f8201527f6164647265737300000000000000000000000000000000000000000000000000602082015250565b5f610e44602783610d4c565b9150610e4f82610dea565b604082019050919050565b5f6020820190508181035f830152610e7181610e38565b9050919050565b5f60ff82169050919050565b610e8d81610e78565b8114610e97575f80fd5b50565b5f81519050610ea881610e84565b92915050565b5f60208284031215610ec357610ec2610b53565b5b5f610ed084828501610e9a565b91505092915050565b7f47656e65736973476f643a20546f6b656e20646f6573206e6f7420737570706f5f8201527f727420646563696d616c73282900000000000000000000000000000000000000602082015250565b5f610f33602d83610d4c565b9150610f3e82610ed9565b604082019050919050565b5f6020820190508181035f830152610f6081610f27565b9050919050565b5f6bffffffffffffffffffffffff82169050919050565b5f610f98610f93610f8e84610f67565b61095c565b610953565b9050919050565b610fa881610f7e565b82525050565b610fb781610953565b82525050565b5f604082019050610fd05f830185610f9f565b610fdd6020830184610fae565b9392505050565b610fed81610c08565b82525050565b5f6020820190506110065f830184610fe4565b92915050565b61101581610953565b811461101f575f80fd5b50565b5f815190506110308161100c565b92915050565b5f6020828403121561104b5761104a610b53565b5b5f61105884828501611022565b91505092915050565b615f9b8061106e5f395ff3fe6080604052600436106102c8575f3560e01c8063819d4cc611610174578063c87b56dd116100db578063d547741f11610094578063e744092e1161006e578063e744092e14610ad6578063e985e9c514610b12578063f013e0e114610b4e578063f4a0a52814610b76576102c8565b8063d547741f14610a5c578063d547cfb714610a84578063e1621bf714610aae576102c8565b8063c87b56dd14610940578063caa8078f1461097c578063cbe230c3146109a6578063ce6df2b9146109e2578063cfbd488514610a0a578063d539139314610a32576102c8565b8063a217fddf1161012d578063a217fddf14610856578063a22cb46514610880578063a2309ff8146108a8578063a4e2d634146108d2578063aafdefd7146108fc578063b88d4fde14610924576102c8565b8063819d4cc6146107285780638ee573ac146107505780638f2fc60b1461078c57806391d14854146107b457806395d89b41146107f057806397d6696b1461081a576102c8565b806330176e131161023357806351f9446b116101ec57806370a08231116101c657806370a0823114610684578063753868e3146106c057806375b238fc146106d65780637f00c7a614610700576102c8565b806351f9446b146105e25780636352211e1461061e5780636817c76c1461065a576102c8565b806330176e13146104fe57806335bb3e161461052657806336568abe1461054e5780634178617f1461057657806342842e0e1461059e57806344004cc1146105ba576102c8565b806323b872dd1161028557806323b872dd146103f1578063248a9ca31461040d578063261707fa146104495780632a55205a146104715780632d345670146104ae5780632f2ff15d146104d6576102c8565b806301ffc9a7146102cc57806306fdde0314610308578063081812fc14610332578063095ea7b31461036e57806314fc095e1461038a57806318160ddd146103c7575b5f80fd5b3480156102d7575f80fd5b506102f260048036038101906102ed9190614052565b610b9e565b6040516102ff9190614097565b60405180910390f35b348015610313575f80fd5b5061031c610baf565b6040516103299190614120565b60405180910390f35b34801561033d575f80fd5b5061035860048036038101906103539190614173565b610c3f565b60405161036591906141dd565b60405180910390f35b61038860048036038101906103839190614220565b610c98565b005b348015610395575f80fd5b506103b060048036038101906103ab919061425e565b610ca8565b6040516103be929190614298565b60405180910390f35b3480156103d2575f80fd5b506103db610d2f565b6040516103e891906142bf565b60405180910390f35b61040b600480360381019061040691906142d8565b610d7a565b005b348015610418575f80fd5b50610433600480360381019061042e919061435b565b611025565b6040516104409190614395565b60405180910390f35b348015610454575f80fd5b5061046f600480360381019061046a919061425e565b611042565b005b34801561047c575f80fd5b50610497600480360381019061049291906143ae565b61107d565b6040516104a59291906143ec565b60405180910390f35b3480156104b9575f80fd5b506104d460048036038101906104cf919061425e565b61119f565b005b3480156104e1575f80fd5b506104fc60048036038101906104f79190614413565b6111da565b005b348015610509575f80fd5b50610524600480360381019061051f919061457d565b6111fc565b005b348015610531575f80fd5b5061054c6004803603810190610547919061425e565b6112c0565b005b348015610559575f80fd5b50610574600480360381019061056f9190614413565b6112fb565b005b348015610581575f80fd5b5061059c6004803603810190610597919061425e565b611376565b005b6105b860048036038101906105b391906142d8565b6115ef565b005b3480156105c5575f80fd5b506105e060048036038101906105db91906142d8565b61160e565b005b3480156105ed575f80fd5b506106086004803603810190610603919061425e565b6118bb565b60405161061591906142bf565b60405180910390f35b348015610629575f80fd5b50610644600480360381019061063f9190614173565b611901565b60405161065191906141dd565b60405180910390f35b348015610665575f80fd5b5061066e611912565b60405161067b91906142bf565b60405180910390f35b34801561068f575f80fd5b506106aa60048036038101906106a5919061425e565b611918565b6040516106b791906142bf565b60405180910390f35b3480156106cb575f80fd5b506106d46119ac565b005b3480156106e1575f80fd5b506106ea611a6e565b6040516106f79190614395565b60405180910390f35b34801561070b575f80fd5b5061072660048036038101906107219190614173565b611a92565b005b348015610733575f80fd5b5061074e60048036038101906107499190614220565b611ac7565b005b34801561075b575f80fd5b506107766004803603810190610771919061425e565b611c43565b60405161078391906145df565b60405180910390f35b348015610797575f80fd5b506107b260048036038101906107ad9190614639565b611c60565b005b3480156107bf575f80fd5b506107da60048036038101906107d59190614413565b611e0a565b6040516107e79190614097565b60405180910390f35b3480156107fb575f80fd5b50610804611e6e565b6040516108119190614120565b60405180910390f35b348015610825575f80fd5b50610840600480360381019061083b919061425e565b611efe565b60405161084d91906142bf565b60405180910390f35b348015610861575f80fd5b5061086a611f44565b6040516108779190614395565b60405180910390f35b34801561088b575f80fd5b506108a660048036038101906108a191906146a1565b611f4a565b005b3480156108b3575f80fd5b506108bc612050565b6040516108c991906142bf565b60405180910390f35b3480156108dd575f80fd5b506108e661205e565b6040516108f39190614097565b60405180910390f35b348015610907575f80fd5b50610922600480360381019061091d91906146df565b612070565b005b61093e600480360381019061093991906147cd565b612299565b005b34801561094b575f80fd5b5061096660048036038101906109619190614173565b6122ea565b6040516109739190614120565b60405180910390f35b348015610987575f80fd5b5061099061240f565b60405161099d91906142bf565b60405180910390f35b3480156109b1575f80fd5b506109cc60048036038101906109c7919061425e565b612415565b6040516109d99190614097565b60405180910390f35b3480156109ed575f80fd5b50610a086004803603810190610a039190614220565b612467565b005b348015610a15575f80fd5b50610a306004803603810190610a2b919061425e565b612912565b005b348015610a3d575f80fd5b50610a4661294d565b604051610a539190614395565b60405180910390f35b348015610a67575f80fd5b50610a826004803603810190610a7d9190614413565b612971565b005b348015610a8f575f80fd5b50610a98612993565b604051610aa59190614120565b60405180910390f35b348015610ab9575f80fd5b50610ad46004803603810190610acf9190614220565b612a1f565b005b348015610ae1575f80fd5b50610afc6004803603810190610af7919061425e565b612b2d565b604051610b099190614097565b60405180910390f35b348015610b1d575f80fd5b50610b386004803603810190610b33919061484d565b612b4a565b604051610b459190614097565b60405180910390f35b348015610b59575f80fd5b50610b746004803603810190610b6f919061493d565b612bd8565b005b348015610b81575f80fd5b50610b9c6004803603810190610b979190614173565b612dcb565b005b5f610ba882612ec8565b9050919050565b606060028054610bbe906149e8565b80601f0160208091040260200160405190810160405280929190818152602001828054610bea906149e8565b8015610c355780601f10610c0c57610100808354040283529160200191610c35565b820191905f5260205f20905b815481529060010190602001808311610c1857829003601f168201915b5050505050905090565b5f610c4982612f41565b610c5e57610c5d63cf4700e460e01b612fe4565b5b60065f8381526020019081526020015f205f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b610ca482826001612fec565b5050565b5f8060125f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205460115f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205491509150915091565b5f610d38613116565b6001545f54030390507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff610d6a61311f565b14610d7757600854810190505b90565b5f610d8482613146565b905073ffffffffffffffffffffffffffffffffffffffff8473ffffffffffffffffffffffffffffffffffffffff161693508373ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610df957610df863a114810060e01b612fe4565b5b5f80610e0484613255565b91509150610e1a8187610e15613278565b61327f565b610e4557610e2f86610e2a613278565b612b4a565b610e4457610e436359c896be60e01b612fe4565b5b5b610e5286868660016132c2565b8015610e5c575f82555b60055f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8154600190039190508190555060055f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f815460010191905081905550610f2485610f008888876132c8565b7c0200000000000000000000000000000000000000000000000000000000176132ef565b60045f8681526020019081526020015f20819055505f7c0200000000000000000000000000000000000000000000000000000000841603610fa0575f6001850190505f60045f8381526020019081526020015f205403610f9e575f548114610f9d578360045f8381526020019081526020015f20819055505b5b505b5f73ffffffffffffffffffffffffffffffffffffffff8673ffffffffffffffffffffffffffffffffffffffff161690508481887fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef5f80a45f810361100f5761100e63ea553b3460e01b612fe4565b5b61101c8787876001613319565b50505050505050565b5f60095f8381526020019081526020015f20600101549050919050565b5f801b61104e8161331f565b6110787f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a683613333565b505050565b5f805f600b5f8681526020019081526020015f2090505f815f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505f825f0160149054906101000a90046bffffffffffffffffffffffff1690505f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361115157600a5f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169150600a5f0160149054906101000a90046bffffffffffffffffffffffff1690505b5f61115a61341d565b6bffffffffffffffffffffffff16826bffffffffffffffffffffffff16886111829190614a45565b61118c9190614ab3565b9050828195509550505050509250929050565b5f801b6111ab8161331f565b6111d57fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c2177583613426565b505050565b6111e382611025565b6111ec8161331f565b6111f68383613333565b50505050565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c217756112268161331f565b60135f9054906101000a900460ff1615611275576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161126c90614b2d565b60405180910390fd5b81601490816112849190614ce8565b507fe6e4cd5c2dc7d2c20519b41832cd550fd3ea1186bf299d108179bf71fb8e00e5826040516112b49190614120565b60405180910390a15050565b5f801b6112cc8161331f565b6112f67fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c2177583613333565b505050565b611303613510565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614611367576040517f6697b23200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6113718282613426565b505050565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c217756113a08161331f565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361140e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161140590614e27565b60405180910390fd5b61141782613517565b611456576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161144d90614eb5565b60405180910390fd5b6001600f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff1663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa92505050801561151357506040513d601f19601f820116820180604052508101906115109190614efd565b60015b611552576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161154990614f98565b60405180910390fd5b8060105f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff021916908360ff160217905550508173ffffffffffffffffffffffffffffffffffffffff167fbeceb48aeaa805aeae57be163cca6249077a18734e408a85aa74e875c437380960405160405180910390a25050565b61160983838360405180602001604052805f815250612299565b505050565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c217756116388161331f565b611640613597565b5f73ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16036116ae576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116a590615000565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361171c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161171390615068565b60405180910390fd5b5f821161175e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611755906150d0565b60405180910390fd5b5f8473ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b815260040161179891906141dd565b602060405180830381865afa1580156117b3573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117d79190615102565b90508281101561181c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161181390615177565b60405180910390fd5b61184784848773ffffffffffffffffffffffffffffffffffffffff166135e69092919063ffffffff16565b8373ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff167fbfed55bdcd242e3dd0f60ddd7d1e87c67f61c34cd9527b3e6455d841b1025362856040516118a491906142bf565b60405180910390a3506118b5613665565b50505050565b5f60115f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b5f61190b82613146565b9050919050565b600d5481565b5f8073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361195d5761195c638f4eb60460e01b612fe4565b5b67ffffffffffffffff60055f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054169050919050565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c217756119d68161331f565b60135f9054906101000a900460ff1615611a25576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a1c90615205565b60405180910390fd5b600160135f6101000a81548160ff0219169083151502179055507f6f5ffb7e2a6656882126927a79e460ca27ab657927d593522b90dc28229f7dbc60405160405180910390a150565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c2177581565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c21775611abc8161331f565b81600e819055505050565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c21775611af18161331f565b611af9613597565b3073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611b67576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b5e90615293565b60405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff166342842e0e3033856040518463ffffffff1660e01b8152600401611ba4939291906152b1565b5f604051808303815f87803b158015611bbb575f80fd5b505af1158015611bcd573d5f803e3d5ffd5b505050508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f6a30e6784464f0d1f4158aa4cb65ae9239b0fa87c7f2c083ee6dde44ba97b5e684604051611c2e91906142bf565b60405180910390a3611c3e613665565b505050565b6010602052805f5260405f205f915054906101000a900460ff1681565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c21775611c8a8161331f565b60135f9054906101000a900460ff1615611cd9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611cd090614b2d565b60405180910390fd5b611ce161341d565b6bffffffffffffffffffffffff16826bffffffffffffffffffffffff161115611d3f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d3690615330565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611dad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611da4906153be565b60405180910390fd5b611db7838361366f565b8273ffffffffffffffffffffffffffffffffffffffff167f8039bd6e4e7dba001c8840eb2e118d9d131246faa7d0d04335f7305127ec0b1083604051611dfd91906153eb565b60405180910390a2505050565b5f60095f8481526020019081526020015f205f015f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16905092915050565b606060038054611e7d906149e8565b80601f0160208091040260200160405190810160405280929190818152602001828054611ea9906149e8565b8015611ef45780601f10611ecb57610100808354040283529160200191611ef4565b820191905f5260205f20905b815481529060010190602001808311611ed757829003601f168201915b5050505050905090565b5f60125f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b5f801b81565b8060075f611f56613278565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff16611fff613278565b73ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516120449190614097565b60405180910390a35050565b5f61205961380a565b905090565b60135f9054906101000a900460ff1681565b7f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a661209a8161331f565b5f73ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603612108576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016120ff9061544e565b60405180910390fd5b828061211a575061211884613851565b155b612159576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612150906154dc565b60405180910390fd5b5f821161219b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016121929061556a565b60405180910390fd5b600e548211156121e0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016121d7906155f8565b60405180910390fd5b61012c826121ec610d2f565b6121f69190615616565b111561220183613873565b61221161220c610d2f565b613873565b6040516020016122229291906156f5565b60405160208183030381529060405290612272576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016122699190614120565b60405180910390fd5b50821561228857612283848361393d565b612293565b612292848361395a565b5b50505050565b6122a4848484610d7a565b5f8373ffffffffffffffffffffffffffffffffffffffff163b146122e4576122ce84848484613ace565b6122e3576122e263d1a57ed660e01b612fe4565b5b5b50505050565b60606122f582612f41565b612334576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161232b9061578f565b60405180910390fd5b5f60148054612342906149e8565b80601f016020809104026020016040519081016040528092919081815260200182805461236e906149e8565b80156123b95780601f10612390576101008083540402835291602001916123b9565b820191905f5260205f20905b81548152906001019060200180831161239c57829003601f168201915b505050505090505f8151116123dc5760405180602001604052805f815250612407565b806123e684613873565b6040516020016123f79291906157f7565b6040516020818303038152906040525b915050919050565b600e5481565b5f600f5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff169050919050565b61246f613597565b60135f9054906101000a900460ff16156124be576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016124b59061586f565b60405180910390fd5b6124c733613851565b15612507576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016124fe906158d7565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141580156125895750600f5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff165b6125c8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016125bf9061593f565b60405180910390fd5b5f811180156125d95750600e548111155b612618576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161260f906159a7565b60405180910390fd5b61012c81612624610d2f565b61262e9190615616565b111561266f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161266690615a0f565b60405180910390fd5b5f60125f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205490505f60115f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205490508083836126fe9190615616565b111561273f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161273690615a77565b60405180910390fd5b828261274b9190615616565b60125f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055505f60105f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff1690505f81600a6127e79190615bc4565b600d546127f49190614a45565b90508573ffffffffffffffffffffffffffffffffffffffff166323b872dd333088856128209190614a45565b6040518463ffffffff1660e01b815260040161283e939291906152b1565b6020604051808303815f875af115801561285a573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061287e9190615c22565b50612889338661395a565b8573ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8fb72977005ad12e3af4d57698fc5b5038995285e781d25b8a26b25e999d5c23876128e1613bf8565b6128eb9190615c4d565b886040516128fa929190614298565b60405180910390a35050505061290e613665565b5050565b5f801b61291e8161331f565b6129487f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a683613426565b505050565b7f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a681565b61297a82611025565b6129838161331f565b61298d8383613426565b50505050565b601480546129a0906149e8565b80601f01602080910402602001604051908101604052809291908181526020018280546129cc906149e8565b8015612a175780601f106129ee57610100808354040283529160200191612a17565b820191905f5260205f20905b8154815290600101906020018083116129fa57829003601f168201915b505050505081565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c21775612a498161331f565b60135f9054906101000a900460ff1615612a98576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612a8f9061586f565b60405180910390fd5b8160115f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055508273ffffffffffffffffffffffffffffffffffffffff167f636953c95a1763898827482397dd06377dfa68588adbc113376847a925f64fbb83604051612b2091906142bf565b60405180910390a2505050565b600f602052805f5260405f205f915054906101000a900460ff1681565b5f60075f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16905092915050565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c21775612c028161331f565b60135f9054906101000a900460ff1615612c51576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612c4890614b2d565b60405180910390fd5b828290508585905014612c99576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612c9090615cca565b60405180910390fd5b5f5b85859050811015612dc357838382818110612cb957612cb8615ce8565b5b9050602002013560115f888885818110612cd657612cd5615ce8565b5b9050602002016020810190612ceb919061425e565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550858582818110612d3b57612d3a615ce8565b5b9050602002016020810190612d50919061425e565b73ffffffffffffffffffffffffffffffffffffffff167f636953c95a1763898827482397dd06377dfa68588adbc113376847a925f64fbb858584818110612d9a57612d99615ce8565b5b90506020020135604051612dae91906142bf565b60405180910390a28080600101915050612c9b565b505050505050565b7fa49807205ce4d355092ef5a8a18f56e8913cf4a201fbe287825b095693c21775612df58161331f565b60135f9054906101000a900460ff1615612e44576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612e3b90614b2d565b60405180910390fd5b5f8211612e86576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612e7d90615d5f565b60405180910390fd5b81600d819055507f525b762709cc2a983aec5ccdfd807a061f993c91090b5bcd7da92ca254976aaa82604051612ebc91906142bf565b60405180910390a15050565b5f7f2a55205a000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161480612f3a5750612f3982613c00565b5b9050919050565b5f81612f4b613116565b11612fde57612f5861311f565b821115612f8057612f7960045f8481526020019081526020015f2054613c79565b9050612fdf565b5f54821015612fdd575f5b5f60045f8581526020019081526020015f205491508103612fb75782612fb090615d7d565b9250612f8b565b5f7c01000000000000000000000000000000000000000000000000000000008216149150505b5b5b919050565b805f5260045ffd5b5f612ff683611901565b905081801561303857508073ffffffffffffffffffffffffffffffffffffffff1661301f613278565b73ffffffffffffffffffffffffffffffffffffffff1614155b156130645761304e81613049613278565b612b4a565b6130635761306263cfb3b94260e01b612fe4565b5b5b8360065f8581526020019081526020015f205f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550828473ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a450505050565b5f6103e9905090565b5f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff905090565b5f81613150613116565b1161323f5760045f8381526020019081526020015f2054905061317161311f565b8211156131965761318181613c79565b6132505761319563df2d9b4260e01b612fe4565b5b5f8103613217575f5482106131b6576131b563df2d9b4260e01b612fe4565b5b5b60045f836001900393508381526020019081526020015f205490505f810315613212575f7c0100000000000000000000000000000000000000000000000000000000821603156132505761321163df2d9b4260e01b612fe4565b5b6131b7565b5f7c010000000000000000000000000000000000000000000000000000000082160315613250575b61324f63df2d9b4260e01b612fe4565b5b919050565b5f805f60065f8581526020019081526020015f2090508092508254915050915091565b5f33905090565b5f73ffffffffffffffffffffffffffffffffffffffff8316925073ffffffffffffffffffffffffffffffffffffffff821691508382148383141790509392505050565b50505050565b5f8060e883901c905060e86132de868684613cb9565b62ffffff16901b9150509392505050565b5f73ffffffffffffffffffffffffffffffffffffffff83169250814260a01b178317905092915050565b50505050565b6133308161332b613510565b613cc1565b50565b5f61333e8383611e0a565b61341357600160095f8581526020019081526020015f205f015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055506133b0613510565b73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16847f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a460019050613417565b5f90505b92915050565b5f612710905090565b5f6134318383611e0a565b15613506575f60095f8581526020019081526020015f205f015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055506134a3613510565b73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16847ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a46001905061350a565b5f90505b92915050565b5f33905090565b5f8173ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa92505050801561358057506040513d601f19601f8201168201806040525081019061357d9190615102565b60015b61358c575f9050613592565b60019150505b919050565b6002600c54036135dc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016135d390615dee565b60405180910390fd5b6002600c81905550565b613660838473ffffffffffffffffffffffffffffffffffffffff1663a9059cbb85856040516024016136199291906143ec565b604051602081830303815290604052915060e01b6020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050613d12565b505050565b6001600c81905550565b5f61367861341d565b6bffffffffffffffffffffffff16905080826bffffffffffffffffffffffff1611156136dd5781816040517f6f483d090000000000000000000000000000000000000000000000000000000081526004016136d4929190615e3c565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361374d575f6040517fb6d9900a00000000000000000000000000000000000000000000000000000000815260040161374491906141dd565b60405180910390fd5b60405180604001604052808473ffffffffffffffffffffffffffffffffffffffff168152602001836bffffffffffffffffffffffff16815250600a5f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151815f0160146101000a8154816bffffffffffffffffffffffff02191690836bffffffffffffffffffffffff160217905550905050505050565b5f613813613116565b5f540390507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff61384161311f565b1461384e57600854810190505b90565b5f808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b60605f600161388184613dad565b0190505f8167ffffffffffffffff81111561389f5761389e614459565b5b6040519080825280601f01601f1916602001820160405280156138d15781602001600182028036833780820191505090505b5090505f82602001820190505b600115613932578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a858161392757613926614a86565b5b0494505f85036138de575b819350505050919050565b613956828260405180602001604052805f815250613efe565b5050565b5f805490505f82036139775761397663b562e8dd60e01b612fe4565b5b6139835f8483856132c2565b6139a1836139925f865f6132c8565b61399b85613f74565b176132ef565b60045f8381526020019081526020015f2081905550600160406001901b17820260055f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505f73ffffffffffffffffffffffffffffffffffffffff8473ffffffffffffffffffffffffffffffffffffffff161690505f8103613a5257613a51632e07630060e01b612fe4565b5b5f83830190505f839050613a6461311f565b600183031115613a7f57613a7e6381647e3a60e01b612fe4565b5b5b80835f7fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef5f80a4818160010191508103613a8057815f81905550505050613ac95f848385613319565b505050565b5f8373ffffffffffffffffffffffffffffffffffffffff1663150b7a02613af3613278565b8786866040518563ffffffff1660e01b8152600401613b159493929190615eb5565b6020604051808303815f875af1925050508015613b5057506040513d601f19601f82011682018060405250810190613b4d9190615f13565b60015b613ba5573d805f8114613b7e576040519150601f19603f3d011682016040523d82523d5f602084013e613b83565b606091505b505f815103613b9d57613b9c63d1a57ed660e01b612fe4565b5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050949350505050565b5f8054905090565b5f7f7965db0b000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161480613c725750613c7182613f83565b5b9050919050565b5f7c0100000000000000000000000000000000000000000000000000000000821673ffffffffffffffffffffffffffffffffffffffff8316119050919050565b5f9392505050565b613ccb8282611e0a565b613d0e5780826040517fe2517d3f000000000000000000000000000000000000000000000000000000008152600401613d05929190615f3e565b60405180910390fd5b5050565b5f8060205f8451602086015f885af180613d31576040513d5f823e3d81fd5b3d92505f519150505f8214613d4a576001811415613d65565b5f8473ffffffffffffffffffffffffffffffffffffffff163b145b15613da757836040517f5274afe7000000000000000000000000000000000000000000000000000000008152600401613d9e91906141dd565b60405180910390fd5b50505050565b5f805f90507a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008310613e09577a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008381613dff57613dfe614a86565b5b0492506040810190505b6d04ee2d6d415b85acef81000000008310613e46576d04ee2d6d415b85acef81000000008381613e3c57613e3b614a86565b5b0492506020810190505b662386f26fc100008310613e7557662386f26fc100008381613e6b57613e6a614a86565b5b0492506010810190505b6305f5e1008310613e9e576305f5e1008381613e9457613e93614a86565b5b0492506008810190505b6127108310613ec3576127108381613eb957613eb8614a86565b5b0492506004810190505b60648310613ee65760648381613edc57613edb614a86565b5b0492506002810190505b600a8310613ef5576001810190505b80915050919050565b613f08838361395a565b5f8373ffffffffffffffffffffffffffffffffffffffff163b14613f6f575f805490505f83820390505b613f445f868380600101945086613ace565b613f5957613f5863d1a57ed660e01b612fe4565b5b818110613f3257815f5414613f6c575f80fd5b50505b505050565b5f6001821460e11b9050919050565b5f7f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b5f604051905090565b5f80fd5b5f80fd5b5f7fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61403181613ffd565b811461403b575f80fd5b50565b5f8135905061404c81614028565b92915050565b5f6020828403121561406757614066613ff5565b5b5f6140748482850161403e565b91505092915050565b5f8115159050919050565b6140918161407d565b82525050565b5f6020820190506140aa5f830184614088565b92915050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f6140f2826140b0565b6140fc81856140ba565b935061410c8185602086016140ca565b614115816140d8565b840191505092915050565b5f6020820190508181035f83015261413881846140e8565b905092915050565b5f819050919050565b61415281614140565b811461415c575f80fd5b50565b5f8135905061416d81614149565b92915050565b5f6020828403121561418857614187613ff5565b5b5f6141958482850161415f565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6141c78261419e565b9050919050565b6141d7816141bd565b82525050565b5f6020820190506141f05f8301846141ce565b92915050565b6141ff816141bd565b8114614209575f80fd5b50565b5f8135905061421a816141f6565b92915050565b5f806040838503121561423657614235613ff5565b5b5f6142438582860161420c565b92505060206142548582860161415f565b9150509250929050565b5f6020828403121561427357614272613ff5565b5b5f6142808482850161420c565b91505092915050565b61429281614140565b82525050565b5f6040820190506142ab5f830185614289565b6142b86020830184614289565b9392505050565b5f6020820190506142d25f830184614289565b92915050565b5f805f606084860312156142ef576142ee613ff5565b5b5f6142fc8682870161420c565b935050602061430d8682870161420c565b925050604061431e8682870161415f565b9150509250925092565b5f819050919050565b61433a81614328565b8114614344575f80fd5b50565b5f8135905061435581614331565b92915050565b5f602082840312156143705761436f613ff5565b5b5f61437d84828501614347565b91505092915050565b61438f81614328565b82525050565b5f6020820190506143a85f830184614386565b92915050565b5f80604083850312156143c4576143c3613ff5565b5b5f6143d18582860161415f565b92505060206143e28582860161415f565b9150509250929050565b5f6040820190506143ff5f8301856141ce565b61440c6020830184614289565b9392505050565b5f806040838503121561442957614428613ff5565b5b5f61443685828601614347565b92505060206144478582860161420c565b9150509250929050565b5f80fd5b5f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61448f826140d8565b810181811067ffffffffffffffff821117156144ae576144ad614459565b5b80604052505050565b5f6144c0613fec565b90506144cc8282614486565b919050565b5f67ffffffffffffffff8211156144eb576144ea614459565b5b6144f4826140d8565b9050602081019050919050565b828183375f83830152505050565b5f61452161451c846144d1565b6144b7565b90508281526020810184848401111561453d5761453c614455565b5b614548848285614501565b509392505050565b5f82601f83011261456457614563614451565b5b813561457484826020860161450f565b91505092915050565b5f6020828403121561459257614591613ff5565b5b5f82013567ffffffffffffffff8111156145af576145ae613ff9565b5b6145bb84828501614550565b91505092915050565b5f60ff82169050919050565b6145d9816145c4565b82525050565b5f6020820190506145f25f8301846145d0565b92915050565b5f6bffffffffffffffffffffffff82169050919050565b614618816145f8565b8114614622575f80fd5b50565b5f813590506146338161460f565b92915050565b5f806040838503121561464f5761464e613ff5565b5b5f61465c8582860161420c565b925050602061466d85828601614625565b9150509250929050565b6146808161407d565b811461468a575f80fd5b50565b5f8135905061469b81614677565b92915050565b5f80604083850312156146b7576146b6613ff5565b5b5f6146c48582860161420c565b92505060206146d58582860161468d565b9150509250929050565b5f805f606084860312156146f6576146f5613ff5565b5b5f6147038682870161420c565b93505060206147148682870161468d565b92505060406147258682870161415f565b9150509250925092565b5f67ffffffffffffffff82111561474957614748614459565b5b614752826140d8565b9050602081019050919050565b5f61477161476c8461472f565b6144b7565b90508281526020810184848401111561478d5761478c614455565b5b614798848285614501565b509392505050565b5f82601f8301126147b4576147b3614451565b5b81356147c484826020860161475f565b91505092915050565b5f805f80608085870312156147e5576147e4613ff5565b5b5f6147f28782880161420c565b94505060206148038782880161420c565b93505060406148148782880161415f565b925050606085013567ffffffffffffffff81111561483557614834613ff9565b5b614841878288016147a0565b91505092959194509250565b5f806040838503121561486357614862613ff5565b5b5f6148708582860161420c565b92505060206148818582860161420c565b9150509250929050565b5f80fd5b5f80fd5b5f8083601f8401126148a8576148a7614451565b5b8235905067ffffffffffffffff8111156148c5576148c461488b565b5b6020830191508360208202830111156148e1576148e061488f565b5b9250929050565b5f8083601f8401126148fd576148fc614451565b5b8235905067ffffffffffffffff81111561491a5761491961488b565b5b6020830191508360208202830111156149365761493561488f565b5b9250929050565b5f805f806040858703121561495557614954613ff5565b5b5f85013567ffffffffffffffff81111561497257614971613ff9565b5b61497e87828801614893565b9450945050602085013567ffffffffffffffff8111156149a1576149a0613ff9565b5b6149ad878288016148e8565b925092505092959194509250565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806149ff57607f821691505b602082108103614a1257614a116149bb565b5b50919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f614a4f82614140565b9150614a5a83614140565b9250828202614a6881614140565b91508282048414831517614a7f57614a7e614a18565b5b5092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f614abd82614140565b9150614ac883614140565b925082614ad857614ad7614a86565b5b828204905092915050565b7f47656e65736973476f643a20436f6e7472616374206973206c6f636b656400005f82015250565b5f614b17601e836140ba565b9150614b2282614ae3565b602082019050919050565b5f6020820190508181035f830152614b4481614b0b565b9050919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302614ba77fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82614b6c565b614bb18683614b6c565b95508019841693508086168417925050509392505050565b5f819050919050565b5f614bec614be7614be284614140565b614bc9565b614140565b9050919050565b5f819050919050565b614c0583614bd2565b614c19614c1182614bf3565b848454614b78565b825550505050565b5f90565b614c2d614c21565b614c38818484614bfc565b505050565b5b81811015614c5b57614c505f82614c25565b600181019050614c3e565b5050565b601f821115614ca057614c7181614b4b565b614c7a84614b5d565b81016020851015614c89578190505b614c9d614c9585614b5d565b830182614c3d565b50505b505050565b5f82821c905092915050565b5f614cc05f1984600802614ca5565b1980831691505092915050565b5f614cd88383614cb1565b9150826002028217905092915050565b614cf1826140b0565b67ffffffffffffffff811115614d0a57614d09614459565b5b614d1482546149e8565b614d1f828285614c5f565b5f60209050601f831160018114614d50575f8415614d3e578287015190505b614d488582614ccd565b865550614daf565b601f198416614d5e86614b4b565b5f5b82811015614d8557848901518255600182019150602085019450602081019050614d60565b86831015614da25784890151614d9e601f891682614cb1565b8355505b6001600288020188555050505b505050505050565b7f47656e65736973476f643a20496e76616c696420746f6b656e206164647265735f8201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b5f614e116021836140ba565b9150614e1c82614db7565b604082019050919050565b5f6020820190508181035f830152614e3e81614e05565b9050919050565b7f47656e65736973476f643a20496e76616c696420657263323020746f6b656e205f8201527f6164647265737300000000000000000000000000000000000000000000000000602082015250565b5f614e9f6027836140ba565b9150614eaa82614e45565b604082019050919050565b5f6020820190508181035f830152614ecc81614e93565b9050919050565b614edc816145c4565b8114614ee6575f80fd5b50565b5f81519050614ef781614ed3565b92915050565b5f60208284031215614f1257614f11613ff5565b5b5f614f1f84828501614ee9565b91505092915050565b7f47656e65736973476f643a20546f6b656e20646f6573206e6f7420737570706f5f8201527f727420646563696d616c73282900000000000000000000000000000000000000602082015250565b5f614f82602d836140ba565b9150614f8d82614f28565b604082019050919050565b5f6020820190508181035f830152614faf81614f76565b9050919050565b7f496e76616c696420746f6b656e206164647265737300000000000000000000005f82015250565b5f614fea6015836140ba565b9150614ff582614fb6565b602082019050919050565b5f6020820190508181035f83015261501781614fde565b9050919050565b7f496e76616c696420726563697069656e740000000000000000000000000000005f82015250565b5f6150526011836140ba565b915061505d8261501e565b602082019050919050565b5f6020820190508181035f83015261507f81615046565b9050919050565b7f416d6f756e74206d7573742062652067726561746572207468616e207a65726f5f82015250565b5f6150ba6020836140ba565b91506150c582615086565b602082019050919050565b5f6020820190508181035f8301526150e7816150ae565b9050919050565b5f815190506150fc81614149565b92915050565b5f6020828403121561511757615116613ff5565b5b5f615124848285016150ee565b91505092915050565b7f496e73756666696369656e7420636f6e74726163742062616c616e63650000005f82015250565b5f615161601d836140ba565b915061516c8261512d565b602082019050919050565b5f6020820190508181035f83015261518e81615155565b9050919050565b7f47656e65736973476f643a20436f6e747261637420697320616c7265616479205f8201527f6c6f636b65640000000000000000000000000000000000000000000000000000602082015250565b5f6151ef6026836140ba565b91506151fa82615195565b604082019050919050565b5f6020820190508181035f83015261521c816151e3565b9050919050565b7f47656e65736973476f643a2043616e6e6f74207265636f766572206f776e20745f8201527f6f6b656e73000000000000000000000000000000000000000000000000000000602082015250565b5f61527d6025836140ba565b915061528882615223565b604082019050919050565b5f6020820190508181035f8301526152aa81615271565b9050919050565b5f6060820190506152c45f8301866141ce565b6152d160208301856141ce565b6152de6040830184614289565b949350505050565b7f47656e65736973476f643a20526f79616c74792066656520746f6f20686967685f82015250565b5f61531a6020836140ba565b9150615325826152e6565b602082019050919050565b5f6020820190508181035f8301526153478161530e565b9050919050565b7f47656e65736973476f643a20496e76616c696420726f79616c747920726563655f8201527f6976657200000000000000000000000000000000000000000000000000000000602082015250565b5f6153a86024836140ba565b91506153b38261534e565b604082019050919050565b5f6020820190508181035f8301526153d58161539c565b9050919050565b6153e5816145f8565b82525050565b5f6020820190506153fe5f8301846153dc565b92915050565b7f47656e65736973476f643a20496e76616c696420726563697069656e740000005f82015250565b5f615438601d836140ba565b915061544382615404565b602082019050919050565b5f6020820190508181035f8301526154658161542c565b9050919050565b7f47656e65736973476f643a20556e73616665206d696e7420746f20636f6e74725f8201527f616374206e6f7420616c6c6f7765640000000000000000000000000000000000602082015250565b5f6154c6602f836140ba565b91506154d18261546c565b604082019050919050565b5f6020820190508181035f8301526154f3816154ba565b9050919050565b7f47656e65736973476f643a205175616e74697479206d757374206265206772655f8201527f61746572207468616e207a65726f000000000000000000000000000000000000602082015250565b5f615554602e836140ba565b915061555f826154fa565b604082019050919050565b5f6020820190508181035f83015261558181615548565b9050919050565b7f47656e65736973476f643a205175616e74697479206d75737420626520736d615f8201527f6c6c6572207468616e206d61784d696e7450657254786e000000000000000000602082015250565b5f6155e26037836140ba565b91506155ed82615588565b604082019050919050565b5f6020820190508181035f83015261560f816155d6565b9050919050565b5f61562082614140565b915061562b83614140565b925082820190508082111561564357615642614a18565b5b92915050565b7f5175616e74697479202800000000000000000000000000000000000000000000815250565b5f81905092915050565b5f615683826140b0565b61568d818561566f565b935061569d8185602086016140ca565b80840191505092915050565b7f29206578636565647320746f74616c537570706c792028000000000000000000815250565b7f2900000000000000000000000000000000000000000000000000000000000000815250565b5f6156ff82615649565b600a8201915061570f8285615679565b915061571a826156a9565b60178201915061572a8284615679565b9150615735826156cf565b6001820191508190509392505050565b7f47656e65736973476f643a20546f6b656e20646f6573206e6f742065786973745f82015250565b5f6157796020836140ba565b915061578482615745565b602082019050919050565b5f6020820190508181035f8301526157a68161576d565b9050919050565b7f2e6a736f6e0000000000000000000000000000000000000000000000000000005f82015250565b5f6157e160058361566f565b91506157ec826157ad565b600582019050919050565b5f6158028285615679565b915061580e8284615679565b9150615819826157d5565b91508190509392505050565b7f436f6e7472616374206973206c6f636b656400000000000000000000000000005f82015250565b5f6158596012836140ba565b915061586482615825565b602082019050919050565b5f6020820190508181035f8301526158868161584d565b9050919050565b7f436f6e7472616374206d696e74206e6f7420616c6c6f776564000000000000005f82015250565b5f6158c16019836140ba565b91506158cc8261588d565b602082019050919050565b5f6020820190508181035f8301526158ee816158b5565b9050919050565b7f556e737570706f7274656420746f6b656e0000000000000000000000000000005f82015250565b5f6159296011836140ba565b9150615934826158f5565b602082019050919050565b5f6020820190508181035f8301526159568161591d565b9050919050565b7f496e76616c6964206d696e74207175616e7469747900000000000000000000005f82015250565b5f6159916015836140ba565b915061599c8261595d565b602082019050919050565b5f6020820190508181035f8301526159be81615985565b9050919050565b7f45786365656473206d617820737570706c7900000000000000000000000000005f82015250565b5f6159f96012836140ba565b9150615a04826159c5565b602082019050919050565b5f6020820190508181035f830152615a26816159ed565b9050919050565b7f51756f74612065786365656465640000000000000000000000000000000000005f82015250565b5f615a61600e836140ba565b9150615a6c82615a2d565b602082019050919050565b5f6020820190508181035f830152615a8e81615a55565b9050919050565b5f8160011c9050919050565b5f808291508390505b6001851115615aea57808604811115615ac657615ac5614a18565b5b6001851615615ad55780820291505b8081029050615ae385615a95565b9450615aaa565b94509492505050565b5f82615b025760019050615bbd565b81615b0f575f9050615bbd565b8160018114615b255760028114615b2f57615b5e565b6001915050615bbd565b60ff841115615b4157615b40614a18565b5b8360020a915084821115615b5857615b57614a18565b5b50615bbd565b5060208310610133831016604e8410600b8410161715615b935782820a905083811115615b8e57615b8d614a18565b5b615bbd565b615ba08484846001615aa1565b92509050818404811115615bb757615bb6614a18565b5b81810290505b9392505050565b5f615bce82614140565b9150615bd9836145c4565b9250615c067fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484615af3565b905092915050565b5f81519050615c1c81614677565b92915050565b5f60208284031215615c3757615c36613ff5565b5b5f615c4484828501615c0e565b91505092915050565b5f615c5782614140565b9150615c6283614140565b9250828203905081811115615c7a57615c79614a18565b5b92915050565b7f47656e65736973476f643a204d69736d617463686564206c656e6774687300005f82015250565b5f615cb4601e836140ba565b9150615cbf82615c80565b602082019050919050565b5f6020820190508181035f830152615ce181615ca8565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f47656e65736973476f643a20496e76616c6964206d696e7420707269636500005f82015250565b5f615d49601e836140ba565b9150615d5482615d15565b602082019050919050565b5f6020820190508181035f830152615d7681615d3d565b9050919050565b5f615d8782614140565b91505f8203615d9957615d98614a18565b5b600182039050919050565b7f5265656e7472616e637947756172643a207265656e7472616e742063616c6c005f82015250565b5f615dd8601f836140ba565b9150615de382615da4565b602082019050919050565b5f6020820190508181035f830152615e0581615dcc565b9050919050565b5f615e26615e21615e1c846145f8565b614bc9565b614140565b9050919050565b615e3681615e0c565b82525050565b5f604082019050615e4f5f830185615e2d565b615e5c6020830184614289565b9392505050565b5f81519050919050565b5f82825260208201905092915050565b5f615e8782615e63565b615e918185615e6d565b9350615ea18185602086016140ca565b615eaa816140d8565b840191505092915050565b5f608082019050615ec85f8301876141ce565b615ed560208301866141ce565b615ee26040830185614289565b8181036060830152615ef48184615e7d565b905095945050505050565b5f81519050615f0d81614028565b92915050565b5f60208284031215615f2857615f27613ff5565b5b5f615f3584828501615eff565b91505092915050565b5f604082019050615f515f8301856141ce565b615f5e6020830184614386565b939250505056fea2646970667358221220297f4d4513d415970886e6e01c15be08f17400802387e2d2577f1da1ab57f59a64736f6c634300081a0033697066733a2f2f516d553633637a734c393434677848354d45347746436759475044735972673772426147706e36424e5763654e4b2f";function Gne(t){return`${t.slice(0,6)}...${t.slice(-4)}`}function Wne({addresses:t,onNewAddress:e}){const{data:n,isPending:r,status:s,deployContract:a}=kU(),{data:c,isSuccess:l}=b9({hash:n}),[u,d]=Qe.useState(null);Qe.useEffect(()=>{c!=null&&c.contractAddress&&!t.includes(c.contractAddress)&&e(c.contractAddress)},[c==null?void 0:c.contractAddress]);const p=async g=>{try{await navigator.clipboard.writeText(g),d(g),setTimeout(()=>d(null),1500)}catch(b){console.error(":",b)}};return et.jsxs(et.Fragment,{children:[et.jsx("button",{disabled:r,onClick:()=>{a({abi:lO,args:[],bytecode:Vne},{onSuccess(g){console.log("txn: ",g)},onError(g){console.log(g)}})},children:r?s:""}),l&&(c==null?void 0:c.contractAddress)&&et.jsxs("div",{className:"text-green-600",children:[" : ",c.contractAddress]}),savedAddresses.length>0&&et.jsxs("div",{children:[et.jsx("label",{className:"block mb-1 font-semibold",children:" "}),et.jsxs("select",{className:"w-full border rounded p-2",onChange:g=>p(g.target.value),children:[et.jsx("option",{value:"",children:""}),savedAddresses.map(g=>et.jsxs("option",{value:g,children:[Gne(g)," ",u===g&&"()"]},g))]})]})]})}function Kne({contractAddress:t,addresses:e,onSelectAddress:n}){const{data:r,isPending:s,writeContract:a}=BU(),c=OU(),{data:l,isSuccess:u}=b9({hash:r}),[d,p]=Qe.useState(c.address||""),[g,b]=Qe.useState(!1),[w,E]=Qe.useState(1),[v,_]=Qe.useState(""),T=S=>{if(S.preventDefault(),!t){_(" ");return}a({address:t,abi:lO,functionName:g?"safeMint":"mint",args:[d,BigInt(w)]})};return Qe.useEffect(()=>{u&&_(` Mint : ${r}`)},[u]),et.jsxs("form",{onSubmit:T,className:"space-y-4 p-4 bg-white rounded-xl shadow",children:[et.jsx("h2",{className:"text-xl font-bold",children:"Mint NFT"}),e.length>0&&et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),et.jsx("select",{value:t,onChange:S=>n(S.target.value),className:"w-full p-2 border rounded",children:e.map(S=>et.jsx("option",{value:S,children:S},S))})]}),et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),et.jsx("input",{type:"text",name:"recipient",className:"w-full p-2 border rounded",value:d,onChange:S=>p(S.target.value)})]}),et.jsxs("div",{className:"flex items-center space-x-2",children:[et.jsx("input",{type:"checkbox",name:"isSafe",checked:g,onChange:()=>b(!g)}),et.jsx("label",{className:"text-sm text-gray-700",children:" safeMint"})]}),et.jsxs("div",{children:[et.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),et.jsx("input",{name:"quantity",type:"number",min:1,className:"w-full p-2 border rounded",value:w.toString(),onChange:S=>E(Number(S.target.value))})]}),et.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:s?"Minting...":" Mint"}),v&&et.jsx("p",{className:"text-center text-green-600",children:v})]})}const Yne=new JR;function Zne(){const{themeMode:t}=qne();document.documentElement.className=t;const e=m9(),[n,r]=Qe.useState([]),[s,a]=Qe.useState("");Qe.useEffect(()=>{const l=localStorage.getItem(pS+"_"+e);if(l){const u=JSON.parse(l);r(u),a(u[0]||"")}},[e]);const c=l=>{const u=[l,...n.filter(d=>d!==l)];r(u),a(l),localStorage.setItem(pS+"_"+e,JSON.stringify(u))};return et.jsx(bU,{config:fO.wagmiConfig,children:et.jsx(sx,{client:Yne,children:et.jsxs("div",{className:"page-container",children:[et.jsx("h1",{className:"page-title",children:"LRGG Managing"}),et.jsxs("div",{className:"appkit-buttons-container",children:[et.jsx("appkit-button",{}),et.jsx("appkit-network-button",{}),et.jsx(Wne,{addresses:n,onNewAddress:c})]}),et.jsx("div",{className:"appkit-buttons-container",children:et.jsx(Kne,{contractAddress:s,addresses:n,onSelectAddress:a})})]})})})}kR.createRoot(document.getElementById("app")).render(et.jsx(IR.StrictMode,{children:et.jsx(Zne,{})}));export{mse as $,Te as A,v9 as B,t0 as C,je as D,Id as E,ys as F,zt as G,VA as H,Qn as I,fr as J,gre as K,Me as L,tn as M,nM as N,fe as O,mre as P,vd as Q,ct as R,hi as S,Sr as T,pn as U,Ds as V,Ln as W,Da as X,aM as Y,Ot as Z,ir as _,tl as a,H6 as a0,f1 as a1,Od as a2,Dl as a3,dse as a4,On as a5,hse as a6,JN as a7,V6 as a8,xl as a9,Z6 as aA,m1 as aB,X1 as aC,fre as aD,ore as aE,cP as aF,Xz as aG,Yre as aH,H3 as aI,lT as aJ,Fz as aK,Jz as aL,Zre as aM,Kre as aN,lg as aO,Xre as aP,Qre as aQ,iU as aR,TS as aS,TM as aT,ai as aU,rU as aV,b1 as aa,pw as ab,go as ac,sre as ad,ng as ae,gw as af,rre as ag,nre as ah,l4 as ai,Z1 as aj,p1 as ak,xx as al,Ux as am,lre as an,CD as ao,ue as ap,sw as aq,ms as ar,SD as as,n$ as at,J4 as au,yl as av,_d as aw,po as ax,t4 as ay,are as az,u1 as b,hre as c,Ce as d,Yi as e,cn as f,Qo as g,de as h,sg as i,De as j,L as k,jt as l,Us as m,nt as n,gse as o,Gr as p,ke as q,pse as r,Lt as s,dne as t,or as u,hne as v,ye as w,use as x,Tn as y,bt as z};
